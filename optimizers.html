
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Optimization &#8212; Tyche 1.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="User Interface" href="user-interface.html" />
    <link rel="prev" title="Mathematical Formulation" href="formulation.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="optimization">
<span id="sec-optimizers"></span><h1>Optimization<a class="headerlink" href="#optimization" title="Permalink to this headline">¶</a></h1>
<div class="section" id="nonlinear-programming-formulation">
<h2>Nonlinear Programming Formulation<a class="headerlink" href="#nonlinear-programming-formulation" title="Permalink to this headline">¶</a></h2>
<p>Three methods in the <code class="docutils literal notranslate"><span class="pre">EpsilonConstraintOptimizer</span></code> class, <code class="docutils literal notranslate"><span class="pre">opt_slsqp</span></code>, <code class="docutils literal notranslate"><span class="pre">opt_shgo</span></code> and <code class="docutils literal notranslate"><span class="pre">opt_diffev</span></code>, are
wrappers for optimization algorithm calls. (The <a class="reference internal" href="tyche.html#sec-epsconstraint"><span class="std std-ref">tyche.EpsilonConstraints module</span></a> section provides full parameter and return value information for these methods.) The optimization methods define the optimization problem according to each algorithm’s requirements, call the algorithm, and provide either optimized results in a standard format for postprocessing, or an error messages if the optimization did not complete successfully. The SLSQP algorithm, which is not a global optimizer, is provided to assess problem feasibility and provide reasonable upper and lower bounds on metrics being optimized. Because the technology models within an R&amp;D decision context may be arbitrarily complex, two global optimization algorithms were also implemented. The global algorithms were chosen according to the following criteria.</p>
<ul class="simple">
<li>Ability to perform constrained optimization with inequality constraints, for instance on metric values or investment amounts.</li>
<li>Ability to optimize without specified Jacobian or Hessian functions (derivative-less optimization).</li>
<li>Ability to specify bounds on individual decision variables, which allows constraints on single research areas.</li>
<li>Ability to work on a variety of potentially non-convex and otherwise complex problems.</li>
</ul>
<div class="section" id="algorithm-testing">
<h3>Algorithm Testing<a class="headerlink" href="#algorithm-testing" title="Permalink to this headline">¶</a></h3>
<p>As a point of comparison between algorithms, the <a class="reference internal" href="technology.html#sec-simplerespv"><span class="std std-ref">Simple Residential Photovoltaics</span></a> decision context was optimized for minimum levelized cost of electricity (LCOE) subject to an investment constraint and a metric constraint (GHG). The solutions are given in <a class="reference internal" href="#tbl-algoperformance"><span class="std std-numref">Table 15</span></a>. The solve times listed are in addition to the time required to set up the problem and solve for the optimum metric values; this procedure currently uses the SLSQP algorithm by default. This setup time is between 10 and 15 seconds.</p>
<span id="tbl-algoperformance"></span><table border="1" class="docutils" id="table-1">
<caption><span class="caption-number">Table 15 </span><span class="caption-text">Minimizing LCOE subject to a total investment amount of $3 MM USD and GHG being at least 40.</span><a class="headerlink" href="#table-1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="28%" />
<col width="30%" />
<col width="25%" />
<col width="18%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Algorithm</th>
<th class="head">Objective Function Value</th>
<th class="head">GHG Constraint Value</th>
<th class="head">Solve Time (s)</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Differential evolution</td>
<td>0.037567</td>
<td>41.699885</td>
<td>145</td>
</tr>
<tr class="row-odd"><td>Differential evolution</td>
<td>0.037547</td>
<td>41.632867</td>
<td>589</td>
</tr>
<tr class="row-even"><td>SLSQP</td>
<td>0.037712</td>
<td>41.969348</td>
<td>~ 2</td>
</tr>
<tr class="row-odd"><td>SHGO</td>
<td>None found</td>
<td>None found</td>
<td>None found</td>
</tr>
</tbody>
</table>
<p>Additional details for each solution are given below under the section for the corresponding algorithm.</p>
</div>
</div>
<div class="section" id="sequential-least-squares-programming-slsqp">
<h2>Sequential Least Squares Programming (SLSQP)<a class="headerlink" href="#sequential-least-squares-programming-slsqp" title="Permalink to this headline">¶</a></h2>
<p>The Sequential Least Squares Programming algorithm uses a gradient search method to locate a possibly local optimum. [6] A complete list of parameters and options for the <code class="docutils literal notranslate"><span class="pre">fmin_slsqp</span></code> algorithm is available in the  <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.fmin_slsqp.html">scipy.optimize.fmin_slsqp</a> documentation.</p>
<p>Constraints for <code class="docutils literal notranslate"><span class="pre">fmin_slsqp</span></code> are defined either as a single function that takes as input a vector of decision variable values and returns an array containing the value of all constraints in the problem simultaneously. Both equality and inequality constraints can be defined, although they must be as separate functions and are provided to the <code class="docutils literal notranslate"><span class="pre">fmin_slsqp</span></code> algorithm under separate arguments.</p>
<div class="section" id="slsqp-solution-to-simple-residential-photovoltaics">
<h3>SLSQP Solution to Simple Residential Photovoltaics<a class="headerlink" href="#slsqp-solution-to-simple-residential-photovoltaics" title="Permalink to this headline">¶</a></h3>
<p>Solve time: 1.5 s</p>
<span id="tbl-slsqpvars"></span><table border="1" class="docutils" id="table-2">
<caption><span class="caption-number">Table 16 </span><span class="caption-text">Optimal decision variables found by the SLSQP algorithm.</span><a class="headerlink" href="#table-2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="53%" />
<col width="47%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Decision Variable</th>
<th class="head">Optimized Value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>BoS R&amp;D</td>
<td>1.25 E-04</td>
</tr>
<tr class="row-odd"><td>Inverter R&amp;D</td>
<td>3.64 E-08</td>
</tr>
<tr class="row-even"><td>Module R&amp;D</td>
<td>3.00 E+06</td>
</tr>
</tbody>
</table>
<span id="tbl-slsqpmetrics"></span><table border="1" class="docutils" id="table-3">
<caption><span class="caption-number">Table 17 </span><span class="caption-text">Optimal system metrics found by the SLSQP algorithm.</span><a class="headerlink" href="#table-3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="46%" />
<col width="54%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">System Metric</th>
<th class="head">Optimized Value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GHG</td>
<td>41.97</td>
</tr>
<tr class="row-odd"><td>LCOE</td>
<td>0.038</td>
</tr>
<tr class="row-even"><td>Labor</td>
<td>0.032</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="differential-evolution">
<h2>Differential Evolution<a class="headerlink" href="#differential-evolution" title="Permalink to this headline">¶</a></h2>
<p>Differential evolution is one type of evolutionary algorithm that iteratively improves on an initial population, or set of potential solutions. [5] Differential evolution is well-suited to searching large solution spaces with multiple local minima, but does not guarantee convergence to the global minimum. A complete list of parameters and options for the <cite>differential_evolution</cite> algorithm is available in the <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.differential_evolution.html">scipy.optimize.differential_evolution</a> documentation.</p>
<p>Constraints for <cite>differential_evolution</cite> are defined by passing the same multi-valued function defined in <cite>opt_slsqp</cite> to the <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.NonlinearConstraint.html">NonlinearConstraint</a> method.</p>
<div class="section" id="differential-evolution-solutions-to-simple-residential-photovoltaics">
<h3>Differential Evolution Solutions to Simple Residential Photovoltaics<a class="headerlink" href="#differential-evolution-solutions-to-simple-residential-photovoltaics" title="Permalink to this headline">¶</a></h3>
<p>Differential evolution stochastically populates the initial set of potential solutions, and so the optimal solution and solve time may vary with the random seed used.</p>
<div class="section" id="solution-1">
<h4>Solution 1<a class="headerlink" href="#solution-1" title="Permalink to this headline">¶</a></h4>
<p>Starting with a random seed of 2, the solution time was 145 seconds.</p>
<span id="tbl-diffevvars1"></span><table border="1" class="docutils" id="table-4">
<caption><span class="caption-number">Table 18 </span><span class="caption-text">Optimal decision variables found by the differential evolution algorithm with a seed of 2.</span><a class="headerlink" href="#table-4" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="53%" />
<col width="47%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Decision Variable</th>
<th class="head">Optimized Value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>BoS R&amp;D</td>
<td>9.62 E+02</td>
</tr>
<tr class="row-odd"><td>Inverter R&amp;D</td>
<td>5.33 E+02</td>
</tr>
<tr class="row-even"><td>Module R&amp;D</td>
<td>2.99 E+06</td>
</tr>
</tbody>
</table>
<span id="tbl-diffevmetrics1"></span><table border="1" class="docutils" id="table-5">
<caption><span class="caption-number">Table 19 </span><span class="caption-text">Optimal system metrics found by the differential evolution algorithm with a seed of 2.</span><a class="headerlink" href="#table-5" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="46%" />
<col width="54%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">System Metric</th>
<th class="head">Optimized Value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GHG</td>
<td>41.70</td>
</tr>
<tr class="row-odd"><td>LCOE</td>
<td>0.038</td>
</tr>
<tr class="row-even"><td>Labor</td>
<td>-0.456</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="solution-2">
<h4>Solution 2<a class="headerlink" href="#solution-2" title="Permalink to this headline">¶</a></h4>
<p>Starting with a random seed of 1, the solution time was 589 seconds.</p>
<span id="tbl-diffevvars2"></span><table border="1" class="docutils" id="table-6">
<caption><span class="caption-number">Table 20 </span><span class="caption-text">Optimal decision variables found by <cite>differential_evolution</cite> as called by <cite>EpsilonConstraints.opt_diffev</cite> with a seed of 1.</span><a class="headerlink" href="#table-6" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="53%" />
<col width="47%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Decision Variable</th>
<th class="head">Optimized Value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>BoS R&amp;D</td>
<td>4.70 E+03</td>
</tr>
<tr class="row-odd"><td>Inverter R&amp;D</td>
<td>3.71 E+02</td>
</tr>
<tr class="row-even"><td>Module R&amp;D</td>
<td>2.99 E+06</td>
</tr>
</tbody>
</table>
<span id="tbl-diffevmetrics2"></span><table border="1" class="docutils" id="table-7">
<caption><span class="caption-number">Table 21 </span><span class="caption-text">Optimal system metrics found by <cite>differential_evolution</cite> as called by <cite>EpsilonConstraints.opt_diffev</cite> with a seed of 1.</span><a class="headerlink" href="#table-7" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="46%" />
<col width="54%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">System Metric</th>
<th class="head">Optimized Value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GHG</td>
<td>41.63</td>
</tr>
<tr class="row-odd"><td>LCOE</td>
<td>0.037</td>
</tr>
<tr class="row-even"><td>Labor</td>
<td>-2.29</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="simplicial-homology-global-optimization">
<h2>Simplicial Homology Global Optimization<a class="headerlink" href="#simplicial-homology-global-optimization" title="Permalink to this headline">¶</a></h2>
<p>The Simplicial Homology Global Optimization (SHGO) algorithm applies simplicial homology to general non-linear, low-dimensional optimization problems. [4] Constraints for <cite>shgo</cite> must be provided as a dictionary or sequence of
dictionaries with the following format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">constraints</span> <span class="o">=</span> <span class="p">[</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;ineq&#39;</span><span class="p">,</span> <span class="s1">&#39;fun&#39;</span><span class="p">:</span> <span class="n">g1</span><span class="p">(</span><span class="n">x</span><span class="p">)},</span>
                <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;ineq&#39;</span><span class="p">,</span> <span class="s1">&#39;fun&#39;</span><span class="p">:</span> <span class="n">g2</span><span class="p">(</span><span class="n">x</span><span class="p">)},</span>
                <span class="o">...</span>
                <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;eq&#39;</span><span class="p">,</span> <span class="s1">&#39;fun&#39;</span><span class="p">:</span> <span class="n">h1</span><span class="p">(</span><span class="n">x</span><span class="p">)},</span>
                <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;eq&#39;</span><span class="p">,</span> <span class="s1">&#39;fun&#39;</span><span class="p">:</span> <span class="n">h2</span><span class="p">(</span><span class="n">x</span><span class="p">)},</span>
                <span class="o">...</span> <span class="p">]</span>
</pre></div>
</div>
<p>Each of the constraint functions <cite>g1(x)</cite>, <cite>h1(x)</cite>, and so on are functions that take decision variable values as inputs and return the value of the constraint. Inequality constraints (<cite>g1(x)</cite> and <cite>g2(x)</cite> above) are formulated as <span class="math notranslate nohighlight">\(g(x) \geq 0\)</span> and equality constraints (<cite>h1(x)</cite> and <cite>h2(x)</cite> above) are formulated as <span class="math notranslate nohighlight">\(h(x) = 0\)</span>. Each constraint in the optimization problem is defined as a separate function, with a separate dictionary giving the constraint type. With <cite>shgo</cite> it is not possible to use one function that returns a vector of constraint values.</p>
</div>
<div class="section" id="piecewise-linear-milp-formulation">
<h2>Piecewise Linear (MILP) Formulation<a class="headerlink" href="#piecewise-linear-milp-formulation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="notation">
<h3>Notation<a class="headerlink" href="#notation" title="Permalink to this headline">¶</a></h3>
<span id="tbl-milpindex"></span><table border="1" class="docutils" id="table-8">
<caption><span class="caption-number">Table 22 </span><span class="caption-text">Index definitions for the MILP formulation.</span><a class="headerlink" href="#table-8" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="14%" />
<col width="86%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Index</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><span class="math notranslate nohighlight">\(I\)</span></td>
<td>Number of elicited data points (investment levels and metrics)</td>
</tr>
<tr class="row-odd"><td><span class="math notranslate nohighlight">\(J\)</span></td>
<td>Number of investment categories</td>
</tr>
<tr class="row-even"><td><span class="math notranslate nohighlight">\(K\)</span></td>
<td>Number of metrics</td>
</tr>
</tbody>
</table>
<span id="tbl-milpdat"></span><table border="1" class="docutils" id="table-9">
<caption><span class="caption-number">Table 23 </span><span class="caption-text">Data definitions for the MILP formulation.</span><a class="headerlink" href="#table-9" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="12%" />
<col width="34%" />
<col width="55%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Data</th>
<th class="head">Notation</th>
<th class="head">Information</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Investment amounts</td>
<td><span class="math notranslate nohighlight">\(c_{ij}, i \in \{1, ..., I\}\)</span></td>
<td><span class="math notranslate nohighlight">\(c_i\)</span> is a point in <span class="math notranslate nohighlight">\(J\)</span>-dimensional space</td>
</tr>
<tr class="row-odd"><td>Metric value</td>
<td><span class="math notranslate nohighlight">\(q_{ik}, i \in \{1, ..., I \}, k \in \{1, ..., K \}\)</span></td>
<td>One metric will form the objective function, leaving up to <span class="math notranslate nohighlight">\(K-1\)</span> metrics for constraints</td>
</tr>
</tbody>
</table>
<span id="tbl-milpvar"></span><table border="1" class="docutils" id="table-10">
<caption><span class="caption-number">Table 24 </span><span class="caption-text">Variable definitions for the MILP formulation.</span><a class="headerlink" href="#table-10" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="12%" />
<col width="29%" />
<col width="59%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Variable</th>
<th class="head">Notation</th>
<th class="head">Information</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Binary variables</td>
<td><span class="math notranslate nohighlight">\(y_{ii'}, i, i' \in \{1, ..., I\}, i' &gt; i\)</span></td>
<td>Number of linear intervals between elicited data points.</td>
</tr>
<tr class="row-odd"><td>Combination variables</td>
<td><span class="math notranslate nohighlight">\(\lambda_{i}, i \in \{1, ..., I\}\)</span></td>
<td>Used to construct linear combinations of elicited data points. <span class="math notranslate nohighlight">\(\lambda_{i} \geq 0 \forall i\)</span></td>
</tr>
</tbody>
</table>
<p>Each metric and investment amount can be written as a linear combination of elicited data points and the newly introduced variables <span class="math notranslate nohighlight">\(\lambda_{i}\)</span> and <span class="math notranslate nohighlight">\(y_{ii'}\)</span>. Additional constraints on <span class="math notranslate nohighlight">\(y_{ii'}\)</span> and <span class="math notranslate nohighlight">\(\lambda_{i}\)</span> take care of the piecewise linearity by ensuring that the corners used to calculate <span class="math notranslate nohighlight">\(q_k\)</span> reflect the interval that <span class="math notranslate nohighlight">\(c_i\)</span> is in. There will be a total of <span class="math notranslate nohighlight">\(\binom{I}{2}\)</span> binary <span class="math notranslate nohighlight">\(y\)</span> variables, which reduces to <span class="math notranslate nohighlight">\(\frac{I(I-1)}{2}\)</span> binary variables.</p>
</div>
<div class="section" id="one-investment-category-one-metric-example">
<h3>One-Investment-Category, One-Metric Example<a class="headerlink" href="#one-investment-category-one-metric-example" title="Permalink to this headline">¶</a></h3>
<p>Suppose we have an elicited data set for one metric (<span class="math notranslate nohighlight">\(K = 1\)</span>) and one investment category (<span class="math notranslate nohighlight">\(J = 1\)</span>) with three possible investment levels (<span class="math notranslate nohighlight">\(I = 3\)</span>). We can write the total investment amount as a linear combination of the three investment levels <span class="math notranslate nohighlight">\(c_{i1}, i \in \{1, 2, 3\}\)</span>, using the <span class="math notranslate nohighlight">\(\lambda\)</span> variables:</p>
<p><span class="math notranslate nohighlight">\(\lambda_{1}c_{11} + \lambda_{2}c_{21} + \lambda_{13}c_{31} = \sum_{i} \lambda_{i}c_{i1}\)</span></p>
<p>We can likewise write the metric as a linear combination of <span class="math notranslate nohighlight">\(q_{1i}\)</span> and the <span class="math notranslate nohighlight">\(\lambda\)</span> variables:</p>
<p><span class="math notranslate nohighlight">\(\lambda_{1}q_{11} + \lambda_{2}q_{21} + \lambda_{3}q_{31} = \sum_{i} \lambda_{i}q_{i1}\)</span></p>
<p>We have the additional constraint on the <span class="math notranslate nohighlight">\(\lambda\)</span> variables that</p>
<p><span class="math notranslate nohighlight">\(\sum_{i} \lambda_{i} = 1\)</span></p>
<p>These equations, combined with the integer variables <span class="math notranslate nohighlight">\(y_{ii'} = \{ y_{12}, y_{13}, y_{23} \}\)</span>, can be used to construct a mixed-integer linear optimization problem.</p>
<p>The MILP that uses this formulation to minimize a technology metric subject to a investment budget <span class="math notranslate nohighlight">\(B\)</span> is as follows:</p>
<p><span class="math notranslate nohighlight">\(\min_{y, \lambda} \lambda_{1}q_{11} + \lambda_{2}q_{21} + \lambda_{3}q_{31}\)</span></p>
<p>subject to</p>
<p><span class="math notranslate nohighlight">\(\lambda_{1}c_{11} + \lambda_{2}c_{21} + \lambda_{3}c_{31} \leq B\)</span> , (1) Total budget constraint</p>
<p><span class="math notranslate nohighlight">\(\lambda_1 + \lambda_2 + \lambda_3 = 1\)</span> , (2)</p>
<p><span class="math notranslate nohighlight">\(y_{12} + y_{23} + y_{13} = 1\)</span> , (3)</p>
<p><span class="math notranslate nohighlight">\(y_{12} \leq \lambda_1 + \lambda_2\)</span> , (4)</p>
<p><span class="math notranslate nohighlight">\(y_{23} \leq \lambda_2 + \lambda_3\)</span> , (5)</p>
<p><span class="math notranslate nohighlight">\(y_{13} \leq \lambda_1 + \lambda_3\)</span> , (6)</p>
<p><span class="math notranslate nohighlight">\(0 \leq \lambda_1, \lambda_2, \lambda_3 \leq 1\)</span> , (7)</p>
<p><span class="math notranslate nohighlight">\(y_{12}, y_{23}, y_{13} \in \{ 0, 1 \}\)</span> , (8)</p>
<p>(We’ve effectively removed the investments and the metrics as variables, replacing them with the elicited data points and the new <span class="math notranslate nohighlight">\(\lambda\)</span> and <span class="math notranslate nohighlight">\(y\)</span> variables.)</p>
</div>
<div class="section" id="extension-to-n-x-n-problem">
<h3>Extension to N x N Problem<a class="headerlink" href="#extension-to-n-x-n-problem" title="Permalink to this headline">¶</a></h3>
<p>Note: <span class="math notranslate nohighlight">\(k'\)</span> indicates the metric which is being constrained. <span class="math notranslate nohighlight">\(k*\)</span> indicates the metric being optimized. <span class="math notranslate nohighlight">\(J'\)</span> indicates the set of investment categories which have a budget limit (there may be more than one budget-constrained category in a problem).</p>
<p><strong>No metric constraint or investment category-specific budget constraint</strong></p>
<p><span class="math notranslate nohighlight">\(\min_{y, \lambda} \sum_i \lambda_{i}q_{ik*}\)</span></p>
<p>subject to</p>
<p><span class="math notranslate nohighlight">\(\sum_i \sum_j \lambda_{i}c_{ij} \leq B\)</span> , (1) Total budget constraint</p>
<p><span class="math notranslate nohighlight">\(\sum_i \lambda_i = 1\)</span> , (2)</p>
<p><span class="math notranslate nohighlight">\(\sum_{i,i'} y_{ii'} = 1\)</span> , (3)</p>
<p><span class="math notranslate nohighlight">\(y_{ii'} \leq \lambda_i + \lambda_{i'} \forall i, i'\)</span> , (4)</p>
<p><span class="math notranslate nohighlight">\(0 \leq \lambda_i \leq 1 \forall i\)</span> , (5)</p>
<p><span class="math notranslate nohighlight">\(y_{ii'} \in \{ 0, 1 \} \forall i, i'\)</span> , (6)</p>
<p><strong>With investment category-specific budget constraint</strong></p>
<p><span class="math notranslate nohighlight">\(\min_{y, \lambda} \sum_i \lambda_{i}q_{ik*}\)</span></p>
<p>subject to</p>
<p><span class="math notranslate nohighlight">\(\sum_i \sum_j \lambda_{i}c_{ij} \leq B\)</span> , (1) Total budget constraint</p>
<p><span class="math notranslate nohighlight">\(\sum_i \lambda_{i}c_{ij'} \leq B_{j'} \forall j' \in J'\)</span>,   (2) Investment category budget constraint(s)</p>
<p><span class="math notranslate nohighlight">\(\sum_i \lambda_i = 1\)</span> , (3)</p>
<p><span class="math notranslate nohighlight">\(\sum_{i,i'} y_{ii'} = 1\)</span> , (4)</p>
<p><span class="math notranslate nohighlight">\(y_{ii'} \leq \lambda_i + \lambda_{i'} \forall i, i'\)</span> , (5)</p>
<p><span class="math notranslate nohighlight">\(0 \leq \lambda_i \leq 1 \forall i\)</span> , (6)</p>
<p><span class="math notranslate nohighlight">\(y_{ii'} \in \{ 0, 1 \} \forall i, i'\)</span> , (7)</p>
<p><strong>With metric constraint and investment category-specific budget constraint</strong></p>
<p><span class="math notranslate nohighlight">\(\min_{y, \lambda} \sum_i \lambda_{i}q_{ik*}\)</span></p>
<p>subject to</p>
<p><span class="math notranslate nohighlight">\(\sum_i \sum_j \lambda_{i}c_{ij} \leq B\)</span>, (1) Total budget constraint</p>
<p><span class="math notranslate nohighlight">\(\sum_i \lambda_{i}c_{ij'} \leq B_{j'} \forall j' \in J'\)</span>   (2) Investment category budget constraint(s)</p>
<p><span class="math notranslate nohighlight">\(\sum_i \lambda_{i}q_{ik'} \leq M_{k'}\)</span> , (3) Metric constraint</p>
<p><span class="math notranslate nohighlight">\(\sum_i \lambda_i = 1\)</span> , (4)</p>
<p><span class="math notranslate nohighlight">\(\sum_{i,i'} y_{ii'} = 1\)</span> , (5)</p>
<p><span class="math notranslate nohighlight">\(y_{ii'} \leq \lambda_i + \lambda_{i'} \forall i, i'\)</span> , (6)</p>
<p><span class="math notranslate nohighlight">\(0 \leq \lambda_i \leq 1 \forall i\)</span> , (7)</p>
<p><span class="math notranslate nohighlight">\(y_{ii'} \in \{ 0, 1 \} \forall i, i'\)</span> , (8)</p>
<p><strong>Problem Size</strong></p>
<p>In general, <span class="math notranslate nohighlight">\(I\)</span> is the number of rows in the dataset of elicited data. In the case that all investment categories have elicited data at the same number of levels (not necessarily the same levels themselves), <span class="math notranslate nohighlight">\(I\)</span> can also be calculated as <span class="math notranslate nohighlight">\(l^J\)</span> where <span class="math notranslate nohighlight">\(l\)</span> is the number of investment levels.</p>
<p>The problem will involve <span class="math notranslate nohighlight">\(\frac{I(I-1)}{2}\)</span> binary variables and <span class="math notranslate nohighlight">\(I\)</span> continuous (<span class="math notranslate nohighlight">\(\lambda\)</span>) variables.</p>
</div>
</div>
<div class="section" id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">scipy.optimize.shgo</span></code> SciPy v1.5.4 Reference Guide: Optimization
and root finding (<code class="docutils literal notranslate"><span class="pre">scipy.optimize</span></code>) URL:
<a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.shgo.html#rb2e152d227b3-1">https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.shgo.html#rb2e152d227b3-1</a>
Last accessed 12/28/2020.</li>
<li><code class="docutils literal notranslate"><span class="pre">scipy.optimize.differential_evolution</span></code> SciPy v1.5.4 Reference
Guide: Optimization and root finding (<code class="docutils literal notranslate"><span class="pre">scipy.optimize</span></code>) URL:
<a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.differential_evolution.html">https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.differential_evolution.html</a>
Last accessed 12/28/2020.</li>
<li><code class="docutils literal notranslate"><span class="pre">scipy.optimize.fmin_slsqp</span></code> SciPy v1.5.4 Reference Guide:
Optimization and root finding (<code class="docutils literal notranslate"><span class="pre">scipy.optimize</span></code>) URL:
<a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.fmin_slsqp.html">https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.fmin_slsqp.html</a>
Last accessed 12/28/2020.</li>
<li>Endres, SC, Sandrock, C, Focke, WW. (2018) “A simplicial homology
algorithm for Lipschitz optimisation”, Journal of Global Optimization
(72): 181-217. URL:
<a class="reference external" href="https://link.springer.com/article/10.1007/s10898-018-0645-y">https://link.springer.com/article/10.1007/s10898-018-0645-y</a></li>
<li>Storn, R and Price, K. (1997) “Differential Evolution - a Simple and
Efficient Heuristic for Global Optimization over Continuous Spaces”,
Journal of Global Optimization (11): 341 - 359. URL:
<a class="reference external" href="https://link.springer.com/article/10.1023/A:1008202821328">https://link.springer.com/article/10.1023/A:1008202821328</a></li>
<li>Kraft D (1988) A software package for sequential quadratic
programming. Tech. Rep.&nbsp;DFVLR-FB 88-28, DLR German Aerospace Center —
Institute for Flight Mechanics, Koln, Germany.</li>
<li><code class="docutils literal notranslate"><span class="pre">scipy.optimize.NonlinearConstraint</span></code> SciPy v1.5.4 Reference Guide:
Optimization and root finding (<code class="docutils literal notranslate"><span class="pre">scipy.optimize</span></code>) URL:
<a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.NonlinearConstraint.html">https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.NonlinearConstraint.html</a>
Last accessed 12/29/2020.</li>
</ol>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Tyche</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="cheat-sheet.html">Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="example-technology.html">Technology Model Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="example-analysis.html">Analysis Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="approach.html">Approach</a></li>
<li class="toctree-l1"><a class="reference internal" href="formulation.html">Mathematical Formulation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="user-interface.html">User Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="deployment.html">Deployment Plan</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Python API</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="formulation.html" title="previous chapter">Mathematical Formulation</a></li>
      <li>Next: <a href="user-interface.html" title="next chapter">User Interface</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, National Renewable Energy Laboratory.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/optimizers.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>