
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Optimization &#8212; Tyche 1.2 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Python API" href="modules.html" />
    <link rel="prev" title="Mathematical Formulation" href="formulation.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="optimization">
<span id="sec-optimizers"></span><h1>Optimization<a class="headerlink" href="#optimization" title="Permalink to this heading">¶</a></h1>
<section id="nonlinear-programming-formulation">
<h2>Nonlinear Programming Formulation<a class="headerlink" href="#nonlinear-programming-formulation" title="Permalink to this heading">¶</a></h2>
<p>Three methods in the <code class="docutils literal notranslate"><span class="pre">EpsilonConstraintOptimizer</span></code> class, <code class="docutils literal notranslate"><span class="pre">opt_slsqp</span></code>, <code class="docutils literal notranslate"><span class="pre">opt_shgo</span></code> and <code class="docutils literal notranslate"><span class="pre">opt_diffev</span></code>, are
wrappers for optimization algorithm calls. (The <a class="reference internal" href="tyche.html#sec-epsconstraint"><span class="std std-ref">tyche.EpsilonConstraints</span></a> section provides full parameter and return value information for these methods.) The optimization methods define the optimization problem according to each algorithm’s requirements, call the algorithm, and provide either optimized results in a standard format for postprocessing, or an error messages if the optimization did not complete successfully. The SLSQP algorithm, which is not a global optimizer, is provided to assess problem feasibility and provide reasonable upper and lower bounds on metrics being optimized. Because the technology models within an R&amp;D decision context may be arbitrarily complex, two global optimization algorithms were also implemented. The global algorithms were chosen according to the following criteria.</p>
<ul class="simple">
<li><p>Ability to perform constrained optimization with inequality constraints, for instance on metric values or investment amounts.</p></li>
<li><p>Ability to optimize without specified Jacobian or Hessian functions (derivative-less optimization).</p></li>
<li><p>Ability to specify bounds on individual decision variables, which allows constraints on single research areas.</p></li>
<li><p>Ability to work on a variety of potentially non-convex and otherwise complex problems.</p></li>
</ul>
<section id="algorithm-testing">
<h3>Algorithm Testing<a class="headerlink" href="#algorithm-testing" title="Permalink to this heading">¶</a></h3>
<p>As a point of comparison between algorithms, the <a class="reference internal" href="technology.html#sec-simplerespv"><span class="std std-ref">Simple Residential Photovoltaics</span></a> decision context was optimized for minimum levelized cost of electricity (LCOE) subject to an investment constraint and a metric constraint (GHG). The solutions are given in <a class="reference internal" href="#tbl-algoperformance"><span class="std std-numref">Table 15</span></a>. The solve times listed are in addition to the time required to set up the problem and solve for the optimum metric values; this procedure currently uses the SLSQP algorithm by default. This setup time is between 10 and 15 seconds.</p>
<span id="tbl-algoperformance"></span><table class="docutils align-default" id="id1">
<caption><span class="caption-number">Table 15 </span><span class="caption-text">Minimizing LCOE subject to a total investment amount of $3 MM USD and GHG being at least 40.</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Algorithm</p></th>
<th class="head"><p>Objective Function Value</p></th>
<th class="head"><p>GHG Constraint Value</p></th>
<th class="head"><p>Solve Time (s)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Differential evolution</p></td>
<td><p>0.037567</p></td>
<td><p>41.699885</p></td>
<td><p>145</p></td>
</tr>
<tr class="row-odd"><td><p>Differential evolution</p></td>
<td><p>0.037547</p></td>
<td><p>41.632867</p></td>
<td><p>589</p></td>
</tr>
<tr class="row-even"><td><p>SLSQP</p></td>
<td><p>0.037712</p></td>
<td><p>41.969348</p></td>
<td><p>~ 2</p></td>
</tr>
<tr class="row-odd"><td><p>SHGO</p></td>
<td><p>None found</p></td>
<td><p>None found</p></td>
<td><p>None found</p></td>
</tr>
</tbody>
</table>
<p>Additional details for each solution are given below under the section for the corresponding algorithm.</p>
</section>
</section>
<section id="sequential-least-squares-programming-slsqp">
<h2>Sequential Least Squares Programming (SLSQP)<a class="headerlink" href="#sequential-least-squares-programming-slsqp" title="Permalink to this heading">¶</a></h2>
<p>The Sequential Least Squares Programming algorithm uses a gradient search method to locate a possibly local optimum. [6] A complete list of parameters and options for the <code class="docutils literal notranslate"><span class="pre">fmin_slsqp</span></code> algorithm is available in the  <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.fmin_slsqp.html">scipy.optimize.fmin_slsqp</a> documentation.</p>
<p>Constraints for <code class="docutils literal notranslate"><span class="pre">fmin_slsqp</span></code> are defined either as a single function that takes as input a vector of decision variable values and returns an array containing the value of all constraints in the problem simultaneously. Both equality and inequality constraints can be defined, although they must be as separate functions and are provided to the <code class="docutils literal notranslate"><span class="pre">fmin_slsqp</span></code> algorithm under separate arguments.</p>
<section id="slsqp-solution-to-simple-residential-photovoltaics">
<h3>SLSQP Solution to Simple Residential Photovoltaics<a class="headerlink" href="#slsqp-solution-to-simple-residential-photovoltaics" title="Permalink to this heading">¶</a></h3>
<p>Solve time: 1.5 s</p>
<span id="tbl-slsqpvars"></span><table class="docutils align-default" id="id2">
<caption><span class="caption-number">Table 16 </span><span class="caption-text">Optimal decision variables found by the SLSQP algorithm.</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Decision Variable</p></th>
<th class="head"><p>Optimized Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>BoS R&amp;D</p></td>
<td><p>1.25 E-04</p></td>
</tr>
<tr class="row-odd"><td><p>Inverter R&amp;D</p></td>
<td><p>3.64 E-08</p></td>
</tr>
<tr class="row-even"><td><p>Module R&amp;D</p></td>
<td><p>3.00 E+06</p></td>
</tr>
</tbody>
</table>
<span id="tbl-slsqpmetrics"></span><table class="docutils align-default" id="id3">
<caption><span class="caption-number">Table 17 </span><span class="caption-text">Optimal system metrics found by the SLSQP algorithm.</span><a class="headerlink" href="#id3" title="Permalink to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>System Metric</p></th>
<th class="head"><p>Optimized Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>GHG</p></td>
<td><p>41.97</p></td>
</tr>
<tr class="row-odd"><td><p>LCOE</p></td>
<td><p>0.038</p></td>
</tr>
<tr class="row-even"><td><p>Labor</p></td>
<td><p>0.032</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="differential-evolution">
<h2>Differential Evolution<a class="headerlink" href="#differential-evolution" title="Permalink to this heading">¶</a></h2>
<p>Differential evolution is one type of evolutionary algorithm that iteratively improves on an initial population, or set of potential solutions. [5] Differential evolution is well-suited to searching large solution spaces with multiple local minima, but does not guarantee convergence to the global minimum. Moreover, users may need to adjust the default solving parameters and options in order to obtain a solution and cut down on solve time. A complete list of parameters and options for the <cite>differential_evolution</cite> algorithm is available in the <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.differential_evolution.html">scipy.optimize.differential_evolution</a> documentation.</p>
<p>Constraints for <cite>differential_evolution</cite> are defined by passing the same multi-valued function defined in <cite>opt_slsqp</cite> to the <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.NonlinearConstraint.html">NonlinearConstraint</a> method.</p>
<section id="differential-evolution-solutions-to-simple-residential-photovoltaics">
<h3>Differential Evolution Solutions to Simple Residential Photovoltaics<a class="headerlink" href="#differential-evolution-solutions-to-simple-residential-photovoltaics" title="Permalink to this heading">¶</a></h3>
<p>Differential evolution stochastically populates the initial set of potential solutions, and so the optimal solution and solve time may vary with the random seed used.</p>
<section id="solution-1">
<h4>Solution 1<a class="headerlink" href="#solution-1" title="Permalink to this heading">¶</a></h4>
<p>Starting with a random seed of 2, the solution time was 145 seconds.</p>
<span id="tbl-diffevvars1"></span><table class="docutils align-default" id="id4">
<caption><span class="caption-number">Table 18 </span><span class="caption-text">Optimal decision variables found by the differential evolution algorithm with a seed of 2.</span><a class="headerlink" href="#id4" title="Permalink to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Decision Variable</p></th>
<th class="head"><p>Optimized Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>BoS R&amp;D</p></td>
<td><p>9.62 E+02</p></td>
</tr>
<tr class="row-odd"><td><p>Inverter R&amp;D</p></td>
<td><p>5.33 E+02</p></td>
</tr>
<tr class="row-even"><td><p>Module R&amp;D</p></td>
<td><p>2.99 E+06</p></td>
</tr>
</tbody>
</table>
<span id="tbl-diffevmetrics1"></span><table class="docutils align-default" id="id5">
<caption><span class="caption-number">Table 19 </span><span class="caption-text">Optimal system metrics found by the differential evolution algorithm with a seed of 2.</span><a class="headerlink" href="#id5" title="Permalink to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>System Metric</p></th>
<th class="head"><p>Optimized Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>GHG</p></td>
<td><p>41.70</p></td>
</tr>
<tr class="row-odd"><td><p>LCOE</p></td>
<td><p>0.038</p></td>
</tr>
<tr class="row-even"><td><p>Labor</p></td>
<td><p>-0.456</p></td>
</tr>
</tbody>
</table>
</section>
<section id="solution-2">
<h4>Solution 2<a class="headerlink" href="#solution-2" title="Permalink to this heading">¶</a></h4>
<p>Starting with a random seed of 1, the solution time was 589 seconds.</p>
<span id="tbl-diffevvars2"></span><table class="docutils align-default" id="id6">
<caption><span class="caption-number">Table 20 </span><span class="caption-text">Optimal decision variables found by <cite>differential_evolution</cite> as called by <cite>EpsilonConstraints.opt_diffev</cite> with a seed of 1.</span><a class="headerlink" href="#id6" title="Permalink to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Decision Variable</p></th>
<th class="head"><p>Optimized Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>BoS R&amp;D</p></td>
<td><p>4.70 E+03</p></td>
</tr>
<tr class="row-odd"><td><p>Inverter R&amp;D</p></td>
<td><p>3.71 E+02</p></td>
</tr>
<tr class="row-even"><td><p>Module R&amp;D</p></td>
<td><p>2.99 E+06</p></td>
</tr>
</tbody>
</table>
<span id="tbl-diffevmetrics2"></span><table class="docutils align-default" id="id7">
<caption><span class="caption-number">Table 21 </span><span class="caption-text">Optimal system metrics found by <cite>differential_evolution</cite> as called by <cite>EpsilonConstraints.opt_diffev</cite> with a seed of 1.</span><a class="headerlink" href="#id7" title="Permalink to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>System Metric</p></th>
<th class="head"><p>Optimized Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>GHG</p></td>
<td><p>41.63</p></td>
</tr>
<tr class="row-odd"><td><p>LCOE</p></td>
<td><p>0.037</p></td>
</tr>
<tr class="row-even"><td><p>Labor</p></td>
<td><p>-2.29</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
<section id="simplicial-homology-global-optimization">
<h2>Simplicial Homology Global Optimization<a class="headerlink" href="#simplicial-homology-global-optimization" title="Permalink to this heading">¶</a></h2>
<p>The Simplicial Homology Global Optimization (SHGO) algorithm applies simplicial homology to general non-linear, low-dimensional optimization problems. [4] SHGO provides fast solutions using default parameters and options, but the optimum found may not be as precise as that found by the differential evolution algorithm. Constraints for <cite>shgo</cite> must be provided as a dictionary or sequence of dictionaries with the following format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">constraints</span> <span class="o">=</span> <span class="p">[</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;ineq&#39;</span><span class="p">,</span> <span class="s1">&#39;fun&#39;</span><span class="p">:</span> <span class="n">g1</span><span class="p">(</span><span class="n">x</span><span class="p">)},</span>
                <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;ineq&#39;</span><span class="p">,</span> <span class="s1">&#39;fun&#39;</span><span class="p">:</span> <span class="n">g2</span><span class="p">(</span><span class="n">x</span><span class="p">)},</span>
                <span class="o">...</span>
                <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;eq&#39;</span><span class="p">,</span> <span class="s1">&#39;fun&#39;</span><span class="p">:</span> <span class="n">h1</span><span class="p">(</span><span class="n">x</span><span class="p">)},</span>
                <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;eq&#39;</span><span class="p">,</span> <span class="s1">&#39;fun&#39;</span><span class="p">:</span> <span class="n">h2</span><span class="p">(</span><span class="n">x</span><span class="p">)},</span>
                <span class="o">...</span> <span class="p">]</span>
</pre></div>
</div>
<p>Each of the constraint functions <cite>g1(x)</cite>, <cite>h1(x)</cite>, and so on are functions that take decision variable values as inputs and return the value of the constraint. Inequality constraints (<cite>g1(x)</cite> and <cite>g2(x)</cite> above) are formulated as <span class="math notranslate nohighlight">\(g(x) \geq 0\)</span> and equality constraints (<cite>h1(x)</cite> and <cite>h2(x)</cite> above) are formulated as <span class="math notranslate nohighlight">\(h(x) = 0\)</span>. Each constraint in the optimization problem is defined as a separate function, with a separate dictionary giving the constraint type. With <cite>shgo</cite> it is not possible to use one function that returns a vector of constraint values.</p>
</section>
<section id="piecewise-linear-milp-formulation">
<h2>Piecewise Linear (MILP) Formulation<a class="headerlink" href="#piecewise-linear-milp-formulation" title="Permalink to this heading">¶</a></h2>
<section id="notation">
<h3>Notation<a class="headerlink" href="#notation" title="Permalink to this heading">¶</a></h3>
<span id="tbl-milpindex"></span><table class="docutils align-default" id="id8">
<caption><span class="caption-number">Table 22 </span><span class="caption-text">Index definitions for the MILP formulation.</span><a class="headerlink" href="#id8" title="Permalink to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Index</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(I\)</span></p></td>
<td><p>Number of elicited data points (investment levels and metrics)</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(J\)</span></p></td>
<td><p>Number of investment categories</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(K\)</span></p></td>
<td><p>Number of metrics</p></td>
</tr>
</tbody>
</table>
<span id="tbl-milpdat"></span><table class="docutils align-default" id="id9">
<caption><span class="caption-number">Table 23 </span><span class="caption-text">Data definitions for the MILP formulation.</span><a class="headerlink" href="#id9" title="Permalink to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Data</p></th>
<th class="head"><p>Notation</p></th>
<th class="head"><p>Information</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Investment amounts</p></td>
<td><p><span class="math notranslate nohighlight">\(c_{ij}, i \in \{1, ..., I\}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(c_i\)</span> is a point in <span class="math notranslate nohighlight">\(J\)</span>-dimensional space</p></td>
</tr>
<tr class="row-odd"><td><p>Metric value</p></td>
<td><p><span class="math notranslate nohighlight">\(q_{ik}, i \in \{1, ..., I \}, k \in \{1, ..., K \}\)</span></p></td>
<td><p>One metric will form the objective function, leaving up to <span class="math notranslate nohighlight">\(K-1\)</span> metrics for constraints</p></td>
</tr>
</tbody>
</table>
<span id="tbl-milpvar"></span><table class="docutils align-default" id="id10">
<caption><span class="caption-number">Table 24 </span><span class="caption-text">Variable definitions for the MILP formulation.</span><a class="headerlink" href="#id10" title="Permalink to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Variable</p></th>
<th class="head"><p>Notation</p></th>
<th class="head"><p>Information</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Binary variables</p></td>
<td><p><span class="math notranslate nohighlight">\(y_{ii'}, i, i' \in \{1, ..., I\}, i' &gt; i\)</span></p></td>
<td><p>Number of linear intervals between elicited data points.</p></td>
</tr>
<tr class="row-odd"><td><p>Combination variables</p></td>
<td><p><span class="math notranslate nohighlight">\(\lambda_{i}, i \in \{1, ..., I\}\)</span></p></td>
<td><p>Used to construct linear combinations of elicited data points. <span class="math notranslate nohighlight">\(\lambda_{i} \geq 0 \forall i\)</span></p></td>
</tr>
</tbody>
</table>
<p>Each metric and investment amount can be written as a linear combination of elicited data points and the newly introduced variables <span class="math notranslate nohighlight">\(\lambda_{i}\)</span> and <span class="math notranslate nohighlight">\(y_{ii'}\)</span>. Additional constraints on <span class="math notranslate nohighlight">\(y_{ii'}\)</span> and <span class="math notranslate nohighlight">\(\lambda_{i}\)</span> take care of the piecewise linearity by ensuring that the corners used to calculate <span class="math notranslate nohighlight">\(q_k\)</span> reflect the interval that <span class="math notranslate nohighlight">\(c_i\)</span> is in. There will be a total of <span class="math notranslate nohighlight">\(\binom{I}{2}\)</span> binary <span class="math notranslate nohighlight">\(y\)</span> variables, which reduces to <span class="math notranslate nohighlight">\(\frac{I(I-1)}{2}\)</span> binary variables.</p>
</section>
<section id="one-investment-category-one-metric-example">
<h3>One-Investment-Category, One-Metric Example<a class="headerlink" href="#one-investment-category-one-metric-example" title="Permalink to this heading">¶</a></h3>
<p>Suppose we have an elicited data set for one metric (<span class="math notranslate nohighlight">\(K = 1\)</span>) and one investment category (<span class="math notranslate nohighlight">\(J = 1\)</span>) with three possible investment levels (<span class="math notranslate nohighlight">\(I = 3\)</span>). We can write the total investment amount as a linear combination of the three investment levels <span class="math notranslate nohighlight">\(c_{i1}, i \in \{1, 2, 3\}\)</span>, using the <span class="math notranslate nohighlight">\(\lambda\)</span> variables:</p>
<p><span class="math notranslate nohighlight">\(\lambda_{1}c_{11} + \lambda_{2}c_{21} + \lambda_{13}c_{31} = \sum_{i} \lambda_{i}c_{i1}\)</span></p>
<p>We can likewise write the metric as a linear combination of <span class="math notranslate nohighlight">\(q_{1i}\)</span> and the <span class="math notranslate nohighlight">\(\lambda\)</span> variables:</p>
<p><span class="math notranslate nohighlight">\(\lambda_{1}q_{11} + \lambda_{2}q_{21} + \lambda_{3}q_{31} = \sum_{i} \lambda_{i}q_{i1}\)</span></p>
<p>We have the additional constraint on the <span class="math notranslate nohighlight">\(\lambda\)</span> variables that</p>
<p><span class="math notranslate nohighlight">\(\sum_{i} \lambda_{i} = 1\)</span></p>
<p>These equations, combined with the integer variables <span class="math notranslate nohighlight">\(y_{ii'} = \{ y_{12}, y_{13}, y_{23} \}\)</span>, can be used to construct a mixed-integer linear optimization problem.</p>
<p>The MILP that uses this formulation to minimize a technology metric subject to a investment budget <span class="math notranslate nohighlight">\(B\)</span> is as follows:</p>
<p><span class="math notranslate nohighlight">\(\min_{y, \lambda} \lambda_{1}q_{11} + \lambda_{2}q_{21} + \lambda_{3}q_{31}\)</span></p>
<p>subject to</p>
<p><span class="math notranslate nohighlight">\(\lambda_{1}c_{11} + \lambda_{2}c_{21} + \lambda_{3}c_{31} \leq B\)</span> , (1) Total budget constraint</p>
<p><span class="math notranslate nohighlight">\(\lambda_1 + \lambda_2 + \lambda_3 = 1\)</span> , (2)</p>
<p><span class="math notranslate nohighlight">\(y_{12} + y_{23} + y_{13} = 1\)</span> , (3)</p>
<p><span class="math notranslate nohighlight">\(y_{12} \leq \lambda_1 + \lambda_2\)</span> , (4)</p>
<p><span class="math notranslate nohighlight">\(y_{23} \leq \lambda_2 + \lambda_3\)</span> , (5)</p>
<p><span class="math notranslate nohighlight">\(y_{13} \leq \lambda_1 + \lambda_3\)</span> , (6)</p>
<p><span class="math notranslate nohighlight">\(0 \leq \lambda_1, \lambda_2, \lambda_3 \leq 1\)</span> , (7)</p>
<p><span class="math notranslate nohighlight">\(y_{12}, y_{23}, y_{13} \in \{ 0, 1 \}\)</span> , (8)</p>
<p>(We’ve effectively removed the investments and the metrics as variables, replacing them with the elicited data points and the new <span class="math notranslate nohighlight">\(\lambda\)</span> and <span class="math notranslate nohighlight">\(y\)</span> variables.)</p>
</section>
<section id="extension-to-n-x-n-problem">
<h3>Extension to N x N Problem<a class="headerlink" href="#extension-to-n-x-n-problem" title="Permalink to this heading">¶</a></h3>
<p>Note: <span class="math notranslate nohighlight">\(k'\)</span> indicates the metric which is being constrained. <span class="math notranslate nohighlight">\(k*\)</span> indicates the metric being optimized. <span class="math notranslate nohighlight">\(J'\)</span> indicates the set of investment categories which have a budget limit (there may be more than one budget-constrained category in a problem).</p>
<p><strong>No metric constraint or investment category-specific budget constraint</strong></p>
<p><span class="math notranslate nohighlight">\(\min_{y, \lambda} \sum_i \lambda_{i}q_{ik*}\)</span></p>
<p>subject to</p>
<p><span class="math notranslate nohighlight">\(\sum_i \sum_j \lambda_{i}c_{ij} \leq B\)</span> , (1) Total budget constraint</p>
<p><span class="math notranslate nohighlight">\(\sum_i \lambda_i = 1\)</span> , (2)</p>
<p><span class="math notranslate nohighlight">\(\sum_{i,i'} y_{ii'} = 1\)</span> , (3)</p>
<p><span class="math notranslate nohighlight">\(y_{ii'} \leq \lambda_i + \lambda_{i'} \forall i, i'\)</span> , (4)</p>
<p><span class="math notranslate nohighlight">\(0 \leq \lambda_i \leq 1 \forall i\)</span> , (5)</p>
<p><span class="math notranslate nohighlight">\(y_{ii'} \in \{ 0, 1 \} \forall i, i'\)</span> , (6)</p>
<p><strong>With investment category-specific budget constraint</strong></p>
<p><span class="math notranslate nohighlight">\(\min_{y, \lambda} \sum_i \lambda_{i}q_{ik*}\)</span></p>
<p>subject to</p>
<p><span class="math notranslate nohighlight">\(\sum_i \sum_j \lambda_{i}c_{ij} \leq B\)</span> , (1) Total budget constraint</p>
<p><span class="math notranslate nohighlight">\(\sum_i \lambda_{i}c_{ij'} \leq B_{j'} \forall j' \in J'\)</span>,   (2) Investment category budget constraint(s)</p>
<p><span class="math notranslate nohighlight">\(\sum_i \lambda_i = 1\)</span> , (3)</p>
<p><span class="math notranslate nohighlight">\(\sum_{i,i'} y_{ii'} = 1\)</span> , (4)</p>
<p><span class="math notranslate nohighlight">\(y_{ii'} \leq \lambda_i + \lambda_{i'} \forall i, i'\)</span> , (5)</p>
<p><span class="math notranslate nohighlight">\(0 \leq \lambda_i \leq 1 \forall i\)</span> , (6)</p>
<p><span class="math notranslate nohighlight">\(y_{ii'} \in \{ 0, 1 \} \forall i, i'\)</span> , (7)</p>
<p><strong>With metric constraint and investment category-specific budget constraint</strong></p>
<p><span class="math notranslate nohighlight">\(\min_{y, \lambda} \sum_i \lambda_{i}q_{ik*}\)</span></p>
<p>subject to</p>
<p><span class="math notranslate nohighlight">\(\sum_i \sum_j \lambda_{i}c_{ij} \leq B\)</span>, (1) Total budget constraint</p>
<p><span class="math notranslate nohighlight">\(\sum_i \lambda_{i}c_{ij'} \leq B_{j'} \forall j' \in J'\)</span>   (2) Investment category budget constraint(s)</p>
<p><span class="math notranslate nohighlight">\(\sum_i \lambda_{i}q_{ik'} \leq M_{k'}\)</span> , (3) Metric constraint</p>
<p><span class="math notranslate nohighlight">\(\sum_i \lambda_i = 1\)</span> , (4)</p>
<p><span class="math notranslate nohighlight">\(\sum_{i,i'} y_{ii'} = 1\)</span> , (5)</p>
<p><span class="math notranslate nohighlight">\(y_{ii'} \leq \lambda_i + \lambda_{i'} \forall i, i'\)</span> , (6)</p>
<p><span class="math notranslate nohighlight">\(0 \leq \lambda_i \leq 1 \forall i\)</span> , (7)</p>
<p><span class="math notranslate nohighlight">\(y_{ii'} \in \{ 0, 1 \} \forall i, i'\)</span> , (8)</p>
<p><strong>Problem Size</strong></p>
<p>In general, <span class="math notranslate nohighlight">\(I\)</span> is the number of rows in the dataset of elicited data. In the case that all investment categories have elicited data at the same number of levels (not necessarily the same levels themselves), <span class="math notranslate nohighlight">\(I\)</span> can also be calculated as <span class="math notranslate nohighlight">\(l^J\)</span> where <span class="math notranslate nohighlight">\(l\)</span> is the number of investment levels.</p>
<p>The problem will involve <span class="math notranslate nohighlight">\(\frac{I(I-1)}{2}\)</span> binary variables and <span class="math notranslate nohighlight">\(I\)</span> continuous (<span class="math notranslate nohighlight">\(\lambda\)</span>) variables.</p>
</section>
</section>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">scipy.optimize.shgo</span></code> SciPy v1.5.4 Reference Guide: Optimization
and root finding (<code class="docutils literal notranslate"><span class="pre">scipy.optimize</span></code>) URL:
<a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.shgo.html#rb2e152d227b3-1">https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.shgo.html#rb2e152d227b3-1</a>
Last accessed 12/28/2020.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">scipy.optimize.differential_evolution</span></code> SciPy v1.5.4 Reference
Guide: Optimization and root finding (<code class="docutils literal notranslate"><span class="pre">scipy.optimize</span></code>) URL:
<a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.differential_evolution.html">https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.differential_evolution.html</a>
Last accessed 12/28/2020.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">scipy.optimize.fmin_slsqp</span></code> SciPy v1.5.4 Reference Guide:
Optimization and root finding (<code class="docutils literal notranslate"><span class="pre">scipy.optimize</span></code>) URL:
<a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.fmin_slsqp.html">https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.fmin_slsqp.html</a>
Last accessed 12/28/2020.</p></li>
<li><p>Endres, SC, Sandrock, C, Focke, WW. (2018) “A simplicial homology
algorithm for Lipschitz optimisation”, Journal of Global Optimization
(72): 181-217. URL:
<a class="reference external" href="https://link.springer.com/article/10.1007/s10898-018-0645-y">https://link.springer.com/article/10.1007/s10898-018-0645-y</a></p></li>
<li><p>Storn, R and Price, K. (1997) “Differential Evolution - a Simple and
Efficient Heuristic for Global Optimization over Continuous Spaces”,
Journal of Global Optimization (11): 341 - 359. URL:
<a class="reference external" href="https://link.springer.com/article/10.1023/A:1008202821328">https://link.springer.com/article/10.1023/A:1008202821328</a></p></li>
<li><p>Kraft D (1988) A software package for sequential quadratic
programming. Tech. Rep. DFVLR-FB 88-28, DLR German Aerospace Center —
Institute for Flight Mechanics, Koln, Germany.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">scipy.optimize.NonlinearConstraint</span></code> SciPy v1.5.4 Reference Guide:
Optimization and root finding (<code class="docutils literal notranslate"><span class="pre">scipy.optimize</span></code>) URL:
<a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.NonlinearConstraint.html">https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.NonlinearConstraint.html</a>
Last accessed 12/29/2020.</p></li>
</ol>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Tyche</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="cheat-sheet.html">Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="example-technology.html">Technology Model Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="example-analysis.html">Analysis Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="approach.html">Approach</a></li>
<li class="toctree-l1"><a class="reference internal" href="formulation.html">Mathematical Formulation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Python API</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="formulation.html" title="previous chapter">Mathematical Formulation</a></li>
      <li>Next: <a href="modules.html" title="next chapter">Python API</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, National Renewable Energy Laboratory.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.0.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/optimizers.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>