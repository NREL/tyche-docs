%% Generated by Sphinx.
\def\sphinxdocclass{report}
\documentclass[letterpaper,10pt,english]{sphinxmanual}
\ifdefined\pdfpxdimen
   \let\sphinxpxdimen\pdfpxdimen\else\newdimen\sphinxpxdimen
\fi \sphinxpxdimen=.75bp\relax
%% turn off hyperref patch of \index as sphinx.xdy xindy module takes care of
%% suitable \hyperpage mark-up, working around hyperref-xindy incompatibility
\PassOptionsToPackage{hyperindex=false}{hyperref}

\PassOptionsToPackage{warn}{textcomp}

\catcode`^^^^00a0\active\protected\def^^^^00a0{\leavevmode\nobreak\ }
\usepackage{cmap}
\usepackage{fontspec}
\usepackage{amsmath,amssymb,amstext}
\usepackage{polyglossia}
\setmainlanguage{english}

\usepackage[Bjarne]{fncychap}
\usepackage[,numfigreset=1,mathnumfig]{sphinx}

\fvset{fontsize=auto}
\usepackage{geometry}

% Include hyperref last.
\usepackage{hyperref}
% Fix anchor placement for figures with captions.
\usepackage{hypcap}% it must be loaded after hyperref.
% Set up styles of URL: it should be placed after hyperref.
\urlstyle{same}
\addto\captionsenglish{\renewcommand{\contentsname}{Contents:}}

\addto\captionsenglish{\renewcommand{\figurename}{Fig.\@ }}
\makeatletter
\def\fnum@figure{\figurename\thefigure{}}
\makeatother
\addto\captionsenglish{\renewcommand{\tablename}{Table }}
\makeatletter
\def\fnum@table{\tablename\thetable{}}
\makeatother
\addto\captionsenglish{\renewcommand{\literalblockname}{Listing}}

\addto\captionsenglish{\renewcommand{\literalblockcontinuedname}{continued from previous page}}
\addto\captionsenglish{\renewcommand{\literalblockcontinuesname}{continues on next page}}
\addto\captionsenglish{\renewcommand{\sphinxnonalphabeticalgroupname}{Non-alphabetical}}
\addto\captionsenglish{\renewcommand{\sphinxsymbolsname}{Symbols}}
\addto\captionsenglish{\renewcommand{\sphinxnumbersname}{Numbers}}

\def\pageautorefname{page}

\setcounter{tocdepth}{1}



\title{Tyche}
\date{Apr 19, 2022}
\release{0.1.0}
\author{}
\newcommand{\sphinxlogo}{\vbox{}}
\renewcommand{\releasename}{Release}
\makeindex
\begin{document}

\pagestyle{empty}
\sphinxmaketitle
\pagestyle{plain}
\sphinxtableofcontents
\pagestyle{normal}
\phantomsection\label{\detokenize{main_page::doc}}


Risk and uncertainty are core characteristics of research and development (R\&D) programs. Attempting to do what has not been done before will sometimes end in failure, just as it will sometimes lead to extraordinary success. The challenge is to identify an optimal mix of R\&D investments in pathways that provide the highest returns while reducing the costs of failure. The goal of the R\&D Pathway and Portfolio Analysis and Evaluation project is to develop systematic, scalable pathway and portfolio analysis and evaluation methodologies and tools that provide high value to the U.S. Department of Energy (DOE) and its Office of Energy Efficiency \& Renewable Energy (EERE). This work aims to assist analysts and decision makers identify and evaluate, quantify and monitor, manage, document, and communicate energy technology R\&D pathway and portfolio risks and benefits. The project-level risks typically considered are technology cost and performance (e.g., efficiency and environmental impact), while the portfolio level risks generally include market factors (e.g., competitiveness and consumer preference).

This documentation summarizes work in progress on R\&D Portfolio Analysis and Evaluation. It discusses a mock FOA approach for designing a decision-support process for R\&D portfolios, the portfolio-optimization methodology, and the underlying software framework. The end goal of this process is to inform decision-making across R\&D projects and programs through identifying and evaluating, quantifying, and monitoring, managing, documenting, and communicating energy technology R\&D pathway and portfolio risks and benefits.


\chapter{Approach}
\label{\detokenize{doc-src/approach:approach}}\label{\detokenize{doc-src/approach::doc}}
Our production-function approach to R\&D portfolio evaluation is
mathematically formulated as a stochastic multi-objective
decision-optimization problem and is implemented in the Python
programming language. The framework abstracts the technology-independent
aspects of the problem into a generic computational schema and enables
the modeler to specify the technology-dependent aspects in a set of data
tables and Python functions. This approach not only minimizes the labor
needed to add new technologies, but it also enforces uniformity of
financial, mass-balance, and other assumptions in the analysis.

The framework is scalable, supporting rapid computation on laptops
computer and large-ensemble studies on high-performance computers (HPC).
The use of vectorized operations for the stochastic calculations and of
response-surface fits for the portfolio evaluations minimizes the
computational resources needed for complex multi-objective
optimizations. The software handles parameterized studies such as
tornado plots, Monte-Carlo sensitivity analyses, and a generalization of
epsilon-constraint optimization.

All values in the data tables may be probability distributions,
specified by Python expressions using a large library of standard
distributions, or the values may be simple numbers. Expert opinion is
encoded through these distributions. The opinions may be combined prior
to simulator or subsequent to it.

Four example technologies have been implemented as examples illustrating
framework’s use: biorefineries, electrolysis, residential photovoltaics
(PV), and utility-scale PV. A desktop user interface allows exploration
of the cost-benefit trade-offs in portfolio decision problems.

Below we detail the mathematical formulation and its implementation as a
Python module with user-specified data tables and technology functions.
We also provide a sample analysis that exercises the framework’s main
features.


\chapter{Mathematical Formulation}
\label{\detokenize{doc-src/formulation:mathematical-formulation}}\label{\detokenize{doc-src/formulation::doc}}
We separate the financial and conversion-efficiency aspects of a
production process, which are generic across all technologies, from the
physical and technical aspects, which are necessarily specific to the
particular process. The motivation for this is that the financial and
waste computations can be done uniformly for any technology (even for
disparate ones such as PV cells and biofuels) and that different experts
may be required to assess the cost, waste, and techno-physical aspects
of technological progress. \hyperref[\detokenize{doc-src/formulation:tbl-sets}]{Table \ref{\detokenize{doc-src/formulation:tbl-sets}}} defines the indices that are used
for the variables that are defined in \hyperref[\detokenize{doc-src/formulation:tbl-variables}]{Table \ref{\detokenize{doc-src/formulation:tbl-variables}}}.


\begin{savenotes}\sphinxattablestart
\centering
\sphinxcapstartof{table}
\sphinxthecaptionisattop
\sphinxcaption{Definitions for set indices used for variable subscripts.}\label{\detokenize{doc-src/formulation:table-1}}\label{\detokenize{doc-src/formulation:tbl-sets}}
\sphinxaftertopcaption
\begin{tabulary}{\linewidth}[t]{|T|T|T|}
\hline
\sphinxstyletheadfamily 
Set
&\sphinxstyletheadfamily 
Description
&\sphinxstyletheadfamily 
Examples
\\
\hline
\(c \in \mathcal{C}\)
&
capital
&
equipment
\\
\hline
\(f \in \mathcal{F}\)
&
fixed cost
&
rent, insurance
\\
\hline
\(i \in \mathcal{I}\)
&
input
&
feedstock, labor
\\
\hline
\(o \in \mathcal{O}\)
&
output
&
product, co-product, waste
\\
\hline
\(m \in \mathcal{M}\)
&
metric
&
cost, jobs, carbon footprint, efficiency, lifetime
\\
\hline
\(p \in \mathcal{P}\)
&
technical parameter
&
temperature, pressure
\\
\hline
\(\nu \in N\)
&
technology type
&
electrolysis, PV cell
\\
\hline
\(\theta \in \Theta\)
&
scenario
&
the result of a particular investment
\\
\hline
\(\chi \in X\)
&
investment category
&
investment alternatives
\\
\hline
\(\phi \in \Phi_\chi\)
&
investment
&
a particular investment
\\
\hline
\(\omega \in \Omega\)
&
portfolio
&
a basket of investments
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}


\begin{savenotes}\sphinxatlongtablestart\begin{longtable}{|l|l|l|l|}
\sphinxthelongtablecaptionisattop
\caption{Definitions for variables.\strut}\label{\detokenize{doc-src/formulation:table-2}}\label{\detokenize{doc-src/formulation:tbl-variables}}\\*[\sphinxlongtablecapskipadjust]
\hline
\sphinxstyletheadfamily 
Variable
&\sphinxstyletheadfamily 
Type
&\sphinxstyletheadfamily 
Description
&\sphinxstyletheadfamily 
Units
\\
\hline
\endfirsthead

\multicolumn{4}{c}%
{\makebox[0pt]{\sphinxtablecontinued{\tablename\ \thetable{} -- continued from previous page}}}\\
\hline
\sphinxstyletheadfamily 
Variable
&\sphinxstyletheadfamily 
Type
&\sphinxstyletheadfamily 
Description
&\sphinxstyletheadfamily 
Units
\\
\hline
\endhead

\hline
\multicolumn{4}{r}{\makebox[0pt][r]{\sphinxtablecontinued{Continued on next page}}}\\
\endfoot

\endlastfoot

\(K\)
&
calculated
&
unit cost
&
USD/unit
\\
\hline
\(C_c\)
&
function
&
capital cost
&
USD
\\
\hline
\(\tau_c\)
&
cost
&
lifetime of capital
&
year
\\
\hline
\(S\)
&
cost
&
scale of operation
&
unit/year
\\
\hline
\(F_f\)
&
function
&
fixed cost
&
USD/year
\\
\hline
\(I_i\)
&
input
&
input quantity
&
input/unit
\\
\hline
\(I^*_i\)
&
calculated
&
ideal input quantity
&
input/unit
\\
\hline
\(\eta_i\)
&
waste
&
input efficiency
&
input/input
\\
\hline
\(p_i\)
&
cost
&
input price
&
USD/input
\\
\hline
\(O_o\)
&
calculated
&
output quantity
&
output/unit
\\
\hline
\(O^*_o\)
&
calculated
&
ideal output quantity
&
output/unit
\\
\hline
\(\eta^\prime_o\)
&
waste
&
output efficiency
&
output/output
\\
\hline
\(p^\prime_o\)
&
cost
&
output price (+/-)
&
USD/output
\\
\hline
\(\mu_m\)
&
calculated
&
metric
&
metric/unit
\\
\hline
\(P_o\)
&
function
&
production function
&
output/unit
\\
\hline
\(M_m\)
&
function
&
metric function
&
metric/unit
\\
\hline
\(\alpha_p\)
&
parameter
&
technical parameter
&
(mixed)
\\
\hline
\(\xi_\theta\)
&
variable
&
scenario inputs
&
(mixed)
\\
\hline
\(\zeta_\theta\)
&
variable
&
scenario outputs
&
(mixed)
\\
\hline
\(\psi\)
&
function
&
scenario evaluation
&
(mixed)
\\
\hline
\(\sigma_\phi\)
&
function
&
scenario probability
&
1
\\
\hline
\(q_\phi\)
&
variable
&
investment cost
&
USD
\\
\hline
\(\mathbf{\zeta}_\phi\)
&
random variable
&
investment outcome
&
(mixed)
\\
\hline
\(\mathbf{Z}(\omega)\)
&
random variable
&
portfolio outcome
&
(mixed)
\\
\hline
\(Q(\omega)\)
&
calculated
&
portfolio cost
&
USD
\\
\hline
\(Q^\mathrm{min}\)
&
parameter
&
minimum portfolio cost
&
USD
\\
\hline
\(Q^\mathrm{max}\)
&
parameter
&
maximum portfolio cost
&
USD
\\
\hline
\(q^\mathrm{min}_\phi\)
&
parameter
&
minimum category cost
&
USD
\\
\hline
\(q^\mathrm{max}_\phi\)
&
parameter
&
maximum category cost
&
USD
\\
\hline
\(Z^\mathrm{min}\)
&
parameter
&
minimum output/metric
&
(mixed)
\\
\hline
\(Z^\mathrm{max}\)
&
parameter
&
maximum output/metric
&
(mixed)
\\
\hline
\(\mathbb{F}\), \(\mathbb{G}\)
&
operator
&
evaluate probabilities
&
(mixed)
\\
\hline
\end{longtable}\sphinxatlongtableend\end{savenotes}


\section{Cost}
\label{\detokenize{doc-src/formulation:cost}}
The cost characterizations (capital and fixed costs) are represented as
functions of the scale of operations and of the technical parameters in
the design:
\begin{itemize}
\item {} 
Capital cost: \(C_c(S, \alpha_p)\).

\item {} 
Fixed cost: \(F_f(S, \alpha_p)\).

\end{itemize}

The per-unit cost is computed using a simple levelization formula:

\(K = \left( \sum_c C_c / \tau_c + \sum_f F_f \right) / S + \sum_i p_i \cdot I_i - \sum_o p^\prime_o \cdot O_o\)


\section{Waste}
\label{\detokenize{doc-src/formulation:waste}}
The waste relative to the idealized production process is captured by
the \(\eta\) parameters. Expert elicitation might estimate how the
\(\eta\)s would change in response to R\&D investment.
\begin{itemize}
\item {} 
Waste of input: \(I^*_i = \eta_i I_i\).

\item {} 
Waste of output: \(O_o = \eta^\prime_o O^*_o\).

\end{itemize}


\section{Production}
\label{\detokenize{doc-src/formulation:production}}
The production function idealizes production by ignoring waste, but
accounting for physical and technical processes (e.g., stoichiometry).
This requires a technical model or a tabulation/fit of the results of
technical modeling.

\(O^*_o = P_o(S, C_c, \tau_c, F_f, I^*_i, \alpha_p)\)


\section{Metrics}
\label{\detokenize{doc-src/formulation:metrics}}
Metrics such as efficiency, lifetime, or carbon footprint are also
compute based on the physical and technical characteristics of the
process. This requires a technical model or a tabulation/fit of the
results of technical modeling. We use the convention that higher values
are worse and lower values are better.

\(\mu_m = M_m(S, C_c, \tau_c, F_f, I_i, I^*_i, O^*_o, O_o, K, \alpha_p)\)


\section{Scenarios}
\label{\detokenize{doc-src/formulation:scenarios}}
A \sphinxstyleemphasis{scenario} represents a state of affairs for a technology \(\nu\).
If we denote the scenario as \(\theta\), we have the tuple of input
variables

\(\xi_\theta = \left(S, C_c, \tau_c, F_f, I_i, \eta_i, \eta^\prime_o, \alpha_p, p_i, p^\prime_o\middle) \right|_\theta\)

and the tuple of output variables

\(\zeta_\theta = \left(K, I^*_i, O^*_o, O_o, \mu_m\middle) \right|_\theta\)

and their relationship

\(\zeta_\theta = \psi_\nu\left(\xi_\theta\middle) \right|_{\nu = \nu(\theta)}\)

given the tuple of functions

\(\psi_\nu = \left(P_o, M_m\middle) \right|_\nu\)

for the technology of the scenario.


\section{Investments}
\label{\detokenize{doc-src/formulation:investments}}
An \sphinxstyleemphasis{investment} \(\phi\) assigns a probability distribution to
scenarios:

\(\sigma_\phi(\theta) = P\left(\theta \middle| \phi\right)\).

such that

\(\int d\theta \sigma_\phi(\theta) = 1\) or
\(\sum_\theta \sigma_\phi(\theta) = 1\),

depending upon whether one is performing the computations discretely or
continuously. Expectations and other measures on probability
distributions can be computed from the \(\sigma_\phi(\theta)\). We
treat the outcome \(\mathbf{\zeta}_\phi\) as a random variable for
the outcomes \(\zeta_\theta\) according to the distribution
\(\sigma_\phi(\theta)\).

Because investment options may be mutually exclusive, as is the case for
investing in the same R\&D at different funding levels, we say
\(\Phi_\chi\) is the set of mutually exclusive investments (i.e.,
only one can occur simultaneously) in investment category \(\chi\):
investments in different categories \(\chi\) can be combined
arbitrarily, but just one investment from each \(\Phi_\chi\) may be
chosen.

Thus the universe of all portfolios is
\(\Omega = \prod_\chi \Phi_\chi\), so a particular portfolio
\(\omega \in \Omega\) has components
\(\phi = \omega_\chi \in \Phi_\chi\). The overall outcome of a
portfolio is a random variable:

\(\mathbf{Z}(\omega) = \sum_\chi \mathbf{\zeta}_\phi \mid_{\phi = \omega_\chi}\)

The cost of an investment in one of the constituents \(\phi\) is
\(q_\phi\), so the cost of a porfolio is:

\(Q(\omega) = \sum_\chi q_\phi \mid_{\phi = \omega_\chi}\)


\section{Decision problem}
\label{\detokenize{doc-src/formulation:decision-problem}}
The multi-objective decision problem is

\(\min_{\omega \in \Omega} \  \mathbb{F} \  \mathbf{Z}(\omega)\)

such that

\(Q^\mathrm{min} \leq Q(\omega) \leq Q^\mathrm{max}\) ,

\(q^\mathrm{min}_\phi \leq q_{\phi=\omega_\chi} \leq q^\mathrm{max}_\phi\)
,

\(Z^\mathrm{min} \leq \mathbb{G} \  \mathbf{Z}(\omega) \leq Z^\mathrm{max}\)
,

where \(\mathbb{F}\) and \(\mathbb{G}\) are the expectation
operator \(\mathbb{E}\), the value-at-risk, or another operator on
probability spaces. Recall that \(\mathbf{Z}\) is a vector with
components for cost \(K\) and each metric \(\mu_m\), so this is
a multi-objective problem.

The two-stage decision problem is a special case of the general problem
outlined here: Each scenario \(\theta\) can be considers as a
composite of one or more stages.


\section{Experts}
\label{\detokenize{doc-src/formulation:experts}}
Each expert elicitation takes the form of an assessment of the
probability and range (e.g., 10th to 90th percentile) of change in the
cost or waste parameters or the production or metric functions. In
essence, the expert elicitation defines \(\sigma_\phi(\theta)\) for
each potential scenario \(\theta\) of each investment \(\phi\).


\chapter{Electrolysis Example}
\label{\detokenize{doc-src/example-electrolysis:electrolysis-example}}\label{\detokenize{doc-src/example-electrolysis::doc}}
Here is a very simple model for electrolysis of water. We just have
water, electricity, a catalyst, and some lab space. We choose the
fundamental unit of operation to be moles of H$_{\text{2}}$:

     H$_{\text{2}}$O \(\rightarrow\) H$_{\text{2}}$ + ½ O$_{\text{2}}$

Experts could assess how much R\&D to increase the various efficiencies
\(\eta\) would cost. They could also suggest different catalysts,
adding alkali, or replacing the process with PEM.


\section{Tracked quantities.}
\label{\detokenize{doc-src/example-electrolysis:tracked-quantities}}
\(\mathcal{C} = \{ \mathrm{catalyst} \}\)

\(\mathcal{F} = \{ \mathrm{rent} \}\)

\(\mathcal{I} = \{ \mathrm{water}, \mathrm{electricity} \}\)

\(\mathcal{O} = \{ \mathrm{oxygen}, \mathrm{hydrogen} \}\)

\(\mathcal{M} = \{ \mathrm{cost}, \mathrm{GHG}, \mathrm{jobs} \}\)


\section{Current design.}
\label{\detokenize{doc-src/example-electrolysis:current-design}}
\(I_\mathrm{water} = 19.04~\mathrm{g/mole}\)

\(\eta_\mathrm{water} = 0.95\) (due to mass transport loss on input)

\(I_\mathrm{electricity} = 279~\mathrm{kJ/mole}\)

\(\eta_\mathrm{electricity} = 0.85\) (due to ohmic losses on input)

\(\eta_\mathrm{oxygen} = 0.90\) (due to mass transport loss on
output)

\(\eta_\mathrm{hydrogen} = 0.90\) (due to mass transport loss on
output)


\section{Current costs.}
\label{\detokenize{doc-src/example-electrolysis:current-costs}}
\(C_\mathrm{catalyst} = \left( 0.63~\mathrm{USD} \right) \cdot \frac{S}{6650~\mathrm{mole/yr}}\)
(cost of Al-Ni catalyst)

\(\tau_\mathrm{catalyst} = 3~\mathrm{yr}\) (effective lifetime of
Al-Ni catalyst)

\(F_\mathrm{rent} = \left( 1000~\mathrm{USD/yr} \right) \cdot \frac{S}{6650~\mathrm{mole/yr}}\)

\(S = 6650~\mathrm{mole/yr}\) (rough estimate for a 50W setup)


\section{Current prices.}
\label{\detokenize{doc-src/example-electrolysis:current-prices}}
\(p_\mathrm{water} = 4.8 \cdot 10^{-3}~\mathrm{USD/mole}\)

\(p_\mathrm{electricity} = 3.33 \cdot 10^{-5}~\mathrm{USD/kJ}\)

\(p_\mathrm{oxygen} = 3.0 \cdot 10^{-3}~\mathrm{USD/g}\)

\(p_\mathrm{hydrogen} = 1.0 \cdot 10^{-2}~\mathrm{USD/g}\)


\section{Production function (à la Leontief)}
\label{\detokenize{doc-src/example-electrolysis:production-function-a-la-leontief}}
\(P_\mathrm{oxygen} = \left( 16.00~\mathrm{g} \right) \cdot \min \left\{ \frac{I^*_\mathrm{water}}{18.08~\mathrm{g}}, \frac{I^*_\mathrm{electricity}}{237~\mathrm{kJ}} \right\}\)

\(P_\mathrm{hydrogen} = \left( 2.00~\mathrm{g} \right) \cdot \min \left\{ \frac{I^*_\mathrm{water}}{18.08~\mathrm{g}}, \frac{I^*_\mathrm{electricity}}{237~\mathrm{kJ}} \right\}\)


\section{Metric function.}
\label{\detokenize{doc-src/example-electrolysis:metric-function}}
\(M_\mathrm{cost} = K / O_\mathrm{hydrogen}\)

\(M_\mathrm{GHG} = \left( \left( 0.00108~\mathrm{gCO2e/gH20} \right) I_\mathrm{water} + \left( 0.138~\mathrm{gCO2e/kJ} \right) I_\mathrm{electricity} \right) / O_\mathrm{hydrogen}\)

\(M_\mathrm{jobs} = \left( 0.00015~\mathrm{job/mole} \right) / O_\mathrm{hydrogen}\)


\section{Performance of current design.}
\label{\detokenize{doc-src/example-electrolysis:performance-of-current-design}}
\(K = 0.18~\mathrm{USD/mole}\) (i.e., not profitable since it is
positive)

\(O_\mathrm{oxygen} = 14~\mathrm{g/mole}\)

\(O_\mathrm{hydrogen} = 1.8~\mathrm{g/mole}\)

\(\mu_\mathrm{cost} = 0.102~\mathrm{USD/gH2}\)

\(\mu_\mathrm{GHG} = 21.4~\mathrm{gCO2e/gH2}\)

\(\mu_\mathrm{jobs} = 0.000083~\mathrm{job/gH2}\)


\chapter{Database Schema}
\label{\detokenize{doc-src/database:database-schema}}\label{\detokenize{doc-src/database::doc}}
Database tables (one per set) hold all of the variables and the expert
assessments. These tables are augmented by concise code with
mathematical representations of the production and metric functions.

The Monte-Carlo computations are amenable to fast tensor-based
implementation in Python.

See
\textless{}\sphinxurl{https://github.com/NREL/portfolio/tree/master/production-function/framework/code/tyche/}\textgreater{}
for the \sphinxcode{\sphinxupquote{tyche}} package that computes cost, production, and metrics
from a technology design.

Each analysis case is represented by a \sphinxcode{\sphinxupquote{Technology}} and a \sphinxcode{\sphinxupquote{Scenario}}
within that technology. In the specifications for the individual tables,
we use the simple electrolysis example to populate the table.


\section{Metadata about indices}
\label{\detokenize{doc-src/database:metadata-about-indices}}
The \sphinxcode{\sphinxupquote{indices}} table (see \hyperref[\detokenize{doc-src/database:tbl-indices}]{Table \ref{\detokenize{doc-src/database:tbl-indices}}}) simply describes the various
indices available for the variables. The \sphinxcode{\sphinxupquote{Offset}} column specifies the
memory location in the argument for the production and metric functions.


\begin{savenotes}\sphinxattablestart
\centering
\sphinxcapstartof{table}
\sphinxthecaptionisattop
\sphinxcaption{Example of the \sphinxstyleliteralintitle{\sphinxupquote{indices}} table.}\label{\detokenize{doc-src/database:table-1}}\label{\detokenize{doc-src/database:tbl-indices}}
\sphinxaftertopcaption
\begin{tabulary}{\linewidth}[t]{|T|T|T|T|T|T|}
\hline
\sphinxstyletheadfamily 
Technology
&\sphinxstyletheadfamily 
Type
&\sphinxstyletheadfamily 
Index
&\sphinxstyletheadfamily 
Offset
&\sphinxstyletheadfamily 
Description
&\sphinxstyletheadfamily 
Notes
\\
\hline
Simple electrolysis
&
Capital
&
Catalyst
&
0
&
Catalyst
&\\
\hline
Simple electrolysis
&
Fixed
&
Rent
&
0
&
Rent
&\\
\hline
Simple electrolysis
&
Input
&
Water
&
0
&
Water
&\\
\hline
Simple electrolysis
&
Input
&
Electricity
&
1
&
Electricity
&\\
\hline
Simple electrolysis
&
Output
&
Oxygen
&
0
&
Oxygen
&\\
\hline
Simple electrolysis
&
Output
&
Hydrogen
&
1
&
Hydrogen
&\\
\hline
Simple electrolysis
&
Metric
&
Cost
&
0
&
Cost
&\\
\hline
Simple electrolysis
&
Metric
&
Jobs
&
1
&
Jobs
&\\
\hline
Simple electrolysis
&
Metric
&
GHG
&
2
&
GHGs
&\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}


\section{Design variables}
\label{\detokenize{doc-src/database:design-variables}}
The \sphinxcode{\sphinxupquote{design}} table (see \hyperref[\detokenize{doc-src/database:tbl-designs}]{Table \ref{\detokenize{doc-src/database:tbl-designs}}}) specifies the values of all of
the variables in the mathematical formulation of the design. Note that
the \sphinxcode{\sphinxupquote{Value}} column can either contain numeric literals or Python
expressions specifying probability distribution functions. For example,
a normal distribution with mean of five and standard deviation of two
would be written \sphinxcode{\sphinxupquote{st.norm(5, 2)}}. All of the \sphinxhref{https://docs.scipy.org/doc/scipy-1.4.1/reference/tutorial/stats/continuous.html\#continuous-distributions-in-scipy-stats}{Scipy probability
distribution
functions}
are available for use, as are two special functions, \sphinxcode{\sphinxupquote{constant}} and
\sphinxcode{\sphinxupquote{mixture}}. The \sphinxcode{\sphinxupquote{constant}} distribution is just a single constant
value; the \sphinxcode{\sphinxupquote{mixture}} distribution is the mixture of a list of
distributions, with specified relative weights. The \sphinxcode{\sphinxupquote{mixture}} function
is particularly important because it allows one to specify a first
distribution in the case of an R\&D breakthrough, but a second
distribution if no breakthrough occurs.


\begin{savenotes}\sphinxattablestart
\centering
\sphinxcapstartof{table}
\sphinxthecaptionisattop
\sphinxcaption{Example of the \sphinxstyleliteralintitle{\sphinxupquote{designs}} table.}\label{\detokenize{doc-src/database:table-2}}\label{\detokenize{doc-src/database:tbl-designs}}
\sphinxaftertopcaption
\begin{tabulary}{\linewidth}[t]{|T|T|T|T|T|T|T|}
\hline
\sphinxstyletheadfamily 
Technology
&\sphinxstyletheadfamily 
Scenario
&\sphinxstyletheadfamily 
Variable
&\sphinxstyletheadfamily 
Index
&\sphinxstyletheadfamily 
Value
&\sphinxstyletheadfamily 
Units
&\sphinxstyletheadfamily 
Notes
\\
\hline
Simple electrolysis
&
Base
&
Input
&
Water
&
19.04
&
g/mole
&
\(I_\mathrm{water}\)
\\
\hline
Simple electrolysis
&
Base
&
Input Efficiency
&
Water
&
0.95
&
1
&
\(\eta_\mathrm{water}\)
\\
\hline
Simple electrolysis
&
Base
&
Input
&
Electricity
&
279
&
kJ/mole
&
\(I_\mathrm{electricity}\)
\\
\hline
Simple electrolysis
&
Base
&
Input Efficiency
&
Electricity
&
0.85
&
1
&
\(\eta_\mathrm{electricity}\)
\\
\hline
Simple electrolysis
&
Base
&
Output Efficiency
&
Oxygen
&
0.90
&
1
&
\(\eta_\mathrm{oxygen}\)
\\
\hline
Simple electrolysis
&
Base
&
Output Efficiency
&
Hydrogen
&
0.90
&
1
&
\(\eta_\mathrm{hydrogen}\)
\\
\hline
Simple electrolysis
&
Base
&
Lifetime
&
Catalyst
&
3
&
yr
&
\(\tau_\mathrm{catalyst}\)
\\
\hline
Simple electrolysis
&
Base
&
Scale
&&
6650
&
mole/yr
&
\(S\)
\\
\hline
Simple electrolysis
&
Base
&
Input price
&
Water
&
4.8e-3
&
USD/mole
&
\(p_\mathrm{water}\)
\\
\hline
Simple electrolysis
&
Base
&
Input price
&
Electricity
&
3.33e-5
&
USD/kJ
&
\(p_\mathrm{electricity}\)
\\
\hline
Simple electrolysis
&
Base
&
Output price
&
Oxygen
&
3.0e-3
&
USD/g
&
\(p_\mathrm{oxygen}\)
\\
\hline
Simple electrolysis
&
Base
&
Output price
&
Hydrogen
&
1.0e-2
&
USD/g
&
\(p_\mathrm{hydrogen}\)
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}


\section{Metadata for functions}
\label{\detokenize{doc-src/database:metadata-for-functions}}
The \sphinxcode{\sphinxupquote{functions}} table (see \hyperref[\detokenize{doc-src/database:tbl-functions}]{Table \ref{\detokenize{doc-src/database:tbl-functions}}}) simply documents which
Python module and functions to use for the technology and scenario.
Currently only the \sphinxcode{\sphinxupquote{numpy}} style of function is supported, but later
\sphinxcode{\sphinxupquote{plain}} Python functions and \sphinxcode{\sphinxupquote{tensorflow}} functions will be allowed.


\begin{savenotes}\sphinxattablestart
\centering
\sphinxcapstartof{table}
\sphinxthecaptionisattop
\sphinxcaption{Example of the \sphinxstyleliteralintitle{\sphinxupquote{functions}} table.}\label{\detokenize{doc-src/database:table-3}}\label{\detokenize{doc-src/database:tbl-functions}}
\sphinxaftertopcaption
\begin{tabulary}{\linewidth}[t]{|T|T|T|T|T|T|T|T|}
\hline
\sphinxstyletheadfamily 
Technology
&\sphinxstyletheadfamily 
Style
&\sphinxstyletheadfamily 
Module
&\sphinxstyletheadfamily 
Capital
&\sphinxstyletheadfamily 
Fixed
&\sphinxstyletheadfamily 
Production
&\sphinxstyletheadfamily 
Metrics
&\sphinxstyletheadfamily 
Notes
\\
\hline
Simple electrolysis
&
numpy
&
simple\_electrolysis
&
capital\_cost
&
fixed\_cost
&
production
&
metrics
&\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}


\section{Parameters for functions}
\label{\detokenize{doc-src/database:parameters-for-functions}}
The \sphinxcode{\sphinxupquote{parameters}} table (see \hyperref[\detokenize{doc-src/database:tbl-parameters}]{Table \ref{\detokenize{doc-src/database:tbl-parameters}}}) contains ad-hoc
parameters specific to the particular production and metrics functions.
The \sphinxcode{\sphinxupquote{Offset}} column specifies the memory location in the argument for
the production and metric functions.


\begin{savenotes}\sphinxattablestart
\centering
\sphinxcapstartof{table}
\sphinxthecaptionisattop
\sphinxcaption{Example of the \sphinxstyleliteralintitle{\sphinxupquote{parameters}} table.}\label{\detokenize{doc-src/database:table-4}}\label{\detokenize{doc-src/database:tbl-parameters}}
\sphinxaftertopcaption
\begin{tabulary}{\linewidth}[t]{|T|T|T|T|T|T|T|}
\hline
\sphinxstyletheadfamily 
Technology
&\sphinxstyletheadfamily 
Scenario
&\sphinxstyletheadfamily 
Parameter
&\sphinxstyletheadfamily 
Offset
&\sphinxstyletheadfamily 
Value
&\sphinxstyletheadfamily 
Units
&\sphinxstyletheadfamily 
Notes
\\
\hline
Simple electrolysis
&
Base
&
Oxygen production
&
0
&
16.00
&
g
&\\
\hline
Simple electrolysis
&
Base
&
Hydrogen production
&
1
&
2.00
&
g
&\\
\hline
Simple electrolysis
&
Base
&
Water consumption
&
2
&
18.08
&
g
&\\
\hline
Simple electrolysis
&
Base
&
Electricity consumption
&
3
&
237
&
kJ
&\\
\hline
Simple electrolysis
&
Base
&
Jobs
&
4
&
1.5e-4
&
job/mole
&\\
\hline
Simple electrolysis
&
Base
&
Reference scale
&
5
&
6650
&
mole/yr
&\\
\hline
Simple electrolysis
&
Base
&
Reference capital cost for catalyst
&
6
&
0.63
&
USD
&\\
\hline
Simple electrolysis
&
Base
&
Reference fixed cost for rent
&
7
&
1000
&
USD/yr
&\\
\hline
Simple electrolysis
&
Base
&
GHG factor for water
&
8
&
0.00108
&
gCO2e/g
&
based on 244,956 gallons = 1 Mg CO2e
\\
\hline
Simple electrolysis
&
Base
&
GHG factor for electricity
&
9
&
0.138
&
gCO2e/kJ
&
based on 1 kWh = 0.5 kg CO2e
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}


\section{Units for results}
\label{\detokenize{doc-src/database:units-for-results}}
The \sphinxcode{\sphinxupquote{results}} table (see \hyperref[\detokenize{doc-src/database:tbl-results}]{Table \ref{\detokenize{doc-src/database:tbl-results}}}) simply specifies the units for
the results.


\begin{savenotes}\sphinxattablestart
\centering
\sphinxcapstartof{table}
\sphinxthecaptionisattop
\sphinxcaption{Example of the \sphinxstyleliteralintitle{\sphinxupquote{results}} table.}\label{\detokenize{doc-src/database:table-5}}\label{\detokenize{doc-src/database:tbl-results}}
\sphinxaftertopcaption
\begin{tabulary}{\linewidth}[t]{|T|T|T|T|T|}
\hline
\sphinxstyletheadfamily 
Technology
&\sphinxstyletheadfamily 
Variable
&\sphinxstyletheadfamily 
Index
&\sphinxstyletheadfamily 
Units
&\sphinxstyletheadfamily 
Notes
\\
\hline
Simple electrolysis
&
Cost
&
Cost
&
USD/mole
&\\
\hline
Simple electrolysis
&
Output
&
Oxygen
&
g/mole
&\\
\hline
Simple electrolysis
&
Output
&
Hydrogen
&
g/mole
&\\
\hline
Simple electrolysis
&
Metric
&
Cost
&
job/gH2
&\\
\hline
Simple electrolysis
&
Metric
&
Jobs
&
job/gH2
&\\
\hline
Simple electrolysis
&
Metric
&
GHG
&
gCO2e/gH2
&\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}


\section{Tranches of investments.}
\label{\detokenize{doc-src/database:tranches-of-investments}}
In the \sphinxcode{\sphinxupquote{tranches}} table (see \hyperref[\detokenize{doc-src/database:tbl-tranches}]{Table \ref{\detokenize{doc-src/database:tbl-tranches}}}), each \sphinxstyleemphasis{category} of
investment contains a set of mutually exclusive \sphinxstyleemphasis{tranches} that may be
associated with one or more \sphinxstyleemphasis{scenarios} defined in the \sphinxcode{\sphinxupquote{designs}}
table. Typically, a category is associated with a technology area and
each tranche corresponds to an investment strategy within that category.


\begin{savenotes}\sphinxattablestart
\centering
\sphinxcapstartof{table}
\sphinxthecaptionisattop
\sphinxcaption{Example of the \sphinxstyleliteralintitle{\sphinxupquote{tranches}} table.}\label{\detokenize{doc-src/database:table-6}}\label{\detokenize{doc-src/database:tbl-tranches}}
\sphinxaftertopcaption
\begin{tabulary}{\linewidth}[t]{|T|T|T|T|T|}
\hline
\sphinxstyletheadfamily 
Category
&\sphinxstyletheadfamily 
Tranche
&\sphinxstyletheadfamily 
Scenario
&\sphinxstyletheadfamily 
Amount
&\sphinxstyletheadfamily 
Notes
\\
\hline
Electrolysis R\&D
&
No Electrolysis R\&D
&
Base Electrolysis
&
0
&\\
\hline
Electrolysis R\&D
&
Low Electrolysis R\&D
&
Slow Progress on Electrolysis
&
1000000
&\\
\hline
Electrolysis R\&D
&
Medium Electrolysis R\&D
&
Moderate Progress on Electrolysis
&
2500000
&\\
\hline
Electrolysis R\&D
&
High Electrolysis R\&D
&
Fast Progress on Electrolysis
&
5000000
&\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}


\section{Investments}
\label{\detokenize{doc-src/database:investments}}
In the \sphinxcode{\sphinxupquote{investments}} table (see \hyperref[\detokenize{doc-src/database:tbl-investments}]{Table \ref{\detokenize{doc-src/database:tbl-investments}}}), each \sphinxstyleemphasis{investment}
is associated with a single \sphinxstyleemphasis{tranche} in one or more \sphinxstyleemphasis{categories}. An
investment typically combines tranches from several different investment
categories.


\begin{savenotes}\sphinxattablestart
\centering
\sphinxcapstartof{table}
\sphinxthecaptionisattop
\sphinxcaption{Example of the \sphinxstyleliteralintitle{\sphinxupquote{investments}} table.}\label{\detokenize{doc-src/database:table-7}}\label{\detokenize{doc-src/database:tbl-investments}}
\sphinxaftertopcaption
\begin{tabulary}{\linewidth}[t]{|T|T|T|T|}
\hline
\sphinxstyletheadfamily 
Investment
&\sphinxstyletheadfamily 
Category
&\sphinxstyletheadfamily 
Tranche
&\sphinxstyletheadfamily 
Notes
\\
\hline
No R\&D Spending
&
Electrolysis R\&D
&
No Electrolysis R\&D
&\\
\hline
Low R\&D Spending
&
Electrolysis R\&D
&
Low Electrolysis R\&D
&\\
\hline
Medium R\&D Spending
&
Electrolysis R\&D
&
Medium Electrolysis R\&D
&\\
\hline
High R\&D Spending
&
Electrolysis R\&D
&
High Electrolysis R\&D
&\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}


\chapter{Defining Technologies}
\label{\detokenize{doc-src/example-technology:defining-technologies}}\label{\detokenize{doc-src/example-technology::doc}}
Each technology design requires a Python module with a capital cost, a
fixed cost, a production, and a metrics function. \hyperref[\detokenize{doc-src/example-technology:lst-electrolysis}]{Listing \ref{\detokenize{doc-src/example-technology:lst-electrolysis}}}
shows these functions for the simple electrolysis example.
\sphinxSetupCaptionForVerbatim{Example technology-defining functions.}
\def\sphinxLiteralBlockLabel{\label{\detokenize{doc-src/example-technology:lst-electrolysis}}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{\PYGZsh{} Simple electrolysis.}


\PYG{c+c1}{\PYGZsh{} All of the computations must be vectorized, so use {}`numpy{}`.}
\PYG{k+kn}{import} \PYG{n+nn}{numpy} \PYG{k}{as} \PYG{n+nn}{np}


\PYG{c+c1}{\PYGZsh{} Capital\PYGZhy{}cost function.}
\PYG{k}{def} \PYG{n+nf}{capital\PYGZus{}cost}\PYG{p}{(}
  \PYG{n}{scale}\PYG{p}{,}
  \PYG{n}{parameter}
\PYG{p}{)}\PYG{p}{:}

  \PYG{c+c1}{\PYGZsh{} Scale the reference values.}
  \PYG{k}{return} \PYG{n}{np}\PYG{o}{.}\PYG{n}{stack}\PYG{p}{(}\PYG{p}{[}\PYG{n}{np}\PYG{o}{.}\PYG{n}{multiply}\PYG{p}{(}
    \PYG{n}{parameter}\PYG{p}{[}\PYG{l+m+mi}{6}\PYG{p}{]}\PYG{p}{,} \PYG{n}{np}\PYG{o}{.}\PYG{n}{divide}\PYG{p}{(}\PYG{n}{scale}\PYG{p}{,} \PYG{n}{parameter}\PYG{p}{[}\PYG{l+m+mi}{5}\PYG{p}{]}\PYG{p}{)}
  \PYG{p}{)}\PYG{p}{]}\PYG{p}{)}


\PYG{c+c1}{\PYGZsh{} Fixed\PYGZhy{}cost function.}
\PYG{k}{def} \PYG{n+nf}{fixed\PYGZus{}cost}\PYG{p}{(}
  \PYG{n}{scale}\PYG{p}{,}
  \PYG{n}{parameter}
\PYG{p}{)}\PYG{p}{:}

  \PYG{c+c1}{\PYGZsh{} Scale the reference values.}
  \PYG{k}{return} \PYG{n}{np}\PYG{o}{.}\PYG{n}{stack}\PYG{p}{(}\PYG{p}{[}\PYG{n}{np}\PYG{o}{.}\PYG{n}{multiply}\PYG{p}{(}
    \PYG{n}{parameter}\PYG{p}{[}\PYG{l+m+mi}{7}\PYG{p}{]}\PYG{p}{,}
    \PYG{n}{np}\PYG{o}{.}\PYG{n}{divide}\PYG{p}{(}\PYG{n}{scale}\PYG{p}{,} \PYG{n}{parameter}\PYG{p}{[}\PYG{l+m+mi}{5}\PYG{p}{]}\PYG{p}{)}
  \PYG{p}{)}\PYG{p}{]}\PYG{p}{)}


\PYG{c+c1}{\PYGZsh{} Production function.}
\PYG{k}{def} \PYG{n+nf}{production}\PYG{p}{(}
  \PYG{n}{capital}\PYG{p}{,}
  \PYG{n}{fixed}\PYG{p}{,}
  \PYG{n+nb}{input}\PYG{p}{,}
  \PYG{n}{parameter}
\PYG{p}{)}\PYG{p}{:}

  \PYG{c+c1}{\PYGZsh{} Moles of input.}
  \PYG{n}{water}       \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{divide}\PYG{p}{(}\PYG{n+nb}{input}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{p}{,} \PYG{n}{parameter}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{]}\PYG{p}{)}
  \PYG{n}{electricity} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{divide}\PYG{p}{(}\PYG{n+nb}{input}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{p}{,} \PYG{n}{parameter}\PYG{p}{[}\PYG{l+m+mi}{3}\PYG{p}{]}\PYG{p}{)}

  \PYG{c+c1}{\PYGZsh{} Moles of output.}
  \PYG{n}{output} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{minimum}\PYG{p}{(}\PYG{n}{water}\PYG{p}{,} \PYG{n}{electricity}\PYG{p}{)}

  \PYG{c+c1}{\PYGZsh{} Grams of output.}
  \PYG{n}{oxygen}   \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{multiply}\PYG{p}{(}\PYG{n}{output}\PYG{p}{,} \PYG{n}{parameter}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{p}{)}
  \PYG{n}{hydrogen} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{multiply}\PYG{p}{(}\PYG{n}{output}\PYG{p}{,} \PYG{n}{parameter}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{p}{)}

  \PYG{c+c1}{\PYGZsh{} Package results.}
  \PYG{k}{return} \PYG{n}{np}\PYG{o}{.}\PYG{n}{stack}\PYG{p}{(}\PYG{p}{[}\PYG{n}{oxygen}\PYG{p}{,} \PYG{n}{hydrogen}\PYG{p}{]}\PYG{p}{)}


\PYG{c+c1}{\PYGZsh{} Metrics function.}
\PYG{k}{def} \PYG{n+nf}{metrics}\PYG{p}{(}
  \PYG{n}{capital}\PYG{p}{,}
  \PYG{n}{fixed}\PYG{p}{,}
  \PYG{n}{input\PYGZus{}raw}\PYG{p}{,}
  \PYG{n+nb}{input}\PYG{p}{,}
  \PYG{n}{img}\PYG{o}{/}\PYG{n}{output\PYGZus{}raw}\PYG{p}{,}
  \PYG{n}{output}\PYG{p}{,}
  \PYG{n}{cost}\PYG{p}{,}
  \PYG{n}{parameter}
\PYG{p}{)}\PYG{p}{:}

  \PYG{c+c1}{\PYGZsh{} Hydrogen output.}
  \PYG{n}{hydrogen} \PYG{o}{=} \PYG{n}{output}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}

  \PYG{c+c1}{\PYGZsh{} Cost of hydrogen.}
  \PYG{n}{cost1} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{divide}\PYG{p}{(}\PYG{n}{cost}\PYG{p}{,} \PYG{n}{hydrogen}\PYG{p}{)}

  \PYG{c+c1}{\PYGZsh{} Jobs normalized to hydrogen.}
  \PYG{n}{jobs} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{divide}\PYG{p}{(}\PYG{n}{parameter}\PYG{p}{[}\PYG{l+m+mi}{4}\PYG{p}{]}\PYG{p}{,} \PYG{n}{hydrogen}\PYG{p}{)}

  \PYG{c+c1}{\PYGZsh{} GHGs associated with water and electricity.}
  \PYG{n}{water}       \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{multiply}\PYG{p}{(}\PYG{n}{input\PYGZus{}raw}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{p}{,} \PYG{n}{parameter}\PYG{p}{[}\PYG{l+m+mi}{8}\PYG{p}{]}\PYG{p}{)}
  \PYG{n}{electricity} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{multiply}\PYG{p}{(}\PYG{n}{input\PYGZus{}raw}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{p}{,} \PYG{n}{parameter}\PYG{p}{[}\PYG{l+m+mi}{9}\PYG{p}{]}\PYG{p}{)}
  \PYG{n}{co2e} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{divide}\PYG{p}{(}\PYG{n}{np}\PYG{o}{.}\PYG{n}{add}\PYG{p}{(}\PYG{n}{water}\PYG{p}{,} \PYG{n}{electricity}\PYG{p}{)}\PYG{p}{,} \PYG{n}{hydrogen}\PYG{p}{)}

  \PYG{c+c1}{\PYGZsh{} Package results.}
  \PYG{k}{return} \PYG{n}{np}\PYG{o}{.}\PYG{n}{stack}\PYG{p}{(}\PYG{p}{[}\PYG{n}{cost1}\PYG{p}{,} \PYG{n}{jobs}\PYG{p}{,} \PYG{n}{co2e}\PYG{p}{]}\PYG{p}{)}
\end{sphinxVerbatim}


\chapter{Optimization}
\label{\detokenize{doc-src/optimizers:optimization}}\label{\detokenize{doc-src/optimizers::doc}}

\section{Non-Linear (NLP) Formulation Summary}
\label{\detokenize{doc-src/optimizers:non-linear-nlp-formulation-summary}}
Technology models and data are defined before the optimizer is called.
Three methods in the \sphinxcode{\sphinxupquote{EpsilonConstraintOptimizer}} class,
\sphinxcode{\sphinxupquote{maximize\_slsqp}}, \sphinxcode{\sphinxupquote{maximize\_shgo}} and \sphinxcode{\sphinxupquote{maximize\_diffev}}, are
wrappers for the algorithm calls. The optimization methods define the
optimization problem according to each algorithm’s requirements, call
the algorithm, and provide either optimized results in a standard format
for postprocessing, or an error messages if the optimization did not
complete successfully. The SLSQP algorithm, which is not a global
optimizer, is provided to assess problem feasibility and provide
reasonable upper and lower bounds on metrics being optimized. Global
optimization algorithms to implement were chosen according to the
following criteria.
\begin{itemize}
\item {} 
Ability to perform constrained optimization with inequality
constraints

\item {} 
Ability to optimize without specified Jacobian or Hessian functions

\item {} 
Ability to specify bounds on individual decision variables

\item {} 
Ability to work on a variety of potentially non-convex and otherwise
complex problems

\end{itemize}


\subsection{Solutions to \sphinxstyleliteralintitle{\sphinxupquote{pv\_residential\_simple}}}
\label{\detokenize{doc-src/optimizers:solutions-to-pv-residential-simple}}
The solve times listed are in addition to the time required to set up
the problem and solve for the maximum allowable metric values, which
currently uses the SLSQP algorithm. This setup time is between 10 and 15
seconds.

Minimizing LCOE subject to a total investment amount of \$3 MM USD and
GHG being at least 40.


\begin{savenotes}\sphinxattablestart
\centering
\begin{tabular}[t]{|*{4}{\X{1}{4}|}}
\hline
\sphinxstyletheadfamily 
Algorithm
&\sphinxstyletheadfamily 
Objective Function Value
&\sphinxstyletheadfamily 
GHG Constraint Value
&\sphinxstyletheadfamily 
Solve Time (s)
\\
\hline
Differential evolution
&
0.037567
&
41.699885
&
145
\\
\hline
Differential evolution
&
0.037547
&
41.632867
&
589
\\
\hline
SLSQP
&
0.037712
&
41.969348
&
\textasciitilde{} 2
\\
\hline
SHGO
&
None found
&
None found
&\begin{itemize}
\item {} 
\end{itemize}
\\
\hline
\end{tabular}
\par
\sphinxattableend\end{savenotes}

Additional details for each solution are given below under the section
for the corresponding algorithm.


\section{Sequential Least Squares Programming}
\label{\detokenize{doc-src/optimizers:sequential-least-squares-programming}}
The Sequential Least Squares Programming algorithm uses a gradient
search method to locate a possibly local optimum. {[}6{]}

\sphinxcode{\sphinxupquote{EpsilonConstraintOptimizer.maximize\_slsqp(self, metric, max\_amount=None, total\_amount=None, min\_metric=None, statistic=np.mean, initial=None, tol=1e-8, maxiter=50, verbose=0)}}

Maximize the objective function using the \sphinxcode{\sphinxupquote{fmin\_slsqp}} algorithm.

\sphinxstylestrong{Parameters}
\begin{description}
\item[{\sphinxcode{\sphinxupquote{metric}}}] \leavevmode{[}str{]}
Name of metric to maximize. No default.

\item[{\sphinxcode{\sphinxupquote{max\_amount}}}] \leavevmode{[}DataFrame{]}
Maximum investment amounts by R\&D category (defined in investments
data) and maximum metric values. Defaults to \sphinxcode{\sphinxupquote{None}}.

\item[{\sphinxcode{\sphinxupquote{total\_amount}}}] \leavevmode{[}float{]}
Upper limit on total investments summed across all R\&D categories.
Defaults to \sphinxcode{\sphinxupquote{None}}.

\item[{\sphinxcode{\sphinxupquote{min\_metric}}}] \leavevmode{[}DataFrame{]}
Lower limits on all metrics. Defaults to \sphinxcode{\sphinxupquote{None}}.

\item[{\sphinxcode{\sphinxupquote{statistic}}}] \leavevmode{[}function{]}
Summary statistic used on the sample evaluations; the metric measure
that is fed to the optimizer. Defaults to \sphinxcode{\sphinxupquote{np.mean}} such that the
optimization is performed on the means of relevant metrics.

\item[{\sphinxcode{\sphinxupquote{initial}}}] \leavevmode{[}array of float{]}
Initial value of decision variable(s) fed to the optimizer. Defaults
to \sphinxcode{\sphinxupquote{None}}.

\item[{\sphinxcode{\sphinxupquote{tol}}}] \leavevmode{[}float{]}
Requested accuracy of the optimized solution. Defaults to 1E-08.

\item[{\sphinxcode{\sphinxupquote{maxiter}}}] \leavevmode{[}int{]}
Maximum number of iterations the optimizer is permitted to execute.
Defaults to 50.

\item[{\sphinxcode{\sphinxupquote{verbose}}}] \leavevmode{[}int{]}
Amount of information provided by the wrapper as the optimization is
performed. Defaults to 0.
* verbose = 0 : No messages.
* verbose = 1 : Summary message when fmin\_slsqp completes.
* verbose = 2 : Status of each algorithm iteration and summary message.
* verbose = 3 : Investment constraint status, metric constraint status, status of each algorithm iteration, and summary message.
* verbose \textgreater{} 3 : All metric values, decision variable values, investment constraint status, metric constraint status, status of each algorithm iteration, and summary message.

\end{description}

\sphinxstylestrong{Return}
\begin{description}
\item[{\sphinxcode{\sphinxupquote{results}}}] \leavevmode{[}\sphinxcode{\sphinxupquote{Optimum}} instance{]}
Container for an \sphinxcode{\sphinxupquote{exit\_code}} and \sphinxcode{\sphinxupquote{exit\_message}} received from the
\sphinxcode{\sphinxupquote{differential\_evolution}} call, a list of optimized \sphinxcode{\sphinxupquote{amounts}} and
a list of optimized \sphinxcode{\sphinxupquote{metrics}}.

\end{description}

A complete list of parameters and options for the \sphinxcode{\sphinxupquote{fmin\_slsqp}}
algorithm is available in the documentation. {[}3{]}


\subsection{Defining Constraints}
\label{\detokenize{doc-src/optimizers:defining-constraints}}
Constraints for \sphinxcode{\sphinxupquote{fmin\_slsqp}} are defined either as a single function
that takes as input a vector of decision variable values and returns an
array containing the value of all constraints in the problem
simultaneously. Both equality and inequality constraints can be defined,
although they must be as separate functions and are provided to the
\sphinxcode{\sphinxupquote{fmin\_slsqp}} algorithm under separate arguments.


\subsection{SLSQP Solution to \sphinxstyleliteralintitle{\sphinxupquote{pv\_residential\_simple}}}
\label{\detokenize{doc-src/optimizers:slsqp-solution-to-pv-residential-simple}}
Solve time: 1.5 s


\begin{savenotes}\sphinxattablestart
\centering
\begin{tabulary}{\linewidth}[t]{|T|T|}
\hline
\sphinxstyletheadfamily 
Decision Variable
&\sphinxstyletheadfamily 
Optimized Value
\\
\hline
BoS R\&D
&
1.25 E-04
\\
\hline
Inverter R\&D
&
3.64 E-08
\\
\hline
Module R\&D
&
3.00 E+06
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}


\begin{savenotes}\sphinxattablestart
\centering
\begin{tabulary}{\linewidth}[t]{|T|T|}
\hline
\sphinxstyletheadfamily 
System Metric
&\sphinxstyletheadfamily 
Optimized Value
\\
\hline
GHG
&
41.97
\\
\hline
LCOE
&
0.038
\\
\hline
Labor
&
0.032
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}


\section{Differential Evolution}
\label{\detokenize{doc-src/optimizers:differential-evolution}}
Differential evolution is one type of evolutionary algorithm that
iteratively improves on an initial population, or set of potential
solutions. {[}5{]} Differential evolution is well-suited to searching large
solution spaces with multiple local minima, but does not guarantee
convergence to the global minimum.

\sphinxcode{\sphinxupquote{EpsilonConstraintOptimizer.maximize\_diffev(self, metric, max\_amount=None, total\_amount=None, min\_metric=None, statistic=np.mean, strategy='best1bin', tol=1e-8, maxiter=50, init='latinhypercube', verbose=0)}}

\sphinxstylestrong{Parameters}
\begin{description}
\item[{\sphinxcode{\sphinxupquote{metric}}}] \leavevmode{[}str{]}
Name of metric to maximize. No default value.

\item[{\sphinxcode{\sphinxupquote{max\_amount}}}] \leavevmode{[}DataFrame{]}
Maximum investment amounts by R\&D category (defined in investments
data) and maximum metric values. Defaults to \sphinxcode{\sphinxupquote{None}}.

\item[{\sphinxcode{\sphinxupquote{total\_amount}}}] \leavevmode{[}float{]}
Upper limit on total investments summed across all R\&D categories.
Defaults to \sphinxcode{\sphinxupquote{None}}.

\item[{\sphinxcode{\sphinxupquote{min\_metric}}}] \leavevmode{[}DataFrame{]}
Lower limits on all metrics. Defaults to \sphinxcode{\sphinxupquote{None}}.

\item[{\sphinxcode{\sphinxupquote{statistic}}}] \leavevmode{[}function{]}
Summary statistic used on the sample evaluations; the metric measure
that is fed to the optimizer. Defaults to \sphinxcode{\sphinxupquote{np.mean}} such that the
optimization is performed on the means of relevant metrics.

\item[{\sphinxcode{\sphinxupquote{strategy}}}] \leavevmode{[}str{]}
Which differential evolution strategy to use. Defaults to ‘best1bin’.
See {[}2{]} for full list.

\item[{\sphinxcode{\sphinxupquote{seed}}}] \leavevmode{[}int{]}
Sets the random seed for optimization by creating a new
\sphinxcode{\sphinxupquote{RandomState}} instance. Defaults to 2 for reproducible solutions.
If a value is not provided, then \sphinxcode{\sphinxupquote{differential\_evolution}} will
return slightly different solutions for the same optimization problem
every time it is called.

\item[{\sphinxcode{\sphinxupquote{init}}}] \leavevmode{[}str or array-like{]}
Type of population initialization. Defaults to ‘latinhypercube’.
Alternative initializations are ‘random’ (which does not guarantee
good coverage of the solution space) or specifying every member of
the initial population in an array of shape (\sphinxcode{\sphinxupquote{popsize}},
\sphinxcode{\sphinxupquote{len(variables)}}). The latter option is useful when the global
minimum is known to be in a small portion of the solution space, and
the initialization can seed the population in this area. However,
this parameter is not analogous to specifying initial values for
decision variables, as each candidate solution in the population must
be unique for the algorithm to optimize correctly.

\item[{\sphinxcode{\sphinxupquote{tol}}}] \leavevmode{[}float{]}
Relative tolerance for convergence, which provides an upper limit on
the standard deviation of candidate solutions. When this upper limit
is met, the optimization has converged. Defaults to 0.01. The
convergence tolerance for this algorithm was loosened compared to the
other algorithms to lessen the execution time and increase the
changes of the algorithm converging. Tighter tolerances (lower values
of \sphinxcode{\sphinxupquote{tol}}) tended to prevent the algorithm converging.

\item[{\sphinxcode{\sphinxupquote{maxiter}}}] \leavevmode{[}int{]}
Upper limit on generations of candidate solution evolution, which
corresponds to the number of algorithm iterations. Each iteration
involves many function evaluations as each solution in the population
evolves. Defaults to 75.

\item[{\sphinxcode{\sphinxupquote{verbose}}}] \leavevmode{[}int{]}
Verbosity level returned by this outer function and the differential\_evolution algorithm. Defaults to 0.
* verbose = 0 : No messages.
* verbose = 1 : Objective function value at every algorithm iteration.
* verbose = 2 : Investment constraint status, metric constraint status, and objective function value.
* verbose = 3 : Decision variable values, investment constraint status, metric constraint status, and objective function value.
* verbose \textgreater{} 3 : All metric values, decision variable values, investment constraint status, metric constraint status, and objective function value.

\end{description}

\sphinxstylestrong{Returns}
\begin{description}
\item[{\sphinxcode{\sphinxupquote{out}}}] \leavevmode{[}\sphinxcode{\sphinxupquote{Optimum}} instance{]}
Container for an \sphinxcode{\sphinxupquote{exit\_code}} and \sphinxcode{\sphinxupquote{exit\_message}} received from the
\sphinxcode{\sphinxupquote{differential\_evolution}} call, a list of optimized \sphinxcode{\sphinxupquote{amounts}} and
a list of optimized \sphinxcode{\sphinxupquote{metrics}}.

\end{description}

A complete list of parameters and options for the
\sphinxcode{\sphinxupquote{differential\_evolution}} algorithm is available in the documentation.
{[}2{]}


\subsection{Defining Constraints}
\label{\detokenize{doc-src/optimizers:defining-constraints-2}}\label{\detokenize{doc-src/optimizers:defining-constraints-1}}
Constraints for \sphinxcode{\sphinxupquote{differential\_evolution}} are defined by passing the
same multi-valued function defined in \sphinxcode{\sphinxupquote{maximize\_slsqp}} to the
\sphinxcode{\sphinxupquote{NonLinearConstraint}} method. {[}7{]}


\subsection{Differential Evolution Solutions to \sphinxstyleliteralintitle{\sphinxupquote{pv\_residential\_simple}}}
\label{\detokenize{doc-src/optimizers:differential-evolution-solutions-to-pv-residential-simple}}
\sphinxstylestrong{Solution 1}
\begin{itemize}
\item {} 
Seed = 2

\item {} 
Solve time = 145 s

\end{itemize}


\begin{savenotes}\sphinxattablestart
\centering
\begin{tabulary}{\linewidth}[t]{|T|T|}
\hline
\sphinxstyletheadfamily 
Decision Variable
&\sphinxstyletheadfamily 
Optimized Value
\\
\hline
BoS R\&D
&
9.62 E+02
\\
\hline
Inverter R\&D
&
5.33 E+02
\\
\hline
Module R\&D
&
2.99 E+06
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}


\begin{savenotes}\sphinxattablestart
\centering
\begin{tabulary}{\linewidth}[t]{|T|T|}
\hline
\sphinxstyletheadfamily 
System Metric
&\sphinxstyletheadfamily 
Optimized Value
\\
\hline
GHG
&
41.70
\\
\hline
LCOE
&
0.038
\\
\hline
Labor
&
-0.456
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}

\sphinxstylestrong{Solution 2}
\begin{itemize}
\item {} 
Seed = 1

\item {} 
Solve time = 589

\end{itemize}


\begin{savenotes}\sphinxattablestart
\centering
\begin{tabulary}{\linewidth}[t]{|T|T|}
\hline
\sphinxstyletheadfamily 
Decision Variable
&\sphinxstyletheadfamily 
Optimized Value
\\
\hline
BoS R\&D
&
4.70 E+03
\\
\hline
Inverter R\&D
&
3.71 E+02
\\
\hline
Module R\&D
&
2.99 E+06
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}


\begin{savenotes}\sphinxattablestart
\centering
\begin{tabulary}{\linewidth}[t]{|T|T|}
\hline
\sphinxstyletheadfamily 
System Metric
&\sphinxstyletheadfamily 
Optimized Value
\\
\hline
GHG
&
41.63
\\
\hline
LCOE
&
0.037
\\
\hline
Labor
&
-2.29
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}


\section{Simplicial Homology Global Optimization}
\label{\detokenize{doc-src/optimizers:simplicial-homology-global-optimization}}
The Simplicial Homology Global Optimization (SHGO) algorithm applies
simplicial homology to general non-linear, low-dimensional optimization
problems. {[}4{]}

\sphinxcode{\sphinxupquote{EpsilonConstraintOptimizer.maximize\_shgo(self, metric, max\_amount=None, total\_amount=None, min\_metric=None, statistic=np.mean, tol=1e-8, maxiter=50, sampling\_method='simplicial', verbose=0)}}

Maximize the objective function using the shgo global optimization
algorithm.

\sphinxstylestrong{Parameters}
\begin{description}
\item[{\sphinxcode{\sphinxupquote{metric}}}] \leavevmode{[}str{]}
Name of metric to maximize. No default value.

\item[{\sphinxcode{\sphinxupquote{max\_amount}}}] \leavevmode{[}DataFrame{]}
Maximum investment amounts by R\&D category (defined in investments
data) and maximum metric values. Defaults to \sphinxcode{\sphinxupquote{None}}.

\item[{\sphinxcode{\sphinxupquote{total\_amount}}}] \leavevmode{[}float{]}
Upper metric\_limit on total investments summed across all R\&D
categories. Defaults to \sphinxcode{\sphinxupquote{None}}.

\item[{\sphinxcode{\sphinxupquote{min\_metric}}}] \leavevmode{[}DataFrame{]}
Lower limits on all metrics. Defaults to \sphinxcode{\sphinxupquote{None}}.

\item[{\sphinxcode{\sphinxupquote{statistic}}}] \leavevmode{[}function{]}
Summary statistic used on the sample evaluations; the metric measure
that is fed to the optimizer. Defaults to \sphinxcode{\sphinxupquote{np.mean}} such that the
optimization is performed on the means of relevant metrics.

\item[{\sphinxcode{\sphinxupquote{tol}}}] \leavevmode{[}float{]}
Objective function tolerance in stopping criterion. Defaults to
1E-08.

\item[{\sphinxcode{\sphinxupquote{maxiter}}}] \leavevmode{[}int{]}
Upper limit on algorithm iterations that can be performed. One
iteration involves many function evaluations. Defaults to 50.

\item[{\sphinxcode{\sphinxupquote{sampling\_method}}}] \leavevmode{[}str{]}
Allowable values are ‘sobol and ’simplicial’. Simplicial is default,
uses less memory, and guarantees convergence (theoretically). Sobol
is faster, uses more memory and does not guarantee convergence. Per
documentation, Sobol is better for “easier” problems. Defaults to
‘simplicial’.

\item[{\sphinxcode{\sphinxupquote{verbose}}}] \leavevmode{[}int{]}
Verbosity level returned by this outer function and the SHGO algorithm. Defaults to 0.
*  verbose = 0 : No messages.
*  verbose = 1 : Convergence messages from SHGO algorithm.
*  verbose = 2 : Investment constraint status, metric constraint status, and convergence messages.
*  verbose = 3 : Decision variable values, investment constraint status, metric constraint status, and convergence messages.
*  verbose \textgreater{} 3 : All metric values, decision variable values, investment constraint status, metric constraint status, and convergence messages .

\end{description}

\sphinxstylestrong{Returns}
\begin{description}
\item[{\sphinxcode{\sphinxupquote{out}}}] \leavevmode{[}\sphinxcode{\sphinxupquote{Optimum}} instance{]}
: Container for an \sphinxcode{\sphinxupquote{exit\_code}} and \sphinxcode{\sphinxupquote{exit\_message}} received from
the \sphinxcode{\sphinxupquote{shgo}} call, a list of optimized \sphinxcode{\sphinxupquote{amounts}} and a list of
optimized \sphinxcode{\sphinxupquote{metrics}}.

\end{description}

\sphinxcode{\sphinxupquote{shgo}} does not have a parameter that sets the initial decision
variable values. A complete list of parameters available for the
\sphinxcode{\sphinxupquote{shgo}} algorithm is available in the documentation. {[}1{]}


\subsection{Defining Constraints}
\label{\detokenize{doc-src/optimizers:defining-constraints-3}}\label{\detokenize{doc-src/optimizers:defining-constraints-2-1}}
Constraints for \sphinxcode{\sphinxupquote{shgo}} must be provided as a dictionary or sequence of
dictionaries with the following format:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{constraints} \PYG{o}{=} \PYG{p}{[} \PYG{p}{\PYGZob{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{type}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{ineq}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{fun}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{n}{g1}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}\PYG{p}{\PYGZcb{}}\PYG{p}{,}
                \PYG{p}{\PYGZob{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{type}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{ineq}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{fun}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{n}{g2}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}\PYG{p}{\PYGZcb{}}\PYG{p}{,}
                \PYG{o}{.}\PYG{o}{.}\PYG{o}{.}
                \PYG{p}{\PYGZob{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{type}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{eq}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{fun}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{n}{h1}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}\PYG{p}{\PYGZcb{}}\PYG{p}{,}
                \PYG{p}{\PYGZob{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{type}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{eq}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{fun}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{n}{h2}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}\PYG{p}{\PYGZcb{}}\PYG{p}{,}
                \PYG{o}{.}\PYG{o}{.}\PYG{o}{.} \PYG{p}{]}
\end{sphinxVerbatim}

Each of the constraint functions \sphinxcode{\sphinxupquote{g1(x)}}, \sphinxcode{\sphinxupquote{h1(x)}}, and so on are
functions that take decision variable values as inputs and return the
value of the constraint. Inequality constraints (\sphinxcode{\sphinxupquote{g1(x)}} and \sphinxcode{\sphinxupquote{g2(x)}}
above) are formulated as \(g(x) \geq 0\) and equality constraints
(\sphinxcode{\sphinxupquote{h1(x)}} and \sphinxcode{\sphinxupquote{h2(x)}} above) are formulated as \(h(x) = 0\). Each
constraint in the optimization problem is defined as a separate
function, with a separate dictionary giving the constraint type. With
\sphinxcode{\sphinxupquote{shgo}} it is not possible to use one function that returns a vector of
constraint values.


\section{Piecewise Linear (MILP) Formulation Summary}
\label{\detokenize{doc-src/optimizers:piecewise-linear-milp-formulation-summary}}

\subsection{Notation}
\label{\detokenize{doc-src/optimizers:notation}}

\begin{savenotes}\sphinxattablestart
\centering
\sphinxcapstartof{table}
\sphinxthecaptionisattop
\sphinxcaption{Index definitions for the MILP formulation.}\label{\detokenize{doc-src/optimizers:table-1}}\label{\detokenize{doc-src/optimizers:tbl-milpindex}}
\sphinxaftertopcaption
\begin{tabulary}{\linewidth}[t]{|T|T|}
\hline
\sphinxstyletheadfamily 
Index
&\sphinxstyletheadfamily 
Description
\\
\hline
\(I\)
&
Number of elicited data points (investment levels and metrics)
\\
\hline
\(J\)
&
Number of investment categories
\\
\hline
\(K\)
&
Number of metrics
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}


\begin{savenotes}\sphinxattablestart
\centering
\sphinxcapstartof{table}
\sphinxthecaptionisattop
\sphinxcaption{Data definitions for the MILP formulation.}\label{\detokenize{doc-src/optimizers:table-2}}\label{\detokenize{doc-src/optimizers:tbl-milpdat}}
\sphinxaftertopcaption
\begin{tabulary}{\linewidth}[t]{|T|T|T|}
\hline
\sphinxstyletheadfamily 
Data
&\sphinxstyletheadfamily 
Notation
&\sphinxstyletheadfamily 
Information
\\
\hline
Investment amounts
&
\(c_{ij}, i \in \{1, ..., I\}\)
&
\(c_i\) is a point in \(J\)-dimensional space
\\
\hline
Metric value
&
\(q_{ik}, i \in \{1, ..., I \}, k \in \{1, ..., K \}\)
&
One metric will form the objective function, leaving up to \(K-1\) metrics for constraints
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}


\begin{savenotes}\sphinxattablestart
\centering
\sphinxcapstartof{table}
\sphinxthecaptionisattop
\sphinxcaption{Variable definitions for the MILP formulation.}\label{\detokenize{doc-src/optimizers:table-3}}\label{\detokenize{doc-src/optimizers:tbl-milpvar}}
\sphinxaftertopcaption
\begin{tabulary}{\linewidth}[t]{|T|T|T|}
\hline
\sphinxstyletheadfamily 
Variable
&\sphinxstyletheadfamily 
Notation
&\sphinxstyletheadfamily 
Information
\\
\hline
Binary variables
&
\(y_{ii'}, i, i' \in \{1, ..., I\}, i' > i\)
&
Number of linear intervals between elicited data points.
\\
\hline
Combination variables
&
\(\lambda_{i}, i \in \{1, ..., I\}\)
&
Used to construct linear combinations of elicited data points. \(\lambda_{i} \geq 0 \forall i\)
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}

Each metric and investment amount can be written as a linear combination of elicited data points and the newly introduced variables \(\lambda_{i}\) and \(y_{ii'}\). Additional constraints on \(y_{ii'}\) and \(\lambda_{i}\) take care of the piecewise linearity by ensuring that the corners used to calculate \(q_k\) reflect the interval that \(c_i\) is in. There will be a total of \(\binom{I}{2}\) binary \(y\) variables, which reduces to \(\frac{I(I-1)}{2}\) binary variables.


\subsection{One-Investment-Category, One-Metric Example}
\label{\detokenize{doc-src/optimizers:one-investment-category-one-metric-example}}
Suppose we have an elicited data set for one metric (\(K = 1\)) and one investment category (\(J = 1\)) with three possible investment levels (\(I = 3\)). We can write the total investment amount as a linear combination of the three investment levels \(c_{i1}, i \in \{1, 2, 3\}\), using the \(\lambda\) variables:

\(\lambda_{1}c_{11} + \lambda_{2}c_{21} + \lambda_{13}c_{31} = \sum_{i} \lambda_{i}c_{i1}\)

We can likewise write the metric as a linear combination of \(q_{1i}\) and the \(\lambda\) variables:

\(\lambda_{1}q_{11} + \lambda_{2}q_{21} + \lambda_{3}q_{31} = \sum_{i} \lambda_{i}q_{i1}\)

We have the additional constraint on the \(\lambda\) variables that

\(\sum_{i} \lambda_{i} = 1\)

These equations, combined with the integer variables \(y_{ii'} = \{ y_{12}, y_{13}, y_{23} \}\), can be used to construct a mixed-integer linear optimization problem.

The MILP that uses this formulation to minimize a technology metric subject to a investment budget \(B\) is as follows:

\(\min_{y, \lambda} \lambda_{1}q_{11} + \lambda_{2}q_{21} + \lambda_{3}q_{31}\)

subject to

\(\lambda_{1}c_{11} + \lambda_{2}c_{21} + \lambda_{3}c_{31} \leq B\) , (1) Total budget constraint
\(\lambda_1 + \lambda_2 + \lambda_3 = 1\) , (2)
\(y_{12} + y_{23} + y_{13} = 1\) , (3)
\(y_{12} \leq \lambda_1 + \lambda_2\) , (4)
\(y_{23} \leq \lambda_2 + \lambda_3\) , (5)
\(y_{13} \leq \lambda_1 + \lambda_3\) , (6)
\(0 \leq \lambda_1, \lambda_2, \lambda_3 \leq 1\) , (7)
\(y_{12}, y_{23}, y_{13} \in \{ 0, 1 \}\) , (8)

(We’ve effectively removed the investments and the metrics as variables, replacing them with the elicited data points and the new \(\lambda\) and \(y\) variables.)


\subsection{Extension to N x N Problem}
\label{\detokenize{doc-src/optimizers:extension-to-n-x-n-problem}}
Note: \(k'\) indicates the metric which is being constrained. \(k*\) indicates the metric being optimized. \(J'\) indicates the set of investment categories which have a budget limit (there may be more than one budget-constrained category in a problem).

\sphinxstylestrong{No metric constraint or investment category-specific budget constraint}

\(\min_{y, \lambda} \sum_i \lambda_{i}q_{ik*}\)

subject to

\(\sum_i \sum_j \lambda_{i}c_{ij} \leq B\) , (1) Total budget constraint
\(\sum_i \lambda_i = 1\) , (2)
\(\sum_{i,i'} y_{ii'} = 1\) , (3)
\(y_{ii'} \leq \lambda_i + \lambda_{i'} \forall i, i'\) , (4)
\(0 \leq \lambda_i \leq 1 \forall i\) , (5)
\(y_{ii'} \in \{ 0, 1 \} \forall i, i'\) , (6)

\sphinxstylestrong{With investment category-specific budget constraint}

\(\min_{y, \lambda} \sum_i \lambda_{i}q_{ik*}\)

subject to

\(\sum_i \sum_j \lambda_{i}c_{ij} \leq B\) , (1) Total budget constraint
\(\sum_i \lambda_{i}c_{ij'} \leq B_{j'} \forall j' \in J'\),   (2) Investment category budget constraint(s)
\(\sum_i \lambda_i = 1\) , (3)
\(\sum_{i,i'} y_{ii'} = 1\) , (4)
\(y_{ii'} \leq \lambda_i + \lambda_{i'} \forall i, i'\) , (5)
\(0 \leq \lambda_i \leq 1 \forall i\) , (6)
\(y_{ii'} \in \{ 0, 1 \} \forall i, i'\) , (7)

\sphinxstylestrong{With metric constraint and investment category-specific budget constraint}

\(\min_{y, \lambda} \sum_i \lambda_{i}q_{ik*}\)

subject to

\(\sum_i \sum_j \lambda_{i}c_{ij} \leq B\), (1) Total budget constraint
\(\sum_i \lambda_{i}c_{ij'} \leq B_{j'} \forall j' \in J'\)   (2) Investment category budget constraint(s)
\(\sum_i \lambda_{i}q_{ik'} \leq M_{k'}\) , (3) Metric constraint
\(\sum_i \lambda_i = 1\) , (4)
\(\sum_{i,i'} y_{ii'} = 1\) , (5)
\(y_{ii'} \leq \lambda_i + \lambda_{i'} \forall i, i'\) , (6)
\(0 \leq \lambda_i \leq 1 \forall i\) , (7)
\(y_{ii'} \in \{ 0, 1 \} \forall i, i'\) , (8)

\sphinxstylestrong{Problem Size}

In general, \(I\) is the number of rows in the dataset of elicited data. In the case that all investment categories have elicited data at the same number of levels (not necessarily the same levels themselves), \(I\) can also be calculated as \(l^J\) where \(l\) is the number of investment levels.

The problem will involve \(\frac{I(I-1)}{2}\) binary variables and \(I\) continuous (\(\lambda\)) variables.


\section{References}
\label{\detokenize{doc-src/optimizers:references}}\begin{enumerate}
\def\theenumi{\arabic{enumi}}
\def\labelenumi{\theenumi .}
\makeatletter\def\p@enumii{\p@enumi \theenumi .}\makeatother
\item {} 
\sphinxcode{\sphinxupquote{scipy.optimize.shgo}} SciPy v1.5.4 Reference Guide: Optimization
and root finding (\sphinxcode{\sphinxupquote{scipy.optimize}}) URL:
\sphinxurl{https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.shgo.html\#rb2e152d227b3-1}
Last accessed 12/28/2020.

\item {} 
\sphinxcode{\sphinxupquote{scipy.optimize.differential\_evolution}} SciPy v1.5.4 Reference
Guide: Optimization and root finding (\sphinxcode{\sphinxupquote{scipy.optimize}}) URL:
\sphinxurl{https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.differential\_evolution.html}
Last accessed 12/28/2020.

\item {} 
\sphinxcode{\sphinxupquote{scipy.optimize.fmin\_slsqp}} SciPy v1.5.4 Reference Guide:
Optimization and root finding (\sphinxcode{\sphinxupquote{scipy.optimize}}) URL:
\sphinxurl{https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.fmin\_slsqp.html}
Last accessed 12/28/2020.

\item {} 
Endres, SC, Sandrock, C, Focke, WW. (2018) “A simplicial homology
algorithm for Lipschitz optimisation”, Journal of Global Optimization
(72): 181-217. URL:
\sphinxurl{https://link.springer.com/article/10.1007/s10898-018-0645-y}

\item {} 
Storn, R and Price, K. (1997) “Differential Evolution - a Simple and
Efficient Heuristic for Global Optimization over Continuous Spaces”,
Journal of Global Optimization (11): 341 - 359. URL:
\sphinxurl{https://link.springer.com/article/10.1023/A:1008202821328}

\item {} 
Kraft D (1988) A software package for sequential quadratic
programming. Tech. Rep. DFVLR-FB 88-28, DLR German Aerospace Center —
Institute for Flight Mechanics, Koln, Germany.

\item {} 
\sphinxcode{\sphinxupquote{scipy.optimize.NonlinearConstraint}} SciPy v1.5.4 Reference Guide:
Optimization and root finding (\sphinxcode{\sphinxupquote{scipy.optimize}}) URL:
\sphinxurl{https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.NonlinearConstraint.html}
Last accessed 12/29/2020.

\end{enumerate}


\chapter{User Interface}
\label{\detokenize{doc-src/user-interface:user-interface}}\label{\detokenize{doc-src/user-interface::doc}}
The Eutychia interface is a user’s portal to interact with the Tyche
decision support tool. Users can make decisions to change investments
and the metrics by which they will be assessed (as described in the
following sections). Eutychia aims to aide in formalizing funding
processes to make technically and analytically-based decisions, through
modeling possible scenarios and generating visualizations to communicate
these results. Tool output aims to aide decision-makers in
\begin{enumerate}
\def\theenumi{\arabic{enumi}}
\def\labelenumi{\theenumi .}
\makeatletter\def\p@enumii{\p@enumi \theenumi .}\makeatother
\item {} 
\sphinxstylestrong{Focused analysis} comparing investment scenarios to examine impact
across metrics when exploring options during the decision-making
process and

\item {} 
\sphinxstylestrong{Broader communication} of Office goals externally, such as through
the dissemination of a funding opportunity announcement.

\end{enumerate}

\sphinxstylestrong{Feedback is appreciated to enhance the interface to best meet user
needs.}


\section{User Input}
\label{\detokenize{doc-src/user-interface:user-input}}
\sphinxstylestrong{Investment Categories} A user can suggest research foci by selecting
\sphinxstylestrong{investment categories} and \sphinxstylestrong{investment levels} (\$) in each topic
area and/or across the investment portfolio. In the current iteration of
the Eutychia prototype, users have the option to select a budget for
each of the following investment categories:
\begin{enumerate}
\def\theenumi{\arabic{enumi}}
\def\labelenumi{\theenumi .}
\makeatletter\def\p@enumii{\p@enumi \theenumi .}\makeatother
\item {} 
Balance of System R\&D

\item {} 
Inverter R\&D

\item {} 
Module R\&D

\end{enumerate}

Later-stage iterations of the prototype will include as many categories
as the user selects for which data is available.

\sphinxstylestrong{Metrics} A user can also select up to three metrics to impact through
R\&D on these selected investment categories and specify goals that must
be met. The current options include:
\begin{enumerate}
\def\theenumi{\arabic{enumi}}
\def\labelenumi{\theenumi .}
\makeatletter\def\p@enumii{\p@enumi \theenumi .}\makeatother
\item {} 
Greenhouse gas emissions (\(\Delta\)gCO2e/system)

\item {} 
Labor (\(\Delta\)\$/system)

\item {} 
Levelized cost of energy (\(\Delta\)\$/kWh)

\end{enumerate}


\section{Modes}
\label{\detokenize{doc-src/user-interface:modes}}
The Eutychia interface operates in two modes:
\begin{enumerate}
\def\theenumi{\arabic{enumi}}
\def\labelenumi{\theenumi .}
\makeatletter\def\p@enumii{\p@enumi \theenumi .}\makeatother
\item {} 
\sphinxstylestrong{Explore Mode}, checked by default,

\item {} 
\sphinxstylestrong{Optimize Mode}, which can be enabled by deselecting “explore.” Entering Optimize Mode allows users to update optimization parameters.

\end{enumerate}

The selected mode determines which user inputs can be edited. The
following table summarizes the parameters that can be updated, the
corresponding \sphinxcode{\sphinxupquote{optimizer}} parameter name, and the widget (currently)
used to make this change.


\begin{savenotes}\sphinxattablestart
\centering
\begin{tabulary}{\linewidth}[t]{|T|T|T|T|T|}
\hline


&\sphinxstyletheadfamily 
Parameter
&\sphinxstyletheadfamily 
Widget
&\sphinxstyletheadfamily 
Explore Mode
&\sphinxstyletheadfamily 
Optimize Mode
\\
\hline
Investment level (USD) by category
&
\sphinxcode{\sphinxupquote{max\_amount}}
&
slider
&
X
&
X
\\
\hline
Total portfolio investment (USD)
&
\sphinxcode{\sphinxupquote{total\_amount}}
&
slider
&&
X
\\
\hline
Metric constraint
&
\sphinxcode{\sphinxupquote{min\_metric}}
&
slider
&&
X
\\
\hline
Optimization metric to maximize
&
\sphinxcode{\sphinxupquote{metric}}
&
dropdown
&&
X
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}

In either mode, changes made to investment level(s) by category will be
reflected immediately in the output visualizations. In Optimize Mode,
once satisfied with the selected metrics, the user can click “optimize”
to model the chosen scenario.


\section{Visualizations}
\label{\detokenize{doc-src/user-interface:visualizations}}
Users are presented with the option to interact with the data in varying
levels of detail. These options are enabled to suit the needs of users,
from those who prefer a snapshot of the bigger picture for quick
analysis to those who would like to study the distributional probability
of achieving each metric. Plots are generated using the Seaborn 0.11.0
package. %
\begin{footnote}[1]\sphinxAtStartFootnote
Michael Waskom, Olga Botvinnik, Maoz Gelbart, Joel Ostblom, Paul
Hobson, Saulius Lukauskas, David C Gemperline, et al. 2020.
Mwaskom/Seaborn: V0.11.0 (Sepetmber 2020). Zenodo.
\sphinxurl{https://doi.org/10.5281/zenodo.4019146}.
%
\end{footnote} The available visualizations in order of increasing level
of detail include:
\begin{enumerate}
\def\theenumi{\arabic{enumi}}
\def\labelenumi{\theenumi .}
\makeatletter\def\p@enumii{\p@enumi \theenumi .}\makeatother
\item {} 
\sphinxstylestrong{Heatmaps} (\sphinxcode{\sphinxupquote{heatmap}}) with metric scaled to percent of the
maximum possible improvement,

\item {} 
\sphinxstylestrong{Annotated heatmaps} with metric values overlayed, and

\item {} 
\sphinxstylestrong{Distributions} with the probability of ahieving each metric based
on the number of samples. At this stage of development, these results
can be viewed in columns (by metric) or in a grid. The user can
select from the following options:
\begin{itemize}
\item {} 
Box plots (\sphinxcode{\sphinxupquote{boxplot}})

\item {} 
Probability distributions (\sphinxcode{\sphinxupquote{kdeplot}})

\item {} 
Violin plots (\sphinxcode{\sphinxupquote{violinplot}})

\end{itemize}

\end{enumerate}

A user can toggle between their visualization options using the links
(heatmap, column, grid) at the top left-hand corner of the screen. By
default, Eutychia opens to the grid layout.


\section{References}
\label{\detokenize{doc-src/user-interface:references}}

\chapter{Tutorial}
\label{\detokenize{doc-src/tutorial:tutorial}}\label{\detokenize{doc-src/tutorial::doc}}
Multiple Objectives for Residential PV.


\section{Import packages.}
\label{\detokenize{doc-src/tutorial:import-packages}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{import} \PYG{n+nn}{os}
\PYG{k+kn}{import} \PYG{n+nn}{sys}
\PYG{n}{sys}\PYG{o}{.}\PYG{n}{path}\PYG{o}{.}\PYG{n}{insert}\PYG{p}{(}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{n}{os}\PYG{o}{.}\PYG{n}{path}\PYG{o}{.}\PYG{n}{abspath}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{../src}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{import} \PYG{n+nn}{numpy}             \PYG{k}{as} \PYG{n+nn}{np}
\PYG{k+kn}{import} \PYG{n+nn}{matplotlib}\PYG{n+nn}{.}\PYG{n+nn}{pyplot} \PYG{k}{as} \PYG{n+nn}{pl}
\PYG{k+kn}{import} \PYG{n+nn}{pandas}            \PYG{k}{as} \PYG{n+nn}{pd}
\PYG{k+kn}{import} \PYG{n+nn}{seaborn}           \PYG{k}{as} \PYG{n+nn}{sb}
\PYG{k+kn}{import} \PYG{n+nn}{tyche}             \PYG{k}{as} \PYG{n+nn}{ty}

\PYG{k+kn}{from} \PYG{n+nn}{copy}            \PYG{k+kn}{import} \PYG{n}{deepcopy}
\PYG{k+kn}{from} \PYG{n+nn}{IPython}\PYG{n+nn}{.}\PYG{n+nn}{display} \PYG{k+kn}{import} \PYG{n}{Image}
\end{sphinxVerbatim}


\section{Load data.}
\label{\detokenize{doc-src/tutorial:load-data}}
The data are stored in a set of tab-separated value files in a folder.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{designs} \PYG{o}{=} \PYG{n}{ty}\PYG{o}{.}\PYG{n}{Designs}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{data/pv\PYGZus{}residential\PYGZus{}simple}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{investments} \PYG{o}{=} \PYG{n}{ty}\PYG{o}{.}\PYG{n}{Investments}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{data/pv\PYGZus{}residential\PYGZus{}simple}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\end{sphinxVerbatim}

Compile the production and metric functions for each technology in the dataset.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{designs}\PYG{o}{.}\PYG{n}{compile}\PYG{p}{(}\PYG{p}{)}
\end{sphinxVerbatim}


\section{Examine the data.}
\label{\detokenize{doc-src/tutorial:examine-the-data}}
The \sphinxcode{\sphinxupquote{functions}} table specifies where the Python code for each technology resides.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{designs}\PYG{o}{.}\PYG{n}{functions}
\end{sphinxVerbatim}



Right now, only the style \sphinxcode{\sphinxupquote{numpy}} is supported.

The \sphinxcode{\sphinxupquote{indices}} table defines the subscripts for variables.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{designs}\PYG{o}{.}\PYG{n}{indices}
\end{sphinxVerbatim}



The \sphinxcode{\sphinxupquote{designs}} table contains the cost, input, efficiency, and price data for a scenario.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{designs}\PYG{o}{.}\PYG{n}{designs}
\end{sphinxVerbatim}



The \sphinxcode{\sphinxupquote{parameters}} table contains additional techno-economic parameters for each technology.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{designs}\PYG{o}{.}\PYG{n}{parameters}
\end{sphinxVerbatim}



The \sphinxcode{\sphinxupquote{results}} table specifies the units of measure for results of computations.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{designs}\PYG{o}{.}\PYG{n}{results}
\end{sphinxVerbatim}



The \sphinxcode{\sphinxupquote{tranches}} table specifies multually exclusive possibilities for investments: only one \sphinxcode{\sphinxupquote{Tranch}} may be selected for each \sphinxcode{\sphinxupquote{Category}}.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{investments}\PYG{o}{.}\PYG{n}{tranches}
\end{sphinxVerbatim}



The \sphinxcode{\sphinxupquote{investments}} table bundles a consistent set of tranches (one per category) into an overall investment.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{investments}\PYG{o}{.}\PYG{n}{investments}
\end{sphinxVerbatim}




\section{Evaluate the scenarios in the dataset.}
\label{\detokenize{doc-src/tutorial:evaluate-the-scenarios-in-the-dataset}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{scenario\PYGZus{}results} \PYG{o}{=} \PYG{n}{designs}\PYG{o}{.}\PYG{n}{evaluate\PYGZus{}scenarios}\PYG{p}{(}\PYG{n}{sample\PYGZus{}count}\PYG{o}{=}\PYG{l+m+mi}{50}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{scenario\PYGZus{}results}\PYG{o}{.}\PYG{n}{xs}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{level}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Sample}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{drop\PYGZus{}level}\PYG{o}{=}\PYG{k+kc}{False}\PYG{p}{)}
\end{sphinxVerbatim}




\subsection{Save results.}
\label{\detokenize{doc-src/tutorial:save-results}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{scenario\PYGZus{}results}\PYG{o}{.}\PYG{n}{to\PYGZus{}csv}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{output/pv\PYGZus{}residential\PYGZus{}simple/example\PYGZhy{}scenario.csv}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\end{sphinxVerbatim}


\subsection{Plot GHG metric.}
\label{\detokenize{doc-src/tutorial:plot-ghg-metric}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{g} \PYG{o}{=} \PYG{n}{sb}\PYG{o}{.}\PYG{n}{boxplot}\PYG{p}{(}
    \PYG{n}{x}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Scenario}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{n}{y}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{n}{data}\PYG{o}{=}\PYG{n}{scenario\PYGZus{}results}\PYG{o}{.}\PYG{n}{xs}\PYG{p}{(}
        \PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Metric}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{GHG}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{,}
        \PYG{n}{level}\PYG{o}{=}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Variable}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Index}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}
    \PYG{p}{)}\PYG{o}{.}\PYG{n}{reset\PYGZus{}index}\PYG{p}{(}\PYG{p}{)}\PYG{p}{[}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Scenario}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{]}\PYG{p}{,}
    \PYG{n}{order}\PYG{o}{=}\PYG{p}{[}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{2015 Actual}\PYG{l+s+s2}{\PYGZdq{}}              \PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Module Slow Progress}\PYG{l+s+s2}{\PYGZdq{}}      \PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Module Moderate Progress}\PYG{l+s+s2}{\PYGZdq{}}  \PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Module Fast Progress}\PYG{l+s+s2}{\PYGZdq{}}      \PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Inverter Slow Progress}\PYG{l+s+s2}{\PYGZdq{}}    \PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Inverter Moderate Progress}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Inverter Fast Progress}\PYG{l+s+s2}{\PYGZdq{}}    \PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{BoS Slow Progress}\PYG{l+s+s2}{\PYGZdq{}}         \PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{BoS Moderate Progress}\PYG{l+s+s2}{\PYGZdq{}}     \PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{BoS Fast Progress}\PYG{l+s+s2}{\PYGZdq{}}         \PYG{p}{,}
    \PYG{p}{]}
\PYG{p}{)}
\PYG{n}{g}\PYG{o}{.}\PYG{n}{set}\PYG{p}{(}\PYG{n}{ylabel}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{GHG Reduction [gCO2e / system]}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{g}\PYG{o}{.}\PYG{n}{set\PYGZus{}xticklabels}\PYG{p}{(}\PYG{n}{g}\PYG{o}{.}\PYG{n}{get\PYGZus{}xticklabels}\PYG{p}{(}\PYG{p}{)}\PYG{p}{,} \PYG{n}{rotation}\PYG{o}{=}\PYG{l+m+mi}{30}\PYG{p}{)}\PYG{p}{;}
\end{sphinxVerbatim}

\noindent\sphinxincludegraphics{{output_35_0}.png}


\subsection{Plot LCOE metric.}
\label{\detokenize{doc-src/tutorial:plot-lcoe-metric}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{g} \PYG{o}{=} \PYG{n}{sb}\PYG{o}{.}\PYG{n}{boxplot}\PYG{p}{(}
    \PYG{n}{x}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Scenario}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{n}{y}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{n}{data}\PYG{o}{=}\PYG{n}{scenario\PYGZus{}results}\PYG{o}{.}\PYG{n}{xs}\PYG{p}{(}
        \PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Metric}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{LCOE}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{,}
        \PYG{n}{level}\PYG{o}{=}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Variable}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Index}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}
    \PYG{p}{)}\PYG{o}{.}\PYG{n}{reset\PYGZus{}index}\PYG{p}{(}\PYG{p}{)}\PYG{p}{[}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Scenario}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{]}\PYG{p}{,}
    \PYG{n}{order}\PYG{o}{=}\PYG{p}{[}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{2015 Actual}\PYG{l+s+s2}{\PYGZdq{}}              \PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Module Slow Progress}\PYG{l+s+s2}{\PYGZdq{}}      \PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Module Moderate Progress}\PYG{l+s+s2}{\PYGZdq{}}  \PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Module Fast Progress}\PYG{l+s+s2}{\PYGZdq{}}      \PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Inverter Slow Progress}\PYG{l+s+s2}{\PYGZdq{}}    \PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Inverter Moderate Progress}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Inverter Fast Progress}\PYG{l+s+s2}{\PYGZdq{}}    \PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{BoS Slow Progress}\PYG{l+s+s2}{\PYGZdq{}}         \PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{BoS Moderate Progress}\PYG{l+s+s2}{\PYGZdq{}}     \PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{BoS Fast Progress}\PYG{l+s+s2}{\PYGZdq{}}         \PYG{p}{,}
    \PYG{p}{]}
\PYG{p}{)}
\PYG{n}{g}\PYG{o}{.}\PYG{n}{set}\PYG{p}{(}\PYG{n}{ylabel}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{LCOE Reduction [USD / kWh]}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{g}\PYG{o}{.}\PYG{n}{set\PYGZus{}xticklabels}\PYG{p}{(}\PYG{n}{g}\PYG{o}{.}\PYG{n}{get\PYGZus{}xticklabels}\PYG{p}{(}\PYG{p}{)}\PYG{p}{,} \PYG{n}{rotation}\PYG{o}{=}\PYG{l+m+mi}{30}\PYG{p}{)}\PYG{p}{;}
\end{sphinxVerbatim}

\noindent\sphinxincludegraphics{{output_37_0}.png}


\subsection{Plot labor metric.}
\label{\detokenize{doc-src/tutorial:plot-labor-metric}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{g} \PYG{o}{=} \PYG{n}{sb}\PYG{o}{.}\PYG{n}{boxplot}\PYG{p}{(}
    \PYG{n}{x}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Scenario}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{n}{y}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{n}{data}\PYG{o}{=}\PYG{n}{scenario\PYGZus{}results}\PYG{o}{.}\PYG{n}{xs}\PYG{p}{(}
        \PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Metric}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Labor}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{,}
        \PYG{n}{level}\PYG{o}{=}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Variable}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Index}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}
    \PYG{p}{)}\PYG{o}{.}\PYG{n}{reset\PYGZus{}index}\PYG{p}{(}\PYG{p}{)}\PYG{p}{[}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Scenario}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{]}\PYG{p}{,}
    \PYG{n}{order}\PYG{o}{=}\PYG{p}{[}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{2015 Actual}\PYG{l+s+s2}{\PYGZdq{}}              \PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Module Slow Progress}\PYG{l+s+s2}{\PYGZdq{}}      \PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Module Moderate Progress}\PYG{l+s+s2}{\PYGZdq{}}  \PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Module Fast Progress}\PYG{l+s+s2}{\PYGZdq{}}      \PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Inverter Slow Progress}\PYG{l+s+s2}{\PYGZdq{}}    \PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Inverter Moderate Progress}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Inverter Fast Progress}\PYG{l+s+s2}{\PYGZdq{}}    \PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{BoS Slow Progress}\PYG{l+s+s2}{\PYGZdq{}}         \PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{BoS Moderate Progress}\PYG{l+s+s2}{\PYGZdq{}}     \PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{BoS Fast Progress}\PYG{l+s+s2}{\PYGZdq{}}         \PYG{p}{,}
    \PYG{p}{]}
\PYG{p}{)}
\PYG{n}{g}\PYG{o}{.}\PYG{n}{set}\PYG{p}{(}\PYG{n}{ylabel}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Labor Increase [USD / system]}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{g}\PYG{o}{.}\PYG{n}{set\PYGZus{}xticklabels}\PYG{p}{(}\PYG{n}{g}\PYG{o}{.}\PYG{n}{get\PYGZus{}xticklabels}\PYG{p}{(}\PYG{p}{)}\PYG{p}{,} \PYG{n}{rotation}\PYG{o}{=}\PYG{l+m+mi}{15}\PYG{p}{)}\PYG{p}{;}
\end{sphinxVerbatim}

\noindent\sphinxincludegraphics{{output_39_0}.png}


\section{Evaluate the investments in the dataset.}
\label{\detokenize{doc-src/tutorial:evaluate-the-investments-in-the-dataset}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{investment\PYGZus{}results} \PYG{o}{=} \PYG{n}{investments}\PYG{o}{.}\PYG{n}{evaluate\PYGZus{}investments}\PYG{p}{(}\PYG{n}{designs}\PYG{p}{,} \PYG{n}{sample\PYGZus{}count}\PYG{o}{=}\PYG{l+m+mi}{50}\PYG{p}{)}
\end{sphinxVerbatim}


\subsection{Costs of investments.}
\label{\detokenize{doc-src/tutorial:costs-of-investments}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{investment\PYGZus{}results}\PYG{o}{.}\PYG{n}{amounts}
\end{sphinxVerbatim}




\subsection{Benefits of investments.}
\label{\detokenize{doc-src/tutorial:benefits-of-investments}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{investment\PYGZus{}results}\PYG{o}{.}\PYG{n}{metrics}\PYG{o}{.}\PYG{n}{xs}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{level}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Sample}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{drop\PYGZus{}level}\PYG{o}{=}\PYG{k+kc}{False}\PYG{p}{)}
\end{sphinxVerbatim}



\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{investment\PYGZus{}results}\PYG{o}{.}\PYG{n}{summary}\PYG{o}{.}\PYG{n}{xs}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{level}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Sample}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{drop\PYGZus{}level}\PYG{o}{=}\PYG{k+kc}{False}\PYG{p}{)}
\end{sphinxVerbatim}




\subsection{Save results.}
\label{\detokenize{doc-src/tutorial:save-results-1}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{investment\PYGZus{}results}\PYG{o}{.}\PYG{n}{amounts}\PYG{o}{.}\PYG{n}{to\PYGZus{}csv}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{output/pv\PYGZus{}residential\PYGZus{}simple/example\PYGZhy{}investment\PYGZhy{}amounts.csv}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{investment\PYGZus{}results}\PYG{o}{.}\PYG{n}{metrics}\PYG{o}{.}\PYG{n}{to\PYGZus{}csv}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{output/pv\PYGZus{}residential\PYGZus{}simple/example\PYGZhy{}investment\PYGZhy{}metrics.csv}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\end{sphinxVerbatim}


\subsection{Plot GHG metric.}
\label{\detokenize{doc-src/tutorial:plot-ghg-metric-1}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{g} \PYG{o}{=} \PYG{n}{sb}\PYG{o}{.}\PYG{n}{boxplot}\PYG{p}{(}
    \PYG{n}{x}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Investment}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{n}{y}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{n}{data}\PYG{o}{=}\PYG{n}{investment\PYGZus{}results}\PYG{o}{.}\PYG{n}{metrics}\PYG{o}{.}\PYG{n}{xs}\PYG{p}{(}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{GHG}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
        \PYG{n}{level}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Index}\PYG{l+s+s2}{\PYGZdq{}}
    \PYG{p}{)}\PYG{o}{.}\PYG{n}{reset\PYGZus{}index}\PYG{p}{(}\PYG{p}{)}\PYG{p}{[}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Investment}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{]}\PYG{p}{,}
    \PYG{n}{order}\PYG{o}{=}\PYG{p}{[}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Low R\PYGZam{}D}\PYG{l+s+s2}{\PYGZdq{}}   \PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Medium R\PYGZam{}D}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{High R\PYGZam{}D}\PYG{l+s+s2}{\PYGZdq{}}  \PYG{p}{,}
    \PYG{p}{]}
\PYG{p}{)}
\PYG{n}{g}\PYG{o}{.}\PYG{n}{set}\PYG{p}{(}\PYG{n}{ylabel}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{GHG Reduction [gCO2e / system]}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{g}\PYG{o}{.}\PYG{n}{set\PYGZus{}xticklabels}\PYG{p}{(}\PYG{n}{g}\PYG{o}{.}\PYG{n}{get\PYGZus{}xticklabels}\PYG{p}{(}\PYG{p}{)}\PYG{p}{,} \PYG{n}{rotation}\PYG{o}{=}\PYG{l+m+mi}{15}\PYG{p}{)}\PYG{p}{;}
\end{sphinxVerbatim}

\noindent\sphinxincludegraphics{{output_51_0}.png}


\subsection{Plot LCOE metric.}
\label{\detokenize{doc-src/tutorial:plot-lcoe-metric-1}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{g} \PYG{o}{=} \PYG{n}{sb}\PYG{o}{.}\PYG{n}{boxplot}\PYG{p}{(}
    \PYG{n}{x}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Investment}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{n}{y}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{n}{data}\PYG{o}{=}\PYG{n}{investment\PYGZus{}results}\PYG{o}{.}\PYG{n}{metrics}\PYG{o}{.}\PYG{n}{xs}\PYG{p}{(}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{LCOE}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
        \PYG{n}{level}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Index}\PYG{l+s+s2}{\PYGZdq{}}
    \PYG{p}{)}\PYG{o}{.}\PYG{n}{reset\PYGZus{}index}\PYG{p}{(}\PYG{p}{)}\PYG{p}{[}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Investment}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{]}\PYG{p}{,}
    \PYG{n}{order}\PYG{o}{=}\PYG{p}{[}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Low R\PYGZam{}D}\PYG{l+s+s2}{\PYGZdq{}}   \PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Medium R\PYGZam{}D}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{High R\PYGZam{}D}\PYG{l+s+s2}{\PYGZdq{}}  \PYG{p}{,}
    \PYG{p}{]}
\PYG{p}{)}
\PYG{n}{g}\PYG{o}{.}\PYG{n}{set}\PYG{p}{(}\PYG{n}{ylabel}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{LCOE Reduction [USD / kWh]}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{g}\PYG{o}{.}\PYG{n}{set\PYGZus{}xticklabels}\PYG{p}{(}\PYG{n}{g}\PYG{o}{.}\PYG{n}{get\PYGZus{}xticklabels}\PYG{p}{(}\PYG{p}{)}\PYG{p}{,} \PYG{n}{rotation}\PYG{o}{=}\PYG{l+m+mi}{15}\PYG{p}{)}\PYG{p}{;}
\end{sphinxVerbatim}

\noindent\sphinxincludegraphics{{output_53_0}.png}


\subsection{Plot labor metric.}
\label{\detokenize{doc-src/tutorial:plot-labor-metric-1}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{g} \PYG{o}{=} \PYG{n}{sb}\PYG{o}{.}\PYG{n}{boxplot}\PYG{p}{(}
    \PYG{n}{x}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Investment}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{n}{y}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{n}{data}\PYG{o}{=}\PYG{n}{investment\PYGZus{}results}\PYG{o}{.}\PYG{n}{metrics}\PYG{o}{.}\PYG{n}{xs}\PYG{p}{(}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Labor}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
        \PYG{n}{level}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Index}\PYG{l+s+s2}{\PYGZdq{}}
    \PYG{p}{)}\PYG{o}{.}\PYG{n}{reset\PYGZus{}index}\PYG{p}{(}\PYG{p}{)}\PYG{p}{[}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Investment}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{]}\PYG{p}{,}
    \PYG{n}{order}\PYG{o}{=}\PYG{p}{[}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Low R\PYGZam{}D}\PYG{l+s+s2}{\PYGZdq{}}   \PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Medium R\PYGZam{}D}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{High R\PYGZam{}D}\PYG{l+s+s2}{\PYGZdq{}}  \PYG{p}{,}
    \PYG{p}{]}
\PYG{p}{)}
\PYG{n}{g}\PYG{o}{.}\PYG{n}{set}\PYG{p}{(}\PYG{n}{ylabel}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Labor Increase [USD / system]}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{g}\PYG{o}{.}\PYG{n}{set\PYGZus{}xticklabels}\PYG{p}{(}\PYG{n}{g}\PYG{o}{.}\PYG{n}{get\PYGZus{}xticklabels}\PYG{p}{(}\PYG{p}{)}\PYG{p}{,} \PYG{n}{rotation}\PYG{o}{=}\PYG{l+m+mi}{15}\PYG{p}{)}\PYG{p}{;}
\end{sphinxVerbatim}

\noindent\sphinxincludegraphics{{output_55_0}.png}


\section{Multi-objective decision analysis.}
\label{\detokenize{doc-src/tutorial:multi-objective-decision-analysis}}

\subsection{Compute costs and metrics for tranches.}
\label{\detokenize{doc-src/tutorial:compute-costs-and-metrics-for-tranches}}
Tranches are atomic units for building investment portfolios. Evaluate
all of the tranches, so we can assemble them into investments
(portfolios).

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{tranche\PYGZus{}results} \PYG{o}{=} \PYG{n}{investments}\PYG{o}{.}\PYG{n}{evaluate\PYGZus{}tranches}\PYG{p}{(}\PYG{n}{designs}\PYG{p}{,} \PYG{n}{sample\PYGZus{}count}\PYG{o}{=}\PYG{l+m+mi}{50}\PYG{p}{)}
\end{sphinxVerbatim}

Display the cost of each tranche.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{tranche\PYGZus{}results}\PYG{o}{.}\PYG{n}{amounts}
\end{sphinxVerbatim}



Display the metrics for each tranche.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{tranche\PYGZus{}results}\PYG{o}{.}\PYG{n}{summary}
\end{sphinxVerbatim}



Save the results.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{tranche\PYGZus{}results}\PYG{o}{.}\PYG{n}{amounts}\PYG{o}{.}\PYG{n}{to\PYGZus{}csv}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{output/pv\PYGZus{}residential\PYGZus{}simple/example\PYGZhy{}tranche\PYGZhy{}amounts.csv}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{tranche\PYGZus{}results}\PYG{o}{.}\PYG{n}{summary}\PYG{o}{.}\PYG{n}{to\PYGZus{}csv}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{output/pv\PYGZus{}residential\PYGZus{}simple/example\PYGZhy{}tranche\PYGZhy{}summary.csv}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\end{sphinxVerbatim}


\subsection{Fit a response surface to the results.}
\label{\detokenize{doc-src/tutorial:fit-a-response-surface-to-the-results}}
The response surface interpolates between the discrete set of cases
provided in the expert elicitation. This allows us to study funding
levels intermediate between those scenarios.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{evaluator} \PYG{o}{=} \PYG{n}{ty}\PYG{o}{.}\PYG{n}{Evaluator}\PYG{p}{(}\PYG{n}{investments}\PYG{o}{.}\PYG{n}{tranches}\PYG{p}{,} \PYG{n}{tranche\PYGZus{}results}\PYG{o}{.}\PYG{n}{summary}\PYG{p}{)}
\end{sphinxVerbatim}

Here are the categories of investment and the maximum amount that could
be invested in each:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{evaluator}\PYG{o}{.}\PYG{n}{max\PYGZus{}amount}
\end{sphinxVerbatim}



Here are the metrics and their units of measure:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{evaluator}\PYG{o}{.}\PYG{n}{units}
\end{sphinxVerbatim}




\subsubsection{Example interpolation.}
\label{\detokenize{doc-src/tutorial:example-interpolation}}
Let’s evaluate the case where each category is invested in at half of
its maximum amount.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{example\PYGZus{}investments} \PYG{o}{=} \PYG{n}{evaluator}\PYG{o}{.}\PYG{n}{max\PYGZus{}amount} \PYG{o}{/} \PYG{l+m+mi}{2}
\PYG{n}{example\PYGZus{}investments}
\end{sphinxVerbatim}



\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{evaluator}\PYG{o}{.}\PYG{n}{evaluate}\PYG{p}{(}\PYG{n}{example\PYGZus{}investments}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{Category}    \PYG{n}{Index}  \PYG{n}{Sample}
\PYG{n}{BoS} \PYG{n}{R}\PYG{o}{\PYGZam{}}\PYG{n}{D}     \PYG{n}{GHG}    \PYG{l+m+mi}{1}         \PYG{o}{\PYGZhy{}}\PYG{l+m+mf}{0.0010586097518157094}
                   \PYG{l+m+mi}{2}          \PYG{l+m+mf}{7.493162517135921e\PYGZhy{}05}
                   \PYG{l+m+mi}{3}           \PYG{l+m+mf}{0.001253893601450784}
                   \PYG{l+m+mi}{4}           \PYG{o}{\PYGZhy{}}\PYG{l+m+mf}{0.00398626797827717}
                   \PYG{l+m+mi}{5}          \PYG{o}{\PYGZhy{}}\PYG{l+m+mf}{0.005572343870333896}
                                      \PYG{o}{.}\PYG{o}{.}\PYG{o}{.}
\PYG{n}{Module} \PYG{n}{R}\PYG{o}{\PYGZam{}}\PYG{n}{D}  \PYG{n}{Labor}  \PYG{l+m+mi}{46}          \PYG{l+m+mf}{0.014371009324918305}
                   \PYG{l+m+mi}{47}          \PYG{l+m+mf}{0.011128728287076228}
                   \PYG{l+m+mi}{48}         \PYG{l+m+mf}{0.0039832773605894545}
                   \PYG{l+m+mi}{49}          \PYG{l+m+mf}{0.006026680267950724}
                   \PYG{l+m+mi}{50}          \PYG{l+m+mf}{0.028844695933457842}
\PYG{n}{Name}\PYG{p}{:} \PYG{n}{Value}\PYG{p}{,} \PYG{n}{Length}\PYG{p}{:} \PYG{l+m+mi}{450}\PYG{p}{,} \PYG{n}{dtype}\PYG{p}{:} \PYG{n+nb}{object}
\end{sphinxVerbatim}

Let’s evaluate the mean instead of outputing the whole distribution.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{evaluator}\PYG{o}{.}\PYG{n}{evaluate\PYGZus{}statistic}\PYG{p}{(}\PYG{n}{example\PYGZus{}investments}\PYG{p}{,} \PYG{n}{np}\PYG{o}{.}\PYG{n}{mean}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{Index}
\PYG{n}{GHG}       \PYG{l+m+mf}{30.156830}
\PYG{n}{LCOE}       \PYG{l+m+mf}{0.038160}
\PYG{n}{Labor}   \PYG{o}{\PYGZhy{}}\PYG{l+m+mf}{246.843027}
\PYG{n}{Name}\PYG{p}{:} \PYG{n}{Value}\PYG{p}{,} \PYG{n}{dtype}\PYG{p}{:} \PYG{n}{float64}
\end{sphinxVerbatim}

Here is the standard deviation:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{evaluator}\PYG{o}{.}\PYG{n}{evaluate\PYGZus{}statistic}\PYG{p}{(}\PYG{n}{example\PYGZus{}investments}\PYG{p}{,} \PYG{n}{np}\PYG{o}{.}\PYG{n}{std}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{Index}
\PYG{n}{GHG}       \PYG{l+m+mf}{1.410956}
\PYG{n}{LCOE}      \PYG{l+m+mf}{0.000850}
\PYG{n}{Labor}    \PYG{l+m+mf}{16.070395}
\PYG{n}{Name}\PYG{p}{:} \PYG{n}{Value}\PYG{p}{,} \PYG{n}{dtype}\PYG{p}{:} \PYG{n}{float64}
\end{sphinxVerbatim}

A risk-averse decision maker might be interested in the 10\% percentile:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{evaluator}\PYG{o}{.}\PYG{n}{evaluate\PYGZus{}statistic}\PYG{p}{(}\PYG{n}{example\PYGZus{}investments}\PYG{p}{,} \PYG{k}{lambda} \PYG{n}{x}\PYG{p}{:} \PYG{n}{np}\PYG{o}{.}\PYG{n}{quantile}\PYG{p}{(}\PYG{n}{x}\PYG{p}{,} \PYG{l+m+mf}{0.1}\PYG{p}{)}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{Index}
\PYG{n}{GHG}       \PYG{l+m+mf}{28.573627}
\PYG{n}{LCOE}       \PYG{l+m+mf}{0.037140}
\PYG{n}{Labor}   \PYG{o}{\PYGZhy{}}\PYG{l+m+mf}{268.059699}
\PYG{n}{Name}\PYG{p}{:} \PYG{n}{Value}\PYG{p}{,} \PYG{n}{dtype}\PYG{p}{:} \PYG{n}{float64}
\end{sphinxVerbatim}


\subsection{\(\epsilon\)-Constraint multiobjective optimization}
\label{\detokenize{doc-src/tutorial:constraint-multiobjective-optimization}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{optimizer} \PYG{o}{=} \PYG{n}{ty}\PYG{o}{.}\PYG{n}{EpsilonConstraintOptimizer}\PYG{p}{(}\PYG{n}{evaluator}\PYG{p}{)}
\end{sphinxVerbatim}

In order to meaningfully map the decision space, we need to know the
maximum values for each of the metrics.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{metric\PYGZus{}max} \PYG{o}{=} \PYG{n}{optimizer}\PYG{o}{.}\PYG{n}{max\PYGZus{}metrics}\PYG{p}{(}\PYG{p}{)}
\PYG{n}{metric\PYGZus{}max}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{GHG}      \PYG{l+m+mf}{49.429976}
\PYG{n}{LCOE}      \PYG{l+m+mf}{0.062818}
\PYG{n}{Labor}     \PYG{l+m+mf}{0.049555}
\PYG{n}{Name}\PYG{p}{:} \PYG{n}{Value}\PYG{p}{,} \PYG{n}{dtype}\PYG{p}{:} \PYG{n}{float64}
\end{sphinxVerbatim}


\subsubsection{Example optimization.}
\label{\detokenize{doc-src/tutorial:example-optimization}}
Limit spending to \$3M.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{investment\PYGZus{}max} \PYG{o}{=} \PYG{l+m+mf}{3e6}
\end{sphinxVerbatim}

Require that the GHG reduction be at least 40 gCO2e/system and that the
Labor wages not decrease.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{metric\PYGZus{}min} \PYG{o}{=} \PYG{n}{pd}\PYG{o}{.}\PYG{n}{Series}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mi}{40}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{]}\PYG{p}{,} \PYG{n}{name} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{index} \PYG{o}{=} \PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{GHG}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Labor}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{)}
\PYG{n}{metric\PYGZus{}min}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{GHG}      \PYG{l+m+mi}{40}
\PYG{n}{Labor}     \PYG{l+m+mi}{0}
\PYG{n}{Name}\PYG{p}{:} \PYG{n}{Value}\PYG{p}{,} \PYG{n}{dtype}\PYG{p}{:} \PYG{n}{int64}
\end{sphinxVerbatim}

Compute the \(\epsilon\)-constrained maximum for the LCOE.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{optimum} \PYG{o}{=} \PYG{n}{optimizer}\PYG{o}{.}\PYG{n}{maximize}\PYG{p}{(}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{LCOE}\PYG{l+s+s2}{\PYGZdq{}}                       \PYG{p}{,}
    \PYG{n}{total\PYGZus{}amount} \PYG{o}{=} \PYG{n}{investment\PYGZus{}max}\PYG{p}{,}
    \PYG{n}{min\PYGZus{}metric}   \PYG{o}{=} \PYG{n}{metric\PYGZus{}min}    \PYG{p}{,}
    \PYG{n}{statistic}    \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{mean}       \PYG{p}{,}
\PYG{p}{)}
\PYG{n}{optimum}\PYG{o}{.}\PYG{n}{exit\PYGZus{}message}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Optimization terminated successfully.}\PYG{l+s+s1}{\PYGZsq{}}
\end{sphinxVerbatim}

Here are the optimal spending levels:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{np}\PYG{o}{.}\PYG{n}{round}\PYG{p}{(}\PYG{n}{optimum}\PYG{o}{.}\PYG{n}{amounts}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{Category}
\PYG{n}{BoS} \PYG{n}{R}\PYG{o}{\PYGZam{}}\PYG{n}{D}               \PYG{l+m+mf}{0.0}
\PYG{n}{Inverter} \PYG{n}{R}\PYG{o}{\PYGZam{}}\PYG{n}{D}          \PYG{l+m+mf}{0.0}
\PYG{n}{Module} \PYG{n}{R}\PYG{o}{\PYGZam{}}\PYG{n}{D}      \PYG{l+m+mf}{3000000.0}
\PYG{n}{Name}\PYG{p}{:} \PYG{n}{Amount}\PYG{p}{,} \PYG{n}{dtype}\PYG{p}{:} \PYG{n}{float64}
\end{sphinxVerbatim}

Here are the three metrics at that optimum:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{optimum}\PYG{o}{.}\PYG{n}{metrics}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{Index}
\PYG{n}{GHG}      \PYG{l+m+mf}{41.627691}
\PYG{n}{LCOE}      \PYG{l+m+mf}{0.037566}
\PYG{n}{Labor}     \PYG{l+m+mf}{0.028691}
\PYG{n}{Name}\PYG{p}{:} \PYG{n}{Value}\PYG{p}{,} \PYG{n}{dtype}\PYG{p}{:} \PYG{n}{float64}
\end{sphinxVerbatim}

\sphinxstyleemphasis{Thus, by putting all of the investment into Module R\&D, we can expected
to achieve a mean 3.75 ¢/kWh reduction in LCOE under the GHG and Labor
constraints.}

It turns out that there is no solution for these constraints if we
evaluate the 10th percentile of the metrics, for a risk-averse decision
maker.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{optimum} \PYG{o}{=} \PYG{n}{optimizer}\PYG{o}{.}\PYG{n}{maximize}\PYG{p}{(}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{LCOE}\PYG{l+s+s2}{\PYGZdq{}}                       \PYG{p}{,}
    \PYG{n}{total\PYGZus{}amount} \PYG{o}{=} \PYG{n}{investment\PYGZus{}max}\PYG{p}{,}
    \PYG{n}{min\PYGZus{}metric}   \PYG{o}{=} \PYG{n}{metric\PYGZus{}min}    \PYG{p}{,}
    \PYG{n}{statistic}    \PYG{o}{=} \PYG{k}{lambda} \PYG{n}{x}\PYG{p}{:} \PYG{n}{np}\PYG{o}{.}\PYG{n}{quantile}\PYG{p}{(}\PYG{n}{x}\PYG{p}{,} \PYG{l+m+mf}{0.1}\PYG{p}{)}\PYG{p}{,}
\PYG{p}{)}
\PYG{n}{optimum}\PYG{o}{.}\PYG{n}{exit\PYGZus{}message}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Iteration limit exceeded}\PYG{l+s+s1}{\PYGZsq{}}
\end{sphinxVerbatim}

Let’s try again, but with a less stringent set of constraints, only
constraining GHG somewhat but not Labor at all.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{optimum} \PYG{o}{=} \PYG{n}{optimizer}\PYG{o}{.}\PYG{n}{maximize}\PYG{p}{(}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{LCOE}\PYG{l+s+s2}{\PYGZdq{}}                                                         \PYG{p}{,}
    \PYG{n}{total\PYGZus{}amount} \PYG{o}{=} \PYG{n}{investment\PYGZus{}max}                                  \PYG{p}{,}
    \PYG{n}{min\PYGZus{}metric}   \PYG{o}{=} \PYG{n}{pd}\PYG{o}{.}\PYG{n}{Series}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mi}{30}\PYG{p}{]}\PYG{p}{,} \PYG{n}{name} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{index} \PYG{o}{=} \PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{GHG}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{)}\PYG{p}{,}
    \PYG{n}{statistic}    \PYG{o}{=} \PYG{k}{lambda} \PYG{n}{x}\PYG{p}{:} \PYG{n}{np}\PYG{o}{.}\PYG{n}{quantile}\PYG{p}{(}\PYG{n}{x}\PYG{p}{,} \PYG{l+m+mf}{0.1}\PYG{p}{)}                   \PYG{p}{,}
\PYG{p}{)}
\PYG{n}{optimum}\PYG{o}{.}\PYG{n}{exit\PYGZus{}message}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Optimization terminated successfully.}\PYG{l+s+s1}{\PYGZsq{}}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{np}\PYG{o}{.}\PYG{n}{round}\PYG{p}{(}\PYG{n}{optimum}\PYG{o}{.}\PYG{n}{amounts}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{Category}
\PYG{n}{BoS} \PYG{n}{R}\PYG{o}{\PYGZam{}}\PYG{n}{D}               \PYG{l+m+mf}{0.0}
\PYG{n}{Inverter} \PYG{n}{R}\PYG{o}{\PYGZam{}}\PYG{n}{D}          \PYG{l+m+mf}{0.0}
\PYG{n}{Module} \PYG{n}{R}\PYG{o}{\PYGZam{}}\PYG{n}{D}      \PYG{l+m+mf}{3000000.0}
\PYG{n}{Name}\PYG{p}{:} \PYG{n}{Amount}\PYG{p}{,} \PYG{n}{dtype}\PYG{p}{:} \PYG{n}{float64}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{optimum}\PYG{o}{.}\PYG{n}{metrics}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{Index}
\PYG{n}{GHG}      \PYG{l+m+mf}{39.046988}
\PYG{n}{LCOE}      \PYG{l+m+mf}{0.036463}
\PYG{n}{Labor}    \PYG{o}{\PYGZhy{}}\PYG{l+m+mf}{0.019725}
\PYG{n}{Name}\PYG{p}{:} \PYG{n}{Value}\PYG{p}{,} \PYG{n}{dtype}\PYG{p}{:} \PYG{n}{float64}
\end{sphinxVerbatim}


\subsection{Pareto surfaces.}
\label{\detokenize{doc-src/tutorial:pareto-surfaces}}

\subsubsection{Metrics constrained by total investment.}
\label{\detokenize{doc-src/tutorial:metrics-constrained-by-total-investment}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{pareto\PYGZus{}amounts} \PYG{o}{=} \PYG{k+kc}{None}
\PYG{k}{for} \PYG{n}{investment\PYGZus{}max} \PYG{o+ow}{in} \PYG{n}{np}\PYG{o}{.}\PYG{n}{arange}\PYG{p}{(}\PYG{l+m+mf}{1e6}\PYG{p}{,} \PYG{l+m+mf}{9e6}\PYG{p}{,} \PYG{l+m+mf}{0.5e6}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{metrics} \PYG{o}{=} \PYG{n}{optimizer}\PYG{o}{.}\PYG{n}{max\PYGZus{}metrics}\PYG{p}{(}\PYG{n}{total\PYGZus{}amount} \PYG{o}{=} \PYG{n}{investment\PYGZus{}max}\PYG{p}{)}
    \PYG{n}{pareto\PYGZus{}amounts} \PYG{o}{=} \PYG{n}{pd}\PYG{o}{.}\PYG{n}{DataFrame}\PYG{p}{(}
        \PYG{p}{[}\PYG{n}{metrics}\PYG{o}{.}\PYG{n}{values}\PYG{p}{]}                                         \PYG{p}{,}
        \PYG{n}{columns} \PYG{o}{=} \PYG{n}{metrics}\PYG{o}{.}\PYG{n}{index}\PYG{o}{.}\PYG{n}{values}                           \PYG{p}{,}
        \PYG{n}{index}   \PYG{o}{=} \PYG{n}{pd}\PYG{o}{.}\PYG{n}{Index}\PYG{p}{(}\PYG{p}{[}\PYG{n}{investment\PYGZus{}max} \PYG{o}{/} \PYG{l+m+mf}{1e6}\PYG{p}{]}\PYG{p}{,} \PYG{n}{name} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Investment [M\PYGZdl{}]}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{)}\PYG{o}{.}\PYG{n}{append}\PYG{p}{(}\PYG{n}{pareto\PYGZus{}amounts}\PYG{p}{)}
\PYG{n}{pareto\PYGZus{}amounts}
\end{sphinxVerbatim}



\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{sb}\PYG{o}{.}\PYG{n}{relplot}\PYG{p}{(}
    \PYG{n}{x}         \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Investment [M\PYGZdl{}]}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{n}{y}         \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Value}\PYG{l+s+s2}{\PYGZdq{}}          \PYG{p}{,}
    \PYG{n}{col}       \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Metric}\PYG{l+s+s2}{\PYGZdq{}}         \PYG{p}{,}
    \PYG{n}{kind}      \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{line}\PYG{l+s+s2}{\PYGZdq{}}           \PYG{p}{,}
    \PYG{n}{facet\PYGZus{}kws} \PYG{o}{=} \PYG{p}{\PYGZob{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{sharey}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{k+kc}{False}\PYG{p}{\PYGZcb{}}\PYG{p}{,}
    \PYG{n}{data}      \PYG{o}{=} \PYG{n}{pareto\PYGZus{}amounts}\PYG{o}{.}\PYG{n}{reset\PYGZus{}index}\PYG{p}{(}\PYG{p}{)}\PYG{o}{.}\PYG{n}{melt}\PYG{p}{(}\PYG{n}{id\PYGZus{}vars} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Investment [M\PYGZdl{}]}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{var\PYGZus{}name} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Metric}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{value\PYGZus{}name} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{o}{\PYGZlt{}}\PYG{n}{seaborn}\PYG{o}{.}\PYG{n}{axisgrid}\PYG{o}{.}\PYG{n}{FacetGrid} \PYG{n}{at} \PYG{l+m+mh}{0x7f9da11752b0}\PYG{o}{\PYGZgt{}}
\end{sphinxVerbatim}

\noindent\sphinxincludegraphics{{output_108_1}.png}

\sphinxstyleemphasis{We see that the LCOE metric saturates more slowly than the GHG and
Labor ones.}


\subsubsection{GHG vs LCOE, constrained by total investment.}
\label{\detokenize{doc-src/tutorial:ghg-vs-lcoe-constrained-by-total-investment}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{investment\PYGZus{}max} \PYG{o}{=} \PYG{l+m+mi}{3}
\PYG{n}{pareto\PYGZus{}ghg\PYGZus{}lcoe} \PYG{o}{=} \PYG{k+kc}{None}
\PYG{k}{for} \PYG{n}{lcoe\PYGZus{}min} \PYG{o+ow}{in} \PYG{l+m+mf}{0.95} \PYG{o}{*} \PYG{n}{np}\PYG{o}{.}\PYG{n}{arange}\PYG{p}{(}\PYG{l+m+mf}{0.5}\PYG{p}{,} \PYG{l+m+mf}{0.9}\PYG{p}{,} \PYG{l+m+mf}{0.05}\PYG{p}{)} \PYG{o}{*} \PYG{n}{pareto\PYGZus{}amounts}\PYG{o}{.}\PYG{n}{loc}\PYG{p}{[}\PYG{n}{investment\PYGZus{}max}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{LCOE}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{:}
    \PYG{n}{optimum} \PYG{o}{=} \PYG{n}{optimizer}\PYG{o}{.}\PYG{n}{maximize}\PYG{p}{(}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{GHG}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
        \PYG{n}{max\PYGZus{}amount}   \PYG{o}{=} \PYG{n}{pd}\PYG{o}{.}\PYG{n}{Series}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mf}{0.9e6}\PYG{p}{,} \PYG{l+m+mf}{3.0e6}\PYG{p}{,} \PYG{l+m+mf}{1.0e6}\PYG{p}{]}\PYG{p}{,} \PYG{n}{name} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Amount}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{index} \PYG{o}{=} \PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{BoS R\PYGZam{}D}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Inverter R\PYGZam{}D}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Module R\PYGZam{}D}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{)}\PYG{p}{,}
        \PYG{n}{total\PYGZus{}amount} \PYG{o}{=} \PYG{n}{investment\PYGZus{}max} \PYG{o}{*} \PYG{l+m+mf}{1e6}                                 \PYG{p}{,}
        \PYG{n}{min\PYGZus{}metric}   \PYG{o}{=} \PYG{n}{pd}\PYG{o}{.}\PYG{n}{Series}\PYG{p}{(}\PYG{p}{[}\PYG{n}{lcoe\PYGZus{}min}\PYG{p}{]}\PYG{p}{,} \PYG{n}{name} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{index} \PYG{o}{=} \PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{LCOE}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{)}
    \PYG{n}{pareto\PYGZus{}ghg\PYGZus{}lcoe} \PYG{o}{=} \PYG{n}{pd}\PYG{o}{.}\PYG{n}{DataFrame}\PYG{p}{(}
        \PYG{p}{[}\PYG{p}{[}\PYG{n}{investment\PYGZus{}max}\PYG{p}{,} \PYG{n}{lcoe\PYGZus{}min}\PYG{p}{,} \PYG{n}{optimum}\PYG{o}{.}\PYG{n}{metrics}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{LCOE}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{,} \PYG{n}{optimum}\PYG{o}{.}\PYG{n}{metrics}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{GHG}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{,} \PYG{n}{optimum}\PYG{o}{.}\PYG{n}{exit\PYGZus{}message}\PYG{p}{]}\PYG{p}{]}\PYG{p}{,}
        \PYG{n}{columns} \PYG{o}{=} \PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Investment [M\PYGZdl{}]}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{LCOE (min)}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{LCOE}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{GHG}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Result}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}                               \PYG{p}{,}
    \PYG{p}{)}\PYG{o}{.}\PYG{n}{append}\PYG{p}{(}\PYG{n}{pareto\PYGZus{}ghg\PYGZus{}lcoe}\PYG{p}{)}
\PYG{n}{pareto\PYGZus{}ghg\PYGZus{}lcoe} \PYG{o}{=} \PYG{n}{pareto\PYGZus{}ghg\PYGZus{}lcoe}\PYG{o}{.}\PYG{n}{set\PYGZus{}index}\PYG{p}{(}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Investment [M\PYGZdl{}]}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{LCOE (min)}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{)}
\PYG{n}{pareto\PYGZus{}ghg\PYGZus{}lcoe}
\end{sphinxVerbatim}



\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{sb}\PYG{o}{.}\PYG{n}{relplot}\PYG{p}{(}
    \PYG{n}{x} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{LCOE}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{n}{y} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{GHG}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{n}{kind} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{scatter}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{n}{data} \PYG{o}{=} \PYG{n}{pareto\PYGZus{}ghg\PYGZus{}lcoe}\PYG{c+c1}{\PYGZsh{}[pareto\PYGZus{}ghg\PYGZus{}lcoe.Result == \PYGZdq{}Optimization terminated successfully.\PYGZdq{}]}
\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{o}{\PYGZlt{}}\PYG{n}{seaborn}\PYG{o}{.}\PYG{n}{axisgrid}\PYG{o}{.}\PYG{n}{FacetGrid} \PYG{n}{at} \PYG{l+m+mh}{0x7f9da13ae630}\PYG{o}{\PYGZgt{}}
\end{sphinxVerbatim}

\noindent\sphinxincludegraphics{{output_112_1}.png}

\sphinxstyleemphasis{The three types of investment are too decoupled to make an interesting
pareto frontier, and we also need a better solver if we want to push to
lower right.}


\section{Run the interactive explorer for the decision space.}
\label{\detokenize{doc-src/tutorial:run-the-interactive-explorer-for-the-decision-space}}
Make sure the the \sphinxcode{\sphinxupquote{tk}} package is installed on your machine. Here is
the Anaconda link: \sphinxurl{https://anaconda.org/anaconda/tk}.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{w} \PYG{o}{=} \PYG{n}{ty}\PYG{o}{.}\PYG{n}{DecisionWindow}\PYG{p}{(}\PYG{n}{evaluator}\PYG{p}{)}
\PYG{n}{w}\PYG{o}{.}\PYG{n}{mainloop}\PYG{p}{(}\PYG{p}{)}
\end{sphinxVerbatim}

A new window should open that looks like the image below. Moving the
sliders will cause a recomputation of the boxplots.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{Image}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{pv\PYGZus{}residential\PYGZus{}simple\PYGZus{}gui.png}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\end{sphinxVerbatim}

\noindent\sphinxincludegraphics{{output_118_0}.png}


\chapter{Mock FOA Definition}
\label{\detokenize{doc-src/mock-foa:mock-foa-definition}}\label{\detokenize{doc-src/mock-foa::doc}}

\section{Background}
\label{\detokenize{doc-src/mock-foa:background}}
Understanding the FOA process is essential to designing an effective
tool to make to make technically and analytically-based decisions. The
“Mock FOA” process takes a service design approach to understanding the
FOA-writing process as it stands. The Mock FOA began with interviews
with five previous DOE detailees and seven senior DOE staff who have led
multiple FOA development efforts. A major theme emerged: effective
communication of analysis logic and results poses one of the largest
challenges during the FOA process.

A decision-support tool could assist in the communication necessary to
percolate this technical information up the chain. Interview findings
were formalized in collaboration with the NREL service design team to
understand where such a tool could make the greatest impact. The team
considered the steps taken to issue a FOA, resources referenced, and
decision-makers involved.


\subsection{Phases}
\label{\detokenize{doc-src/mock-foa:phases}}
Interviews revealed that, while all FOA processes are unique and highly
non-linear, specific actions must occur. These characterize phases of
the FOA journey:
\begin{enumerate}
\def\theenumi{\arabic{enumi}}
\def\labelenumi{\theenumi .}
\makeatletter\def\p@enumii{\p@enumi \theenumi .}\makeatother
\item {} 
\sphinxstylestrong{Launch}. Decide to issue a FOA.

\item {} 
\sphinxstylestrong{Frame}. Formulate a plan to collect the information necessary to write the FOA

\item {} 
\sphinxstylestrong{Scope}. Investigate topic options.

\item {} 
\sphinxstylestrong{Draft}. Compile information into draft FOA.

\item {} 
\sphinxstylestrong{Refine}. Prepare FOA for distribution.

\end{enumerate}

The specific needs of each phase inform the tool \sphinxstylestrong{content}.


\subsection{Roles}
\label{\detokenize{doc-src/mock-foa:roles}}
The team considered that different staff members will interact with this
information differently and prefer different methods of data
communication. These roles were characterized by “personae” defined by
level of involvement in the FOA-writing process.
\begin{itemize}
\item {} 
Technical analyst

\item {} 
Technical lead

\item {} 
FOA lead

\item {} 
Approver

\end{itemize}

Decision makers in each of these roles will interact with tool output.
The tool users determine how the tool will be used and how its content
will be displayed, informing \sphinxstylestrong{interactions and data visualization}.
For example, a user who will view the tool output in a presentation will
need a static representation of the tool output.


\section{Potential topics}
\label{\detokenize{doc-src/mock-foa:potential-topics}}
Prototyping a tool requires content. The team referenced two previous
FOAs to understand the break-down of topic areas. We then extracted FOA
topic/subtopic areas and metrics from 2016 budget request, combining
hard/soft cost-focused FOAs to examine how to compete the two and avoid
directly analyzing a specific past FOA. Following this process further
informed the team’s understanding of how decision-makers might decide
what to input into the tool.

Topics under consideration might be assessed by the following metrics:
\begin{itemize}
\item {} 
\$/W$_{\text{DC}}$

\item {} 
\$/kWh

\item {} 
Strategic metal content (lifetime)

\item {} 
Hazardous waste content (lifetime)

\item {} 
Lifetime

\item {} 
Reliability

\item {} 
Emissions

\item {} 
Labor

\end{itemize}

The following text details topic areas considered for Tyche tool
development.


\subsection{1. Crystaline silicon wafer design}
\label{\detokenize{doc-src/mock-foa:crystaline-silicon-wafer-design}}\begin{itemize}
\item {} 
Wafer area

\item {} 
Wafer thickness

\item {} 
Wafer density

\item {} 
Silicon utilization

\item {} 
Production yield

\end{itemize}


\subsection{2. Tandem thin-films}
\label{\detokenize{doc-src/mock-foa:tandem-thin-films}}\begin{itemize}
\item {} 
Design parameters

\item {} 
Architectures

\end{itemize}


\subsection{3. Polysilicon module}
\label{\detokenize{doc-src/mock-foa:polysilicon-module}}\begin{itemize}
\item {} 
(many parameters)

\end{itemize}


\subsection{4. Module design}
\label{\detokenize{doc-src/mock-foa:module-design}}\begin{itemize}
\item {} 
Module Capital

\item {} 
Module Lifetime

\item {} 
Module Efficiency

\item {} 
Module Aperture

\item {} 
Module O\&M Fixed

\item {} 
Module Degradation

\item {} 
Module Soiling Loss

\end{itemize}


\subsection{5. Inverter design}
\label{\detokenize{doc-src/mock-foa:inverter-design}}\begin{itemize}
\item {} 
Inverter Capital

\item {} 
Inverter Lifetime

\item {} 
Inverter Replacement

\item {} 
Inverter Efficiency

\end{itemize}


\subsection{6. Balance-of-system design}
\label{\detokenize{doc-src/mock-foa:balance-of-system-design}}\begin{itemize}
\item {} 
Hardware Capital

\item {} 
Direct Labor

\item {} 
Permitting

\item {} 
Customer Acquisition

\item {} 
Installer Overhead \& Profit

\end{itemize}


\chapter{Mock FOA Example}
\label{\detokenize{doc-src/ioc-1:mock-foa-example}}\label{\detokenize{doc-src/ioc-1::doc}}

\section{Set up.}
\label{\detokenize{doc-src/ioc-1:set-up}}

\subsection{Import packages.}
\label{\detokenize{doc-src/ioc-1:import-packages}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{import} \PYG{n+nn}{os}
\PYG{k+kn}{import} \PYG{n+nn}{sys}
\PYG{n}{sys}\PYG{o}{.}\PYG{n}{path}\PYG{o}{.}\PYG{n}{insert}\PYG{p}{(}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{n}{os}\PYG{o}{.}\PYG{n}{path}\PYG{o}{.}\PYG{n}{abspath}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{../src}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{import} \PYG{n+nn}{numpy}             \PYG{k}{as} \PYG{n+nn}{np}
\PYG{k+kn}{import} \PYG{n+nn}{matplotlib}\PYG{n+nn}{.}\PYG{n+nn}{pyplot} \PYG{k}{as} \PYG{n+nn}{pl}
\PYG{k+kn}{import} \PYG{n+nn}{pandas}            \PYG{k}{as} \PYG{n+nn}{pd}
\PYG{k+kn}{import} \PYG{n+nn}{seaborn}           \PYG{k}{as} \PYG{n+nn}{sb}
\PYG{k+kn}{import} \PYG{n+nn}{tyche}             \PYG{k}{as} \PYG{n+nn}{ty}

\PYG{k+kn}{from} \PYG{n+nn}{copy}            \PYG{k+kn}{import} \PYG{n}{deepcopy}
\PYG{k+kn}{from} \PYG{n+nn}{IPython}\PYG{n+nn}{.}\PYG{n+nn}{display} \PYG{k+kn}{import} \PYG{n}{Image}
\end{sphinxVerbatim}


\section{Load data.}
\label{\detokenize{doc-src/ioc-1:load-data}}
The data are stored in a set of tab-separated value files in a folder.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{designs} \PYG{o}{=} \PYG{n}{ty}\PYG{o}{.}\PYG{n}{Designs}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{data}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{investments} \PYG{o}{=} \PYG{n}{ty}\PYG{o}{.}\PYG{n}{Investments}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{data}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\end{sphinxVerbatim}

Compile the production and metric functions for each technology in the dataset.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{designs}\PYG{o}{.}\PYG{n}{compile}\PYG{p}{(}\PYG{p}{)}
\end{sphinxVerbatim}


\section{Examine the input data.}
\label{\detokenize{doc-src/ioc-1:examine-the-input-data}}
The \sphinxcode{\sphinxupquote{functions}} table specifies where the Python code for each technology resides.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{designs}\PYG{o}{.}\PYG{n}{functions}
\end{sphinxVerbatim}



The \sphinxcode{\sphinxupquote{indices}} table defines the subscripts for variables.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{designs}\PYG{o}{.}\PYG{n}{indices}\PYG{o}{.}\PYG{n}{drop}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Offset}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{axis} \PYG{o}{=} \PYG{l+m+mi}{1}\PYG{p}{)}
\end{sphinxVerbatim}



The \sphinxcode{\sphinxupquote{designs}} table contains the cost, input, efficiency, and price data for a scenario.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{designs}\PYG{o}{.}\PYG{n}{designs}\PYG{o}{.}\PYG{n}{xs}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Reference}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{level} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Scenario}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{drop\PYGZus{}level} \PYG{o}{=} \PYG{k+kc}{False}\PYG{p}{)}
\end{sphinxVerbatim}



The \sphinxcode{\sphinxupquote{parameters}} table contains additional techno-economic parameters for each technology.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{designs}\PYG{o}{.}\PYG{n}{parameters}\PYG{o}{.}\PYG{n}{drop}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Offset}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{axis} \PYG{o}{=} \PYG{l+m+mi}{1}\PYG{p}{)}\PYG{o}{.}\PYG{n}{xs}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Reference}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{level} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Scenario}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{drop\PYGZus{}level} \PYG{o}{=} \PYG{k+kc}{False}\PYG{p}{)}
\end{sphinxVerbatim}



The \sphinxcode{\sphinxupquote{results}} table specifies the units of measure for results of computations.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{designs}\PYG{o}{.}\PYG{n}{results}
\end{sphinxVerbatim}



The \sphinxcode{\sphinxupquote{tranches}} table specifies multually exclusive possibilities for investments: only one \sphinxcode{\sphinxupquote{Tranch}} may be selected for each \sphinxcode{\sphinxupquote{Category}}.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{investments}\PYG{o}{.}\PYG{n}{tranches}
\end{sphinxVerbatim}



The \sphinxcode{\sphinxupquote{investments}} table bundles a consistent set of tranches (one per category) into an overall investment.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{investments}\PYG{o}{.}\PYG{n}{investments}
\end{sphinxVerbatim}




\section{Evaluate the scenarios in the dataset.}
\label{\detokenize{doc-src/ioc-1:evaluate-the-scenarios-in-the-dataset}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{scenario\PYGZus{}results} \PYG{o}{=} \PYG{n}{designs}\PYG{o}{.}\PYG{n}{evaluate\PYGZus{}scenarios}\PYG{p}{(}\PYG{n}{sample\PYGZus{}count}\PYG{o}{=}\PYG{l+m+mi}{500}\PYG{p}{)}
\end{sphinxVerbatim}

Format results as a pivot table.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{scenario\PYGZus{}results}\PYG{o}{.}\PYG{n}{xs}\PYG{p}{(}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{PV Generic}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{p}{)}\PYG{o}{.}\PYG{n}{groupby}\PYG{p}{(}
    \PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Scenario}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Variable}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Index}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}
\PYG{p}{)}\PYG{o}{.}\PYG{n}{aggregate}\PYG{p}{(}
    \PYG{n}{np}\PYG{o}{.}\PYG{n}{mean}
\PYG{p}{)}\PYG{o}{.}\PYG{n}{xs}\PYG{p}{(}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Metric}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{level} \PYG{o}{=} \PYG{l+m+mi}{1}
\PYG{p}{)}\PYG{o}{.}\PYG{n}{pivot\PYGZus{}table}\PYG{p}{(}
    \PYG{n}{index} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Scenario}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{columns} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Index}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{p}{)}
\end{sphinxVerbatim}



Print the units for the columns.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{designs}\PYG{o}{.}\PYG{n}{results}\PYG{o}{.}\PYG{n}{loc}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{PV Generic}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Metric}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{o}{.}\PYG{n}{transpose}\PYG{p}{(}\PYG{p}{)}
\end{sphinxVerbatim}




\section{Save results.}
\label{\detokenize{doc-src/ioc-1:save-results}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{scenario\PYGZus{}results}\PYG{o}{.}\PYG{n}{to\PYGZus{}csv}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{output/example\PYGZhy{}scenario.csv}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\end{sphinxVerbatim}


\subsection{Plot the results.}
\label{\detokenize{doc-src/ioc-1:plot-the-results}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{g} \PYG{o}{=} \PYG{n}{sb}\PYG{o}{.}\PYG{n}{FacetGrid}\PYG{p}{(}
    \PYG{n}{data} \PYG{o}{=} \PYG{n}{investments}\PYG{o}{.}\PYG{n}{tranches}\PYG{o}{.}\PYG{n}{join}\PYG{p}{(}\PYG{n}{scenario\PYGZus{}results}\PYG{p}{)}\PYG{o}{.}\PYG{n}{xs}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Metric}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{level} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Variable}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{o}{.}\PYG{n}{reset\PYGZus{}index}\PYG{p}{(}\PYG{p}{)}\PYG{p}{,}
    \PYG{n}{row} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Category}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{n}{col} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Index}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{n}{sharex} \PYG{o}{=} \PYG{k+kc}{False}\PYG{p}{,}
    \PYG{n}{sharey} \PYG{o}{=} \PYG{k+kc}{False}\PYG{p}{,}
\PYG{p}{)}
\PYG{n}{g}\PYG{o}{.}\PYG{n}{map}\PYG{p}{(}
    \PYG{n}{sb}\PYG{o}{.}\PYG{n}{violinplot}\PYG{p}{,}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Tranche}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
\PYG{p}{)}
\end{sphinxVerbatim}
\begin{sphinxalltt}
/nix/store/2hqyq1p29z76wvh920r43a63sy9n1cag-python3-3.7.6-env/lib/python3.7/site-packages/seaborn/axisgrid.py:728: UserWarning: Using the violinplot function without specifying \sphinxtitleref{order} is likely to produce an incorrect plot.
  warnings.warn(warning)
\end{sphinxalltt}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{o}{\PYGZlt{}}\PYG{n}{seaborn}\PYG{o}{.}\PYG{n}{axisgrid}\PYG{o}{.}\PYG{n}{FacetGrid} \PYG{n}{at} \PYG{l+m+mh}{0x7f93daf77d10}\PYG{o}{\PYGZgt{}}
\end{sphinxVerbatim}

\noindent\sphinxincludegraphics{{output_35_2}.png}


\section{Evaluate the investments in the dataset.}
\label{\detokenize{doc-src/ioc-1:evaluate-the-investments-in-the-dataset}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{investment\PYGZus{}results} \PYG{o}{=} \PYG{n}{investments}\PYG{o}{.}\PYG{n}{evaluate\PYGZus{}investments}\PYG{p}{(}\PYG{n}{designs}\PYG{p}{,} \PYG{n}{sample\PYGZus{}count}\PYG{o}{=}\PYG{l+m+mi}{500}\PYG{p}{)}
\end{sphinxVerbatim}


\subsection{Costs of investments.}
\label{\detokenize{doc-src/ioc-1:costs-of-investments}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{investment\PYGZus{}results}\PYG{o}{.}\PYG{n}{amounts}
\end{sphinxVerbatim}




\subsection{Benefits of investments.}
\label{\detokenize{doc-src/ioc-1:benefits-of-investments}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{investment\PYGZus{}results}\PYG{o}{.}\PYG{n}{summary}\PYG{o}{.}\PYG{n}{set\PYGZus{}index}\PYG{p}{(}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Units}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{append} \PYG{o}{=} \PYG{k+kc}{True}
\PYG{p}{)}\PYG{o}{.}\PYG{n}{groupby}\PYG{p}{(}
    \PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Investment}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Index}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Units}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}
\PYG{p}{)}\PYG{o}{.}\PYG{n}{aggregate}\PYG{p}{(}
    \PYG{n}{np}\PYG{o}{.}\PYG{n}{mean}
\PYG{p}{)}\PYG{o}{.}\PYG{n}{pivot\PYGZus{}table}\PYG{p}{(}
    \PYG{n}{index} \PYG{o}{=} \PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Index}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Units}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{,}
    \PYG{n}{columns} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Investment}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
\PYG{p}{)}
\end{sphinxVerbatim}




\subsection{Save results.}
\label{\detokenize{doc-src/ioc-1:save-results-1}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{investment\PYGZus{}results}\PYG{o}{.}\PYG{n}{amounts}\PYG{o}{.}\PYG{n}{to\PYGZus{}csv}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{output/example\PYGZhy{}investment\PYGZhy{}amounts.csv}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{investment\PYGZus{}results}\PYG{o}{.}\PYG{n}{metrics}\PYG{o}{.}\PYG{n}{to\PYGZus{}csv}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{output/example\PYGZhy{}investment\PYGZhy{}metrics.csv}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\end{sphinxVerbatim}


\subsection{Plot the results.}
\label{\detokenize{doc-src/ioc-1:plot-the-results-1}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{investment\PYGZus{}results}\PYG{o}{.}\PYG{n}{summary}
\end{sphinxVerbatim}



\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{g} \PYG{o}{=} \PYG{n}{sb}\PYG{o}{.}\PYG{n}{FacetGrid}\PYG{p}{(}
    \PYG{n}{data} \PYG{o}{=} \PYG{n}{investment\PYGZus{}results}\PYG{o}{.}\PYG{n}{summary}\PYG{o}{.}\PYG{n}{reset\PYGZus{}index}\PYG{p}{(}\PYG{p}{)}\PYG{p}{,}
    \PYG{n}{col} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Index}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{n}{sharex} \PYG{o}{=} \PYG{k+kc}{False}\PYG{p}{,}
    \PYG{n}{col\PYGZus{}wrap} \PYG{o}{=} \PYG{l+m+mi}{4}
\PYG{p}{)}
\PYG{n}{g}\PYG{o}{.}\PYG{n}{map}\PYG{p}{(}
    \PYG{n}{sb}\PYG{o}{.}\PYG{n}{violinplot}\PYG{p}{,}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Investment}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
\PYG{p}{)}
\end{sphinxVerbatim}
\begin{sphinxalltt}
/nix/store/2hqyq1p29z76wvh920r43a63sy9n1cag-python3-3.7.6-env/lib/python3.7/site-packages/seaborn/axisgrid.py:728: UserWarning: Using the violinplot function without specifying \sphinxtitleref{order} is likely to produce an incorrect plot.
  warnings.warn(warning)
\end{sphinxalltt}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{o}{\PYGZlt{}}\PYG{n}{seaborn}\PYG{o}{.}\PYG{n}{axisgrid}\PYG{o}{.}\PYG{n}{FacetGrid} \PYG{n}{at} \PYG{l+m+mh}{0x7f93dafe6750}\PYG{o}{\PYGZgt{}}
\end{sphinxVerbatim}

\noindent\sphinxincludegraphics{{output_47_2}.png}


\chapter{Deployment Plan}
\label{\detokenize{doc-src/deployment:deployment-plan}}\label{\detokenize{doc-src/deployment::doc}}

\section{Objectives}
\label{\detokenize{doc-src/deployment:objectives}}\begin{enumerate}
\def\theenumi{\arabic{enumi}}
\def\labelenumi{\theenumi .}
\makeatletter\def\p@enumii{\p@enumi \theenumi .}\makeatother
\item {} 
Securely house all potentially sensitive data within on DOE servers
within the DOE intranet.

\item {} 
Minimize the deployment and maintenance burden at DOE.

\item {} 
Assure the quality of software and data updates.

\item {} 
Enable DOE personnel and contractors to contribute technology models
and data.

\end{enumerate}


\section{Components and Activities}
\label{\detokenize{doc-src/deployment:components-and-activities}}
\begin{figure}[htbp]
\centering
\capstart

\noindent\sphinxincludegraphics{{deployment}.png}
\caption{Deployment of services and activities.}\label{\detokenize{doc-src/deployment:fig-deployment}}\end{figure}


\section{Activities}
\label{\detokenize{doc-src/deployment:activities}}
Analysts at DOE will connect to Tyche server within the DOE intranet
using their web browsers to run and analyze scenarios using Tyche. The
server will have the capability to record scenarios for sharing within
DOE, but that data will never leave the DOE intranet.

Analysts developing data and technology models at DOE, NREL, and
elsewhere can post that data and software to a branch of the GitHub
Software Repository. Those contributions will be reviewed, vetted, and
tested before they are pushed to the NREL Data Lake (in the case of
datasets) or to the \sphinxcode{\sphinxupquote{production}} branch of the GitHub repository (in
the case of technology models).

NREL will perform quality assurance and periodically update the
production version of the data and software, both of which can be
fetched by DOE on a regular basis.


\section{Components}
\label{\detokenize{doc-src/deployment:components}}

\subsection{DOE Server}
\label{\detokenize{doc-src/deployment:doe-server}}
The DOE server for Tyche resides within the DOE intranet. It fetches
software updates from the GitHub Software Repository and fetches data
updates from the NREL Data Lake. (Because data volumes are small, it
could perform these automatically on a daily or weekly basis during off
hours.) It runs a \sphinxhref{https://pgjones.gitlab.io/quart/}{Quart HTTP
server} within a
\sphinxhref{https://docs.conda.io/en/latest/miniconda.html}{Conda} environment.
Requirements for this server are as follows:
\begin{enumerate}
\def\theenumi{\arabic{enumi}}
\def\labelenumi{\theenumi .}
\makeatletter\def\p@enumii{\p@enumi \theenumi .}\makeatother
\item {} 
Linux (preferred) or Windows.

\item {} 
Four to 16 CPU cores and at least 32 GB of memory.

\item {} 
An up-to-date installation (version 4.8.3 or later) of the
\sphinxhref{https://docs.conda.io/en/latest/miniconda.html}{Conda} software
package manager.

\item {} 
Installation of the Tyche environment within Conda. (This will
install the correct version of Python and the other required
software, so those need not be installed individually.) See the
attachment \sphinxurl{conda-environment.yml}.

\item {} 
Running a shell script for the Quart HTTP server.

\item {} 
Open outgoing HTTPS ports for \sphinxcode{\sphinxupquote{GET}} requests to the NREL Data Lake
and GitHub.com.

\item {} 
An open HTTP incoming port from client web browsers withing the DOE
intranet.

\item {} 
A folder on disk that is regularly backed up.

\end{enumerate}


\subsection{NREL Data Lake}
\label{\detokenize{doc-src/deployment:nrel-data-lake}}
The NREL Data Lake, which is housed on Amazon Web Services (AWS),
contains all of the non-sensitive data, such as the parameters for
technology models and the results of expert elicitations. NREL curates
the data that is pushed to the data lake.


\subsection{GitHub Software Repository}
\label{\detokenize{doc-src/deployment:github-software-repository}}
The Tyche software resides on the NREL GitHub software repository
\textless{}\sphinxurl{https://github.com/NREL/tyche/}\textgreater{}. The \sphinxcode{\sphinxupquote{production}} branch contains the
latest deployable version of the software. Other branches contain work
in progress, contributions from DOE and its subcontractors, and the
\sphinxcode{\sphinxupquote{development}} (pre-release) version of the software.


\section{Security Considerations}
\label{\detokenize{doc-src/deployment:security-considerations}}\begin{enumerate}
\def\theenumi{\arabic{enumi}}
\def\labelenumi{\theenumi .}
\makeatletter\def\p@enumii{\p@enumi \theenumi .}\makeatother
\item {} 
NREL has authority to operate (ATO) with non-sensitive software and
data on its Data Lake and on GitHub.com.

\item {} 
Sensitive data (in the form of scenario definitions and results) may
reside on the DOE server and on the laptops of DOE users.

\item {} 
The Tyche service only makes HTTPS \sphinxcode{\sphinxupquote{GET}} requests outside of the
DOE intranet, and these only consist of fetching non-sensitive
datasets and technology models. Thus, the firewall for the Tyche
server should be configured at follows:
\begin{enumerate}
\def\theenumii{\arabic{enumii}}
\def\labelenumii{\theenumii .}
\makeatletter\def\p@enumiii{\p@enumii \theenumii .}\makeatother
\item {} 
Block all incoming traffic from outside the DOE intranet.

\item {} 
Allow incoming HTTP traffic from inside the DOE intranet.

\item {} 
Allow outgoing HTTPS traffic to NREL Data Lake and GitHub.com.

\item {} 
Block all other outgoing traffic.

\end{enumerate}

\item {} 
Ideally, the Tyche software (and its library dependencies) and its
updates should undergo a security audit.

\end{enumerate}


\chapter{Getting Started}
\label{\detokenize{doc-src/getting-started:getting-started}}\label{\detokenize{doc-src/getting-started::doc}}
Instruction for Running the Example and the Server


\section{Conda Environment}
\label{\detokenize{doc-src/getting-started:conda-environment}}
Before running the example or the server, create and activate the conda
environment:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{conda} \PYG{n}{env} \PYG{n}{create} \PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{n}{file} \PYG{n}{conda}\PYGZbs{}\PYG{n}{win}\PYG{o}{.}\PYG{n}{yml}
\PYG{n}{conda} \PYG{n}{activate} \PYG{n}{tyche}
\end{sphinxVerbatim}

on Windows, or on Mac

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{conda} \PYG{n}{env} \PYG{n}{create} \PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{n}{file} \PYG{n}{conda}\PYG{o}{/}\PYG{n}{mac}\PYG{o}{.}\PYG{n}{yml}
\PYG{n}{conda} \PYG{n}{activate} \PYG{n}{tyche}
\end{sphinxVerbatim}

If you receive an HTTPS error, consider retrying the command with the \sphinxtitleref{\textendash{}insecure} flag added.
Note that the conda environment was created with the command:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{conda} \PYG{n}{create} \PYG{o}{\PYGZhy{}}\PYG{n}{n} \PYG{n}{tyche} \PYG{o}{\PYGZhy{}}\PYG{n}{c} \PYG{n}{conda}\PYG{o}{\PYGZhy{}}\PYG{n}{forge} \PYG{n}{python}\PYG{o}{=}\PYG{l+m+mf}{3.7} \PYG{n}{numpy} \PYG{n}{scipy} \PYG{n}{scikit}\PYG{o}{\PYGZhy{}}\PYG{n}{learn} \PYG{n}{seaborn}\PYG{o}{=}\PYG{l+m+mf}{0.10} \PYG{n}{matplotlib}\PYG{o}{=}\PYG{l+m+mf}{3.3} \PYG{n}{quart} \PYG{n}{hypercorn} \PYG{n}{jupyter}
\end{sphinxVerbatim}


\section{Running the Server}
\label{\detokenize{doc-src/getting-started:running-the-server}}
Visit the folder \sphinxcode{\sphinxupquote{src/eutychia/}} and start the server in debug mode

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{cd} \PYG{n}{src}\PYGZbs{}\PYG{n}{eutychia}
\PYG{n}{debug}\PYG{o}{.}\PYG{n}{cmd}
\end{sphinxVerbatim}

on Windows, or on Mac

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{cd} \PYG{n}{src}\PYG{o}{/}\PYG{n}{eutychia}
\PYG{o}{.}\PYG{o}{/}\PYG{n}{debug}\PYG{o}{.}\PYG{n}{sh}
\end{sphinxVerbatim}

or in production mode

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{cd} \PYG{n}{src}\PYGZbs{}\PYG{n}{eutychia}
\PYG{n}{run}\PYG{o}{.}\PYG{n}{cmd}
\end{sphinxVerbatim}

on Windows, or on Mac

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{cd} \PYG{n}{src}\PYG{o}{/}\PYG{n}{eutychia}
\PYG{o}{.}\PYG{o}{/}\PYG{n}{run}\PYG{o}{.}\PYG{n}{sh}
\end{sphinxVerbatim}

and then visit \sphinxurl{http://127.0.0.1:5000/}.


\section{Running the Example}
\label{\detokenize{doc-src/getting-started:running-the-example}}
Using Jupyter, first start the notebook server

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{jupyter} \PYG{n}{notebook}
\end{sphinxVerbatim}

and visit \sphinxurl{http://localhost:8888/} to select \sphinxcode{\sphinxupquote{example.ipynb}} in the folder \sphinxcode{\sphinxupquote{src/eutychia}}.

Alternatively, just open \sphinxurl{example.py} in the IDE of your
choice or run it at the command line.


\chapter{Python API}
\label{\detokenize{doc-src/modules:python-api}}\label{\detokenize{doc-src/modules::doc}}
The module {\hyperref[\detokenize{doc-src/tyche:module-tyche}]{\sphinxcrossref{\sphinxcode{\sphinxupquote{tyche}}}}} contains defines and solves multi-objective R\&D
optimization problems, which the module {\hyperref[\detokenize{doc-src/eutychia:module-eutychia}]{\sphinxcrossref{\sphinxcode{\sphinxupquote{eutychia}}}}} provides a server
of a web-based user interface. The module {\hyperref[\detokenize{doc-src/technology:module-technology}]{\sphinxcrossref{\sphinxcode{\sphinxupquote{technology}}}}} definites
individual R\&D technologies.


\section{tyche package}
\label{\detokenize{doc-src/tyche:tyche-package}}\label{\detokenize{doc-src/tyche::doc}}

\subsection{Submodules}
\label{\detokenize{doc-src/tyche:submodules}}

\subsection{tyche.DecisionGUI module}
\label{\detokenize{doc-src/tyche:module-tyche.DecisionGUI}}\label{\detokenize{doc-src/tyche:tyche-decisiongui-module}}\index{tyche.DecisionGUI (module)@\spxentry{tyche.DecisionGUI}\spxextra{module}}
Interactive exploration of a technology.
\index{DecisionWindow (class in tyche.DecisionGUI)@\spxentry{DecisionWindow}\spxextra{class in tyche.DecisionGUI}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.DecisionGUI.DecisionWindow}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{class }}\sphinxcode{\sphinxupquote{tyche.DecisionGUI.}}\sphinxbfcode{\sphinxupquote{DecisionWindow}}}{\emph{evaluator}}{}
Bases: \sphinxcode{\sphinxupquote{object}}

Class for displaying an interactive interface to explore cost-benefit tradeoffs for a technology.
\index{create\_figure() (tyche.DecisionGUI.DecisionWindow method)@\spxentry{create\_figure()}\spxextra{tyche.DecisionGUI.DecisionWindow method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.DecisionGUI.DecisionWindow.create_figure}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{create\_figure}}}{\emph{i}, \emph{j}}{{ $\rightarrow$ matplotlib.figure.Figure}}
\end{fulllineitems}

\index{mainloop() (tyche.DecisionGUI.DecisionWindow method)@\spxentry{mainloop()}\spxextra{tyche.DecisionGUI.DecisionWindow method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.DecisionGUI.DecisionWindow.mainloop}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{mainloop}}}{}{}
Run the interactive interface.

\end{fulllineitems}

\index{reevaluate() (tyche.DecisionGUI.DecisionWindow method)@\spxentry{reevaluate()}\spxextra{tyche.DecisionGUI.DecisionWindow method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.DecisionGUI.DecisionWindow.reevaluate}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{reevaluate}}}{\emph{next=\textless{}function DecisionWindow.\textless{}lambda\textgreater{}\textgreater{}}, \emph{delay=200}}{}
Recalculate the results after a delay.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{next}} (\sphinxstyleliteralemphasis{\sphinxupquote{function}}) \textendash{} The operation to perform after completing the recalculation.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{delay}} (\sphinxstyleliteralemphasis{\sphinxupquote{int}}) \textendash{} The number of milliseconds to delay before the recalculation.

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{reevaluate\_immediate() (tyche.DecisionGUI.DecisionWindow method)@\spxentry{reevaluate\_immediate()}\spxextra{tyche.DecisionGUI.DecisionWindow method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.DecisionGUI.DecisionWindow.reevaluate_immediate}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{reevaluate\_immediate}}}{\emph{next=\textless{}function DecisionWindow.\textless{}lambda\textgreater{}\textgreater{}}}{}
Recalculate the results immediately.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\sphinxstyleliteralstrong{\sphinxupquote{next}} (\sphinxstyleliteralemphasis{\sphinxupquote{function}}) \textendash{} The operation to perform after completing the recalculation.

\end{description}\end{quote}

\end{fulllineitems}

\index{refresh() (tyche.DecisionGUI.DecisionWindow method)@\spxentry{refresh()}\spxextra{tyche.DecisionGUI.DecisionWindow method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.DecisionGUI.DecisionWindow.refresh}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{refresh}}}{}{}
Refresh the graphics after a delay.

\end{fulllineitems}

\index{refresh\_immediate() (tyche.DecisionGUI.DecisionWindow method)@\spxentry{refresh\_immediate()}\spxextra{tyche.DecisionGUI.DecisionWindow method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.DecisionGUI.DecisionWindow.refresh_immediate}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{refresh\_immediate}}}{}{}
Refresh the graphics immediately.

\end{fulllineitems}


\end{fulllineitems}



\subsection{tyche.Designs module}
\label{\detokenize{doc-src/tyche:module-tyche.Designs}}\label{\detokenize{doc-src/tyche:tyche-designs-module}}\index{tyche.Designs (module)@\spxentry{tyche.Designs}\spxextra{module}}
Designs for technologies.
\index{Designs (class in tyche.Designs)@\spxentry{Designs}\spxextra{class in tyche.Designs}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Designs.Designs}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{class }}\sphinxcode{\sphinxupquote{tyche.Designs.}}\sphinxbfcode{\sphinxupquote{Designs}}}{\emph{path=None}, \emph{indices='indices.tsv'}, \emph{functions='functions.tsv'}, \emph{designs='designs.tsv'}, \emph{parameters='parameters.tsv'}, \emph{results='results.tsv'}}{}
Bases: \sphinxcode{\sphinxupquote{object}}

Designs for a technology.
\index{indices (tyche.Designs.Designs attribute)@\spxentry{indices}\spxextra{tyche.Designs.Designs attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Designs.Designs.indices}}\pysigline{\sphinxbfcode{\sphinxupquote{indices}}}
The \sphinxstyleemphasis{indices} table.
\begin{quote}\begin{description}
\item[{Type}] \leavevmode
DataFrame

\end{description}\end{quote}

\end{fulllineitems}

\index{functions (tyche.Designs.Designs attribute)@\spxentry{functions}\spxextra{tyche.Designs.Designs attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Designs.Designs.functions}}\pysigline{\sphinxbfcode{\sphinxupquote{functions}}}
The \sphinxstyleemphasis{functions} table.
\begin{quote}\begin{description}
\item[{Type}] \leavevmode
DataFrame

\end{description}\end{quote}

\end{fulllineitems}

\index{designs (tyche.Designs.Designs attribute)@\spxentry{designs}\spxextra{tyche.Designs.Designs attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Designs.Designs.designs}}\pysigline{\sphinxbfcode{\sphinxupquote{designs}}}
The \sphinxstyleemphasis{designs} table.
\begin{quote}\begin{description}
\item[{Type}] \leavevmode
DataFrame

\end{description}\end{quote}

\end{fulllineitems}

\index{parameters (tyche.Designs.Designs attribute)@\spxentry{parameters}\spxextra{tyche.Designs.Designs attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Designs.Designs.parameters}}\pysigline{\sphinxbfcode{\sphinxupquote{parameters}}}
The \sphinxstyleemphasis{parameters} table.
\begin{quote}\begin{description}
\item[{Type}] \leavevmode
DataFrame

\end{description}\end{quote}

\end{fulllineitems}

\index{results (tyche.Designs.Designs attribute)@\spxentry{results}\spxextra{tyche.Designs.Designs attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Designs.Designs.results}}\pysigline{\sphinxbfcode{\sphinxupquote{results}}}
The \sphinxstyleemphasis{results} table.
\begin{quote}\begin{description}
\item[{Type}] \leavevmode
DataFrame

\end{description}\end{quote}

\end{fulllineitems}

\index{compile() (tyche.Designs.Designs method)@\spxentry{compile()}\spxextra{tyche.Designs.Designs method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Designs.Designs.compile}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{compile}}}{}{}
Compile the production and metrics functions.

\end{fulllineitems}

\index{evaluate() (tyche.Designs.Designs method)@\spxentry{evaluate()}\spxextra{tyche.Designs.Designs method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Designs.Designs.evaluate}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{evaluate}}}{\emph{technology}, \emph{sample\_count=1}}{}
Evaluate the performance of a technology.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{technology}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} The name of the technology.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{sample\_count}} (\sphinxstyleliteralemphasis{\sphinxupquote{int}}) \textendash{} The number of random samples.

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{evaluate\_scenarios() (tyche.Designs.Designs method)@\spxentry{evaluate\_scenarios()}\spxextra{tyche.Designs.Designs method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Designs.Designs.evaluate_scenarios}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{evaluate\_scenarios}}}{\emph{sample\_count=1}}{}
Evaluate scenarios.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\sphinxstyleliteralstrong{\sphinxupquote{sample\_count}} (\sphinxstyleliteralemphasis{\sphinxupquote{int}}) \textendash{} The number of random samples.

\end{description}\end{quote}

\end{fulllineitems}

\index{vectorize\_designs() (tyche.Designs.Designs method)@\spxentry{vectorize\_designs()}\spxextra{tyche.Designs.Designs method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Designs.Designs.vectorize_designs}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{vectorize\_designs}}}{\emph{technology}, \emph{scenario\_count}, \emph{sample\_count=1}}{}
Make an array of designs.

\end{fulllineitems}

\index{vectorize\_indices() (tyche.Designs.Designs method)@\spxentry{vectorize\_indices()}\spxextra{tyche.Designs.Designs method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Designs.Designs.vectorize_indices}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{vectorize\_indices}}}{\emph{technology}}{}
Make an array of indices.

\end{fulllineitems}

\index{vectorize\_parameters() (tyche.Designs.Designs method)@\spxentry{vectorize\_parameters()}\spxextra{tyche.Designs.Designs method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Designs.Designs.vectorize_parameters}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{vectorize\_parameters}}}{\emph{technology}, \emph{scenario\_count}, \emph{sample\_count=1}}{}
Make an array of parameters.

\end{fulllineitems}

\index{vectorize\_scenarios() (tyche.Designs.Designs method)@\spxentry{vectorize\_scenarios()}\spxextra{tyche.Designs.Designs method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Designs.Designs.vectorize_scenarios}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{vectorize\_scenarios}}}{\emph{technology}}{}
Make an array of scenarios.

\end{fulllineitems}

\index{vectorize\_technologies() (tyche.Designs.Designs method)@\spxentry{vectorize\_technologies()}\spxextra{tyche.Designs.Designs method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Designs.Designs.vectorize_technologies}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{vectorize\_technologies}}}{}{}
Make an array of technologies.

\end{fulllineitems}


\end{fulllineitems}

\index{sampler() (in module tyche.Designs)@\spxentry{sampler()}\spxextra{in module tyche.Designs}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Designs.sampler}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{tyche.Designs.}}\sphinxbfcode{\sphinxupquote{sampler}}}{\emph{x}, \emph{sample\_count}}{}
Sample from an array.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{x}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} The array.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{sample\_count}} (\sphinxstyleliteralemphasis{\sphinxupquote{int}}) \textendash{} The sample size.

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}



\subsection{tyche.Distributions module}
\label{\detokenize{doc-src/tyche:module-tyche.Distributions}}\label{\detokenize{doc-src/tyche:tyche-distributions-module}}\index{tyche.Distributions (module)@\spxentry{tyche.Distributions}\spxextra{module}}
Utilities for probability distributions.
\index{choice() (in module tyche.Distributions)@\spxentry{choice()}\spxextra{in module tyche.Distributions}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Distributions.choice}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{tyche.Distributions.}}\sphinxbfcode{\sphinxupquote{choice}}}{\emph{a}, \emph{size=None}, \emph{replace=True}, \emph{p=None}}{}
Generates a random sample from a given 1-D array

\DUrole{versionmodified}{New in version 1.7.0.}

\begin{sphinxadmonition}{note}{Note:}
New code should use the \sphinxcode{\sphinxupquote{choice}} method of a \sphinxcode{\sphinxupquote{default\_rng()}}
instance instead; please see the \DUrole{xref,std,std-ref}{random-quick-start}.
\end{sphinxadmonition}
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{a}} (\sphinxstyleliteralemphasis{\sphinxupquote{1-D array-like}}\sphinxstyleliteralemphasis{\sphinxupquote{ or }}\sphinxstyleliteralemphasis{\sphinxupquote{int}}) \textendash{} If an ndarray, a random sample is generated from its elements.
If an int, the random sample is generated as if a were np.arange(a)

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{size}} (\sphinxstyleliteralemphasis{\sphinxupquote{int}}\sphinxstyleliteralemphasis{\sphinxupquote{ or }}\sphinxstyleliteralemphasis{\sphinxupquote{tuple of ints}}\sphinxstyleliteralemphasis{\sphinxupquote{, }}\sphinxstyleliteralemphasis{\sphinxupquote{optional}}) \textendash{} Output shape.  If the given shape is, e.g., \sphinxcode{\sphinxupquote{(m, n, k)}}, then
\sphinxcode{\sphinxupquote{m * n * k}} samples are drawn.  Default is None, in which case a
single value is returned.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{replace}} (\sphinxstyleliteralemphasis{\sphinxupquote{boolean}}\sphinxstyleliteralemphasis{\sphinxupquote{, }}\sphinxstyleliteralemphasis{\sphinxupquote{optional}}) \textendash{} Whether the sample is with or without replacement

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{p}} (\sphinxstyleliteralemphasis{\sphinxupquote{1-D array-like}}\sphinxstyleliteralemphasis{\sphinxupquote{, }}\sphinxstyleliteralemphasis{\sphinxupquote{optional}}) \textendash{} The probabilities associated with each entry in a.
If not given the sample assumes a uniform distribution over all
entries in a.

\end{itemize}

\item[{Returns}] \leavevmode
\sphinxstylestrong{samples} \textendash{} The generated random samples

\item[{Return type}] \leavevmode
single item or ndarray

\item[{Raises}] \leavevmode
\sphinxcode{\sphinxupquote{ValueError}} \textendash{} If a is an int and less than zero, if a or p are not 1-dimensional,
if a is an array-like of size 0, if p is not a vector of
probabilities, if a and p have different lengths, or if
replace=False and the sample size is greater than the population
size

\end{description}\end{quote}


\sphinxstrong{See also:}


\sphinxcode{\sphinxupquote{randint()}}, \sphinxcode{\sphinxupquote{shuffle()}}, \sphinxcode{\sphinxupquote{permutation()}}
\begin{description}
\item[{\sphinxcode{\sphinxupquote{Generator.choice()}}}] \leavevmode
which should be used in new code

\end{description}


\subsubsection*{Notes}

Sampling random rows from a 2-D array is not possible with this function,
but is possible with \sphinxtitleref{Generator.choice} through its \sphinxcode{\sphinxupquote{axis}} keyword.
\subsubsection*{Examples}

Generate a uniform random sample from np.arange(5) of size 3:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{np}\PYG{o}{.}\PYG{n}{random}\PYG{o}{.}\PYG{n}{choice}\PYG{p}{(}\PYG{l+m+mi}{5}\PYG{p}{,} \PYG{l+m+mi}{3}\PYG{p}{)}
\PYG{g+go}{array([0, 3, 4]) \PYGZsh{} random}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{c+c1}{\PYGZsh{}This is equivalent to np.random.randint(0,5,3)}
\end{sphinxVerbatim}

Generate a non-uniform random sample from np.arange(5) of size 3:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{np}\PYG{o}{.}\PYG{n}{random}\PYG{o}{.}\PYG{n}{choice}\PYG{p}{(}\PYG{l+m+mi}{5}\PYG{p}{,} \PYG{l+m+mi}{3}\PYG{p}{,} \PYG{n}{p}\PYG{o}{=}\PYG{p}{[}\PYG{l+m+mf}{0.1}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mf}{0.3}\PYG{p}{,} \PYG{l+m+mf}{0.6}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{]}\PYG{p}{)}
\PYG{g+go}{array([3, 3, 0]) \PYGZsh{} random}
\end{sphinxVerbatim}

Generate a uniform random sample from np.arange(5) of size 3 without
replacement:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{np}\PYG{o}{.}\PYG{n}{random}\PYG{o}{.}\PYG{n}{choice}\PYG{p}{(}\PYG{l+m+mi}{5}\PYG{p}{,} \PYG{l+m+mi}{3}\PYG{p}{,} \PYG{n}{replace}\PYG{o}{=}\PYG{k+kc}{False}\PYG{p}{)}
\PYG{g+go}{array([3,1,0]) \PYGZsh{} random}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{c+c1}{\PYGZsh{}This is equivalent to np.random.permutation(np.arange(5))[:3]}
\end{sphinxVerbatim}

Generate a non-uniform random sample from np.arange(5) of size
3 without replacement:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{np}\PYG{o}{.}\PYG{n}{random}\PYG{o}{.}\PYG{n}{choice}\PYG{p}{(}\PYG{l+m+mi}{5}\PYG{p}{,} \PYG{l+m+mi}{3}\PYG{p}{,} \PYG{n}{replace}\PYG{o}{=}\PYG{k+kc}{False}\PYG{p}{,} \PYG{n}{p}\PYG{o}{=}\PYG{p}{[}\PYG{l+m+mf}{0.1}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mf}{0.3}\PYG{p}{,} \PYG{l+m+mf}{0.6}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{]}\PYG{p}{)}
\PYG{g+go}{array([2, 3, 0]) \PYGZsh{} random}
\end{sphinxVerbatim}

Any of the above can be repeated with an arbitrary array-like
instead of just integers. For instance:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{aa\PYGZus{}milne\PYGZus{}arr} \PYG{o}{=} \PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{pooh}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{rabbit}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{piglet}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Christopher}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{np}\PYG{o}{.}\PYG{n}{random}\PYG{o}{.}\PYG{n}{choice}\PYG{p}{(}\PYG{n}{aa\PYGZus{}milne\PYGZus{}arr}\PYG{p}{,} \PYG{l+m+mi}{5}\PYG{p}{,} \PYG{n}{p}\PYG{o}{=}\PYG{p}{[}\PYG{l+m+mf}{0.5}\PYG{p}{,} \PYG{l+m+mf}{0.1}\PYG{p}{,} \PYG{l+m+mf}{0.1}\PYG{p}{,} \PYG{l+m+mf}{0.3}\PYG{p}{]}\PYG{p}{)}
\PYG{g+go}{array([\PYGZsq{}pooh\PYGZsq{}, \PYGZsq{}pooh\PYGZsq{}, \PYGZsq{}pooh\PYGZsq{}, \PYGZsq{}Christopher\PYGZsq{}, \PYGZsq{}piglet\PYGZsq{}], \PYGZsh{} random}
\PYG{g+go}{      dtype=\PYGZsq{}\PYGZlt{}U11\PYGZsq{})}
\end{sphinxVerbatim}

\end{fulllineitems}

\index{constant() (in module tyche.Distributions)@\spxentry{constant()}\spxextra{in module tyche.Distributions}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Distributions.constant}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{tyche.Distributions.}}\sphinxbfcode{\sphinxupquote{constant}}}{\emph{value}}{}
The constant distribution.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\sphinxstyleliteralstrong{\sphinxupquote{value}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} The constant value.

\end{description}\end{quote}

\end{fulllineitems}

\index{mixture() (in module tyche.Distributions)@\spxentry{mixture()}\spxextra{in module tyche.Distributions}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Distributions.mixture}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{tyche.Distributions.}}\sphinxbfcode{\sphinxupquote{mixture}}}{\emph{weights}, \emph{distributions}}{}
A mixture of two distributions.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{weights}} (\sphinxstyleliteralemphasis{\sphinxupquote{array of float}}) \textendash{} The weights of the distributions to be mixed.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{distributions}} (\sphinxstyleliteralemphasis{\sphinxupquote{array of distributions}}) \textendash{} The distributions to be mixed.

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{parse\_distribution() (in module tyche.Distributions)@\spxentry{parse\_distribution()}\spxextra{in module tyche.Distributions}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Distributions.parse_distribution}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{tyche.Distributions.}}\sphinxbfcode{\sphinxupquote{parse\_distribution}}}{\emph{text}}{}
Make the Python object for the distribution, if any is specified.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\sphinxstyleliteralstrong{\sphinxupquote{text}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} The Python expression for the distribution, or plain text.

\end{description}\end{quote}

\end{fulllineitems}



\subsection{tyche.EpsilonConstraints module}
\label{\detokenize{doc-src/tyche:module-tyche.EpsilonConstraints}}\label{\detokenize{doc-src/tyche:tyche-epsilonconstraints-module}}\index{tyche.EpsilonConstraints (module)@\spxentry{tyche.EpsilonConstraints}\spxextra{module}}
Epsilon-constraint optimization.
\index{EpsilonConstraintOptimizer (class in tyche.EpsilonConstraints)@\spxentry{EpsilonConstraintOptimizer}\spxextra{class in tyche.EpsilonConstraints}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.EpsilonConstraints.EpsilonConstraintOptimizer}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{class }}\sphinxcode{\sphinxupquote{tyche.EpsilonConstraints.}}\sphinxbfcode{\sphinxupquote{EpsilonConstraintOptimizer}}}{\emph{evaluator}, \emph{scale=1000000.0}}{}
Bases: \sphinxcode{\sphinxupquote{object}}

An epsilon-constration multi-objective optimizer.
\index{evaluator (tyche.EpsilonConstraints.EpsilonConstraintOptimizer attribute)@\spxentry{evaluator}\spxextra{tyche.EpsilonConstraints.EpsilonConstraintOptimizer attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.EpsilonConstraints.EpsilonConstraintOptimizer.evaluator}}\pysigline{\sphinxbfcode{\sphinxupquote{evaluator}}}
The technology evaluator.
\begin{quote}\begin{description}
\item[{Type}] \leavevmode
tyche.Evaluator

\end{description}\end{quote}

\end{fulllineitems}

\index{scale (tyche.EpsilonConstraints.EpsilonConstraintOptimizer attribute)@\spxentry{scale}\spxextra{tyche.EpsilonConstraints.EpsilonConstraintOptimizer attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.EpsilonConstraints.EpsilonConstraintOptimizer.scale}}\pysigline{\sphinxbfcode{\sphinxupquote{scale}}}
The scaling factor for output.
\begin{quote}\begin{description}
\item[{Type}] \leavevmode
float

\end{description}\end{quote}

\end{fulllineitems}

\index{opt\_diffev() (tyche.EpsilonConstraints.EpsilonConstraintOptimizer method)@\spxentry{opt\_diffev()}\spxextra{tyche.EpsilonConstraints.EpsilonConstraintOptimizer method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.EpsilonConstraints.EpsilonConstraintOptimizer.opt_diffev}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{opt\_diffev}}}{\emph{metric}, \emph{sense=None}, \emph{max\_amount=None}, \emph{total\_amount=None}, \emph{eps\_metric=None}, \emph{statistic=\textless{}function mean\textgreater{}}, \emph{strategy='best1bin'}, \emph{seed=2}, \emph{tol=0.01}, \emph{maxiter=75}, \emph{init='latinhypercube'}, \emph{verbose=0}}{}
Maximize the objective function using the differential\_evoluaion algorithm.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{metric}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} Name of metric to maximize. The objective function.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{sense}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} \begin{description}
\item[{Optimization sense (‘min’ or ‘max’). If no value is provided to}] \leavevmode
this method, the sense value used to create the
EpsilonConstraintOptimizer object is used instead.

\end{description}


\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{max\_amount}} (\sphinxstyleliteralemphasis{\sphinxupquote{DataFrame}}) \textendash{} Maximum investment amounts by R\&D category (defined in investments data)
and maximum metric values

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{total\_amount}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} Upper limit on total investments summed across all R\&D categories.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{eps\_metric}} (\sphinxstyleliteralemphasis{\sphinxupquote{Dict}}) \textendash{} RHS of the epsilon constraint(s) on one or more metrics. Keys are metric
names, and the values are dictionaries of the form \{‘limit’: float, ‘sense’: str\}.
The sense defines whether the epsilon constraint is a lower or an upper bound,
and the value must be either ‘upper’ or ‘lower’.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{statistic}} (\sphinxstyleliteralemphasis{\sphinxupquote{function}}) \textendash{} Summary statistic used on the sample evaluations; the metric measure that
is fed to the optimizer.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{strategy}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} Which differential evolution strategy to use. ‘best1bin’ is the default.
See algorithm docs for full list.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{seed}} (\sphinxstyleliteralemphasis{\sphinxupquote{int}}) \textendash{} Sets the random seed for optimization by creating a new \sphinxtitleref{RandomState}
instance. Defaults to 1. Not setting this parameter means the solutions
will not be reproducible.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{init}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}\sphinxstyleliteralemphasis{\sphinxupquote{ or }}\sphinxstyleliteralemphasis{\sphinxupquote{array-like}}) \textendash{} Type of population initialization. Default is Latin hypercube;
alternatives are ‘random’ or specifying every member of the initial
population in an array of shape (popsize, len(variables)).

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{tol}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} Relative tolerance for convergence

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{maxiter}} (\sphinxstyleliteralemphasis{\sphinxupquote{int}}) \textendash{} Upper limit on generations of evolution (analogous to algorithm
iterations)

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{verbose}} (\sphinxstyleliteralemphasis{\sphinxupquote{int}}) \textendash{} Verbosity level returned by this outer function and the
differential\_evolution algorithm.
verbose = 0     No messages
verbose = 1     Objective function value at every algorithm iteration
verbose = 2     Investment constraint status, metric constraint status,
and objective function value
verbose = 3     Decision variable values, investment constraint status,
metric constraint status, and objective function value
verbose \textgreater{} 3     All metric values, decision variable values, investment
constraint status, metric constraint status, and
objective function value

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{opt\_milp() (tyche.EpsilonConstraints.EpsilonConstraintOptimizer method)@\spxentry{opt\_milp()}\spxextra{tyche.EpsilonConstraints.EpsilonConstraintOptimizer method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.EpsilonConstraints.EpsilonConstraintOptimizer.opt_milp}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{opt\_milp}}}{\emph{metric}, \emph{sense=None}, \emph{max\_amount=None}, \emph{total\_amount=None}, \emph{eps\_metric=None}, \emph{statistic=\textless{}function mean\textgreater{}}, \emph{sizelimit=1000000.0}, \emph{verbose=0}}{}
Maximize the objective function using a piecewise linear
representation to create a mixed integer linear program.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{metric}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} Name of metric to maximize

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{sense}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} Optimization sense (‘min’ or ‘max’). If no value is provided to this
method, the sense value used to create the EpsilonConstraintOptimizer
object is used instead.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{max\_amount}} (\sphinxstyleliteralemphasis{\sphinxupquote{DataFrame}}) \textendash{} Maximum investment amounts by R\&D category (defined in investments data)
and maximum metric values

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{total\_amount}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} Upper limit on total investments summed across all R\&D categories.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{eps\_metric}} (\sphinxstyleliteralemphasis{\sphinxupquote{Dict}}) \textendash{} RHS of the epsilon constraint(s) on one or more metrics. Keys are metric
names, and the values are dictionaries of the form
\{‘limit’: float, ‘sense’: str\}. The sense defines whether the epsilon
constraint is a lower or an upper bound, and the value must be either
‘upper’ or ‘lower’.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{statistic}} (\sphinxstyleliteralemphasis{\sphinxupquote{function}}) \textendash{} Summary statistic (metric measure) fed to evaluator\_corners\_wide method
in Evaluator

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{total\_amount}} \textendash{} Upper limit on total investments summed across all R\&D categories

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{sizelimit}} (\sphinxstyleliteralemphasis{\sphinxupquote{int}}) \textendash{} Maximum allowed number of binary variables. If the problem size exceeds
this limit, pwlinear\_milp will exit before building or solving the model.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{verbose}} (\sphinxstyleliteralemphasis{\sphinxupquote{int}}) \textendash{} A value greater than zero will save the optimization model as a .lp file
A value greater than 1 will print out status messages

\end{itemize}

\item[{Returns}] \leavevmode
\sphinxstylestrong{Optimum} \textendash{} exit\_code
exit\_message
amounts (None, if no solution found)
metrics (None, if no solution found)
solve\_time
opt\_sense

\item[{Return type}] \leavevmode
NamedTuple

\end{description}\end{quote}

\end{fulllineitems}

\index{opt\_shgo() (tyche.EpsilonConstraints.EpsilonConstraintOptimizer method)@\spxentry{opt\_shgo()}\spxextra{tyche.EpsilonConstraints.EpsilonConstraintOptimizer method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.EpsilonConstraints.EpsilonConstraintOptimizer.opt_shgo}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{opt\_shgo}}}{\emph{metric}, \emph{sense=None}, \emph{max\_amount=None}, \emph{total\_amount=None}, \emph{eps\_metric=None}, \emph{statistic=\textless{}function mean\textgreater{}}, \emph{tol=0.01}, \emph{maxiter=50}, \emph{sampling\_method='simplicial'}, \emph{verbose=0}}{}
Maximize the objective function using the shgo global optimization
algorithm.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{metric}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} Name of metric to maximize.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{sense}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} Optimization sense (‘min’ or ‘max’). If no value is provided to
this method, the sense value used to create the
EpsilonConstraintOptimizer object is used instead.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{max\_amount}} (\sphinxstyleliteralemphasis{\sphinxupquote{DataFrame}}) \textendash{} Maximum investment amounts by R\&D category (defined in investments data)
and maximum metric values

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{total\_amount}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} Upper metric\_limit on total investments summed across all R\&D categories.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{eps\_metric}} (\sphinxstyleliteralemphasis{\sphinxupquote{Dict}}) \textendash{} RHS of the epsilon constraint(s) on one or more metrics. Keys are metric
names, and the values are dictionaries of the form
\{‘limit’: float, ‘sense’: str\}. The sense defines whether the epsilon
constraint is a lower or an upper bound, and the value must be either
‘upper’ or ‘lower’.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{statistic}} (\sphinxstyleliteralemphasis{\sphinxupquote{function}}) \textendash{} Summary metric\_statistic used on the sample evaluations; the metric
measure that is fed to the optimizer.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{tol}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} Objective function tolerance in stopping criterion.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{maxiter}} (\sphinxstyleliteralemphasis{\sphinxupquote{int}}) \textendash{} Upper metric\_limit on iterations that can be performed

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{sampling\_method}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} Allowable values are ‘sobol and ‘simplicial’. Simplicial is default, uses
less memory, and guarantees convergence (theoretically). Sobol is faster,
uses more memory and does not guarantee convergence. Per documentation,
Sobol is better for “easier” problems.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{verbose}} (\sphinxstyleliteralemphasis{\sphinxupquote{int}}) \textendash{} Verbosity level returned by this outer function and the SHGO algorithm.
verbose = 0     No messages
verbose = 1     Convergence messages from SHGO algorithm
verbose = 2     Investment constraint status, metric constraint status,
and convergence messages
verbose = 3     Decision variable values, investment constraint status,
metric constraint status, and convergence messages
verbose \textgreater{} 3     All metric values, decision variable values, investment
constraint status, metric constraint status, and
convergence messages

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{opt\_slsqp() (tyche.EpsilonConstraints.EpsilonConstraintOptimizer method)@\spxentry{opt\_slsqp()}\spxextra{tyche.EpsilonConstraints.EpsilonConstraintOptimizer method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.EpsilonConstraints.EpsilonConstraintOptimizer.opt_slsqp}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{opt\_slsqp}}}{\emph{metric}, \emph{sense=None}, \emph{max\_amount=None}, \emph{total\_amount=None}, \emph{eps\_metric=None}, \emph{statistic=\textless{}function mean\textgreater{}}, \emph{initial=None}, \emph{tol=1e-08}, \emph{maxiter=50}, \emph{verbose=0}}{}
Optimize the objective function using the fmin\_slsqp algorithm.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{metric}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} Name of metric to maximize.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{sense}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} Optimization sense (‘min’ or ‘max’). If no value is provided to
this method, the sense value used to create the
EpsilonConstraintOptimizer object is used instead.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{max\_amount}} (\sphinxstyleliteralemphasis{\sphinxupquote{DataFrame}}) \textendash{} Maximum investment amounts by R\&D category (defined in investments data)
and maximum metric values

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{total\_amount}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} Upper limit on total investments summed across all R\&D categories.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{eps\_metric}} (\sphinxstyleliteralemphasis{\sphinxupquote{Dict}}) \textendash{} RHS of the epsilon constraint(s) on one or more metrics. Keys are metric
names, and the values are dictionaries of the form
\{‘limit’: float, ‘sense’: str\}. The sense defines whether the epsilon
constraint is a lower or an upper bound, and the value must be either
‘upper’ or ‘lower’.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{statistic}} (\sphinxstyleliteralemphasis{\sphinxupquote{function}}) \textendash{} Summary statistic used on the sample evaluations; the metric measure that
is fed to the optimizer.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{initial}} (\sphinxstyleliteralemphasis{\sphinxupquote{array of float}}) \textendash{} Initial value of decision variable(s) fed to the optimizer.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{tol}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} Search tolerance fed to the optimizer.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{maxiter}} (\sphinxstyleliteralemphasis{\sphinxupquote{int}}) \textendash{} Maximum number of iterations the optimizer is permitted to execute.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{verbose}} (\sphinxstyleliteralemphasis{\sphinxupquote{int}}) \textendash{} Verbosity level returned by the optimizer and this outer function.
Defaults to 0.
verbose = 0     No messages
verbose = 1     Summary message when fmin\_slsqp completes
verbose = 2     Status of each algorithm iteration and summary message
verbose = 3     Investment constraint status, metric constraint status,
status of each algorithm iteration, and summary message
verbose \textgreater{} 3     All metric values, decision variable values, investment
constraint status, metric constraint status, status of
each algorithm iteration, and summary message

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{optimum\_metrics() (tyche.EpsilonConstraints.EpsilonConstraintOptimizer method)@\spxentry{optimum\_metrics()}\spxextra{tyche.EpsilonConstraints.EpsilonConstraintOptimizer method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.EpsilonConstraints.EpsilonConstraintOptimizer.optimum_metrics}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{optimum\_metrics}}}{\emph{max\_amount=None}, \emph{total\_amount=None}, \emph{sense=None}, \emph{statistic=\textless{}function mean\textgreater{}}, \emph{tol=1e-08}, \emph{maxiter=50}, \emph{verbose=0}}{}
Maximum value of metrics.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{max\_amount}} (\sphinxstyleliteralemphasis{\sphinxupquote{DataFrame}}) \textendash{} The maximum amounts that can be invested in each category.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{total\_amount}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} The maximum amount that can be invested \sphinxstyleemphasis{in toto}.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{sense}} (\sphinxstyleliteralemphasis{\sphinxupquote{Dict}}\sphinxstyleliteralemphasis{\sphinxupquote{ or }}\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} Optimization sense for each metric. Must be ‘min’ or ‘max’. If None, then
the sense provided to the EpsilonConstraintOptimizer class is used for
all metrics. If string, the sense is used for all metrics.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{statistic}} (\sphinxstyleliteralemphasis{\sphinxupquote{function}}) \textendash{} The statistic used on the sample evaluations.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{tol}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} The search tolerance.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{maxiter}} (\sphinxstyleliteralemphasis{\sphinxupquote{int}}) \textendash{} The maximum iterations for the search.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{verbose}} (\sphinxstyleliteralemphasis{\sphinxupquote{int}}) \textendash{} Verbosity level.

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}


\end{fulllineitems}

\index{Optimum (class in tyche.EpsilonConstraints)@\spxentry{Optimum}\spxextra{class in tyche.EpsilonConstraints}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.EpsilonConstraints.Optimum}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{class }}\sphinxcode{\sphinxupquote{tyche.EpsilonConstraints.}}\sphinxbfcode{\sphinxupquote{Optimum}}}{\emph{exit\_code}, \emph{exit\_message}, \emph{amounts}, \emph{metrics}, \emph{solve\_time}, \emph{opt\_sense}}{}
Bases: \sphinxcode{\sphinxupquote{tuple}}

Named tuple type for optimization results.
\index{amounts (tyche.EpsilonConstraints.Optimum attribute)@\spxentry{amounts}\spxextra{tyche.EpsilonConstraints.Optimum attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.EpsilonConstraints.Optimum.amounts}}\pysigline{\sphinxbfcode{\sphinxupquote{amounts}}}
Alias for field number 2

\end{fulllineitems}

\index{exit\_code (tyche.EpsilonConstraints.Optimum attribute)@\spxentry{exit\_code}\spxextra{tyche.EpsilonConstraints.Optimum attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.EpsilonConstraints.Optimum.exit_code}}\pysigline{\sphinxbfcode{\sphinxupquote{exit\_code}}}
Alias for field number 0

\end{fulllineitems}

\index{exit\_message (tyche.EpsilonConstraints.Optimum attribute)@\spxentry{exit\_message}\spxextra{tyche.EpsilonConstraints.Optimum attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.EpsilonConstraints.Optimum.exit_message}}\pysigline{\sphinxbfcode{\sphinxupquote{exit\_message}}}
Alias for field number 1

\end{fulllineitems}

\index{metrics (tyche.EpsilonConstraints.Optimum attribute)@\spxentry{metrics}\spxextra{tyche.EpsilonConstraints.Optimum attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.EpsilonConstraints.Optimum.metrics}}\pysigline{\sphinxbfcode{\sphinxupquote{metrics}}}
Alias for field number 3

\end{fulllineitems}

\index{opt\_sense (tyche.EpsilonConstraints.Optimum attribute)@\spxentry{opt\_sense}\spxextra{tyche.EpsilonConstraints.Optimum attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.EpsilonConstraints.Optimum.opt_sense}}\pysigline{\sphinxbfcode{\sphinxupquote{opt\_sense}}}
Alias for field number 5

\end{fulllineitems}

\index{solve\_time (tyche.EpsilonConstraints.Optimum attribute)@\spxentry{solve\_time}\spxextra{tyche.EpsilonConstraints.Optimum attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.EpsilonConstraints.Optimum.solve_time}}\pysigline{\sphinxbfcode{\sphinxupquote{solve\_time}}}
Alias for field number 4

\end{fulllineitems}


\end{fulllineitems}



\subsection{tyche.Evaluator module}
\label{\detokenize{doc-src/tyche:module-tyche.Evaluator}}\label{\detokenize{doc-src/tyche:tyche-evaluator-module}}\index{tyche.Evaluator (module)@\spxentry{tyche.Evaluator}\spxextra{module}}
Fast evaluation of technology investments.
\index{Evaluator (class in tyche.Evaluator)@\spxentry{Evaluator}\spxextra{class in tyche.Evaluator}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Evaluator.Evaluator}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{class }}\sphinxcode{\sphinxupquote{tyche.Evaluator.}}\sphinxbfcode{\sphinxupquote{Evaluator}}}{\emph{tranches}, \emph{summary}}{}
Bases: \sphinxcode{\sphinxupquote{object}}

Evalutate technology investments using a response surface.
\index{amounts (tyche.Evaluator.Evaluator attribute)@\spxentry{amounts}\spxextra{tyche.Evaluator.Evaluator attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Evaluator.Evaluator.amounts}}\pysigline{\sphinxbfcode{\sphinxupquote{amounts}}}
Cost of tranches.
\begin{quote}\begin{description}
\item[{Type}] \leavevmode
DataFrame

\end{description}\end{quote}

\end{fulllineitems}

\index{categories (tyche.Evaluator.Evaluator attribute)@\spxentry{categories}\spxextra{tyche.Evaluator.Evaluator attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Evaluator.Evaluator.categories}}\pysigline{\sphinxbfcode{\sphinxupquote{categories}}}
Categories of investment.
\begin{quote}\begin{description}
\item[{Type}] \leavevmode
DataFrame

\end{description}\end{quote}

\end{fulllineitems}

\index{metrics (tyche.Evaluator.Evaluator attribute)@\spxentry{metrics}\spxextra{tyche.Evaluator.Evaluator attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Evaluator.Evaluator.metrics}}\pysigline{\sphinxbfcode{\sphinxupquote{metrics}}}
Metrics for technologies.
\begin{quote}\begin{description}
\item[{Type}] \leavevmode
DataFrame

\end{description}\end{quote}

\end{fulllineitems}

\index{units (tyche.Evaluator.Evaluator attribute)@\spxentry{units}\spxextra{tyche.Evaluator.Evaluator attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Evaluator.Evaluator.units}}\pysigline{\sphinxbfcode{\sphinxupquote{units}}}
Units of measure for metrics.
\begin{quote}\begin{description}
\item[{Type}] \leavevmode
DataFrame

\end{description}\end{quote}

\end{fulllineitems}

\index{interpolators (tyche.Evaluator.Evaluator attribute)@\spxentry{interpolators}\spxextra{tyche.Evaluator.Evaluator attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Evaluator.Evaluator.interpolators}}\pysigline{\sphinxbfcode{\sphinxupquote{interpolators}}}
Interpolation functions for technology metrics.
\begin{quote}\begin{description}
\item[{Type}] \leavevmode
DataFrame

\end{description}\end{quote}

\end{fulllineitems}

\index{evaluate() (tyche.Evaluator.Evaluator method)@\spxentry{evaluate()}\spxextra{tyche.Evaluator.Evaluator method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Evaluator.Evaluator.evaluate}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{evaluate}}}{\emph{amounts}}{}
Sample the distribution for an investment.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\sphinxstyleliteralstrong{\sphinxupquote{amounts}} (\sphinxstyleliteralemphasis{\sphinxupquote{DataFrame}}) \textendash{} The investment levels.

\end{description}\end{quote}

\end{fulllineitems}

\index{evaluate\_corners\_semilong() (tyche.Evaluator.Evaluator method)@\spxentry{evaluate\_corners\_semilong()}\spxextra{tyche.Evaluator.Evaluator method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Evaluator.Evaluator.evaluate_corners_semilong}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{evaluate\_corners\_semilong}}}{\emph{statistic=\textless{}function mean\textgreater{}}}{}
Return a dataframe indexed my investment amounts in each category,
with columns for each metric.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\sphinxstyleliteralstrong{\sphinxupquote{statistic}} (\sphinxstyleliteralemphasis{\sphinxupquote{function}}) \textendash{} The statistic to evaluate.

\end{description}\end{quote}

\end{fulllineitems}

\index{evaluate\_corners\_wide() (tyche.Evaluator.Evaluator method)@\spxentry{evaluate\_corners\_wide()}\spxextra{tyche.Evaluator.Evaluator method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Evaluator.Evaluator.evaluate_corners_wide}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{evaluate\_corners\_wide}}}{\emph{statistic=\textless{}function mean\textgreater{}}}{}
Return a dataframe indexed my investment amounts in each category,
with columns for each metric.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\sphinxstyleliteralstrong{\sphinxupquote{statistic}} (\sphinxstyleliteralemphasis{\sphinxupquote{function}}) \textendash{} The statistic to evaluate.

\end{description}\end{quote}

\end{fulllineitems}

\index{evaluate\_statistic() (tyche.Evaluator.Evaluator method)@\spxentry{evaluate\_statistic()}\spxextra{tyche.Evaluator.Evaluator method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Evaluator.Evaluator.evaluate_statistic}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{evaluate\_statistic}}}{\emph{amounts}, \emph{statistic=\textless{}function mean\textgreater{}}}{}
Evaluate a statistic for an investment.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{amounts}} (\sphinxstyleliteralemphasis{\sphinxupquote{DataFrame}}) \textendash{} The investment levels.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{statistic}} (\sphinxstyleliteralemphasis{\sphinxupquote{function}}) \textendash{} The statistic to evaluate.

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{make\_statistic\_evaluator() (tyche.Evaluator.Evaluator method)@\spxentry{make\_statistic\_evaluator()}\spxextra{tyche.Evaluator.Evaluator method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Evaluator.Evaluator.make_statistic_evaluator}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{make\_statistic\_evaluator}}}{\emph{statistic=\textless{}function mean\textgreater{}}}{}
Return a function that valuates a statistic for an investment.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\sphinxstyleliteralstrong{\sphinxupquote{statistic}} (\sphinxstyleliteralemphasis{\sphinxupquote{function}}) \textendash{} The statistic to evaluate.

\end{description}\end{quote}

\end{fulllineitems}


\end{fulllineitems}



\subsection{tyche.IO module}
\label{\detokenize{doc-src/tyche:module-tyche.IO}}\label{\detokenize{doc-src/tyche:tyche-io-module}}\index{tyche.IO (module)@\spxentry{tyche.IO}\spxextra{module}}
I/O utilities for Tyche.
\index{make\_table() (in module tyche.IO)@\spxentry{make\_table()}\spxextra{in module tyche.IO}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.IO.make_table}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{tyche.IO.}}\sphinxbfcode{\sphinxupquote{make\_table}}}{\emph{dtypes}, \emph{index}}{}
Make a data frame from column types and an index.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{dtypes}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} The column types.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{index}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} The index.

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{read\_table() (in module tyche.IO)@\spxentry{read\_table()}\spxextra{in module tyche.IO}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.IO.read_table}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{tyche.IO.}}\sphinxbfcode{\sphinxupquote{read\_table}}}{\emph{path}, \emph{name}, \emph{dtypes}, \emph{index}}{}
Read a data table from a file.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{path}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} The path to the folder.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{name}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} The filename for the table.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{dtypes}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} The column types.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{index}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} The index.

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}



\subsection{tyche.Investments module}
\label{\detokenize{doc-src/tyche:module-tyche.Investments}}\label{\detokenize{doc-src/tyche:tyche-investments-module}}\index{tyche.Investments (module)@\spxentry{tyche.Investments}\spxextra{module}}
Investments in technologies.
\index{Investments (class in tyche.Investments)@\spxentry{Investments}\spxextra{class in tyche.Investments}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Investments.Investments}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{class }}\sphinxcode{\sphinxupquote{tyche.Investments.}}\sphinxbfcode{\sphinxupquote{Investments}}}{\emph{path=None}, \emph{tranches='tranches.tsv'}, \emph{investments='investments.tsv'}}{}
Bases: \sphinxcode{\sphinxupquote{object}}

Investments in a technology.
\index{tranches (tyche.Investments.Investments attribute)@\spxentry{tranches}\spxextra{tyche.Investments.Investments attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Investments.Investments.tranches}}\pysigline{\sphinxbfcode{\sphinxupquote{tranches}}}
The \sphinxstyleemphasis{tranches} table.
\begin{quote}\begin{description}
\item[{Type}] \leavevmode
DataFrame

\end{description}\end{quote}

\end{fulllineitems}

\index{investments (tyche.Investments.Investments attribute)@\spxentry{investments}\spxextra{tyche.Investments.Investments attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Investments.Investments.investments}}\pysigline{\sphinxbfcode{\sphinxupquote{investments}}}
The \sphinxstyleemphasis{investments} table.
\begin{quote}\begin{description}
\item[{Type}] \leavevmode
DataFrame

\end{description}\end{quote}

\end{fulllineitems}

\index{evaluate\_investments() (tyche.Investments.Investments method)@\spxentry{evaluate\_investments()}\spxextra{tyche.Investments.Investments method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Investments.Investments.evaluate_investments}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{evaluate\_investments}}}{\emph{designs}, \emph{sample\_count=1}}{}
Evaluate the investments for a design.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{designs}} (\sphinxstyleliteralemphasis{\sphinxupquote{tyche.Designs}}) \textendash{} The designs.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{sample\_count}} (\sphinxstyleliteralemphasis{\sphinxupquote{int}}) \textendash{} The number of random samples.

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{evaluate\_tranches() (tyche.Investments.Investments method)@\spxentry{evaluate\_tranches()}\spxextra{tyche.Investments.Investments method}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Investments.Investments.evaluate_tranches}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{evaluate\_tranches}}}{\emph{designs}, \emph{sample\_count=1}}{}
Evaluate the tranches of investment for a design.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{designs}} (\sphinxstyleliteralemphasis{\sphinxupquote{tyche.Designs}}) \textendash{} The designs.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{sample\_count}} (\sphinxstyleliteralemphasis{\sphinxupquote{int}}) \textendash{} The number of random samples.

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}


\end{fulllineitems}



\subsection{tyche.Types module}
\label{\detokenize{doc-src/tyche:module-tyche.Types}}\label{\detokenize{doc-src/tyche:tyche-types-module}}\index{tyche.Types (module)@\spxentry{tyche.Types}\spxextra{module}}
Data types for Tyche.
\index{Evaluations (class in tyche.Types)@\spxentry{Evaluations}\spxextra{class in tyche.Types}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Types.Evaluations}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{class }}\sphinxcode{\sphinxupquote{tyche.Types.}}\sphinxbfcode{\sphinxupquote{Evaluations}}}{\emph{amounts}, \emph{metrics}, \emph{summary}}{}
Bases: \sphinxcode{\sphinxupquote{tuple}}

Named tuple type for rows in the \sphinxstyleemphasis{evaluations} table.
\index{amounts (tyche.Types.Evaluations attribute)@\spxentry{amounts}\spxextra{tyche.Types.Evaluations attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Types.Evaluations.amounts}}\pysigline{\sphinxbfcode{\sphinxupquote{amounts}}}
Alias for field number 0

\end{fulllineitems}

\index{metrics (tyche.Types.Evaluations attribute)@\spxentry{metrics}\spxextra{tyche.Types.Evaluations attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Types.Evaluations.metrics}}\pysigline{\sphinxbfcode{\sphinxupquote{metrics}}}
Alias for field number 1

\end{fulllineitems}

\index{summary (tyche.Types.Evaluations attribute)@\spxentry{summary}\spxextra{tyche.Types.Evaluations attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Types.Evaluations.summary}}\pysigline{\sphinxbfcode{\sphinxupquote{summary}}}
Alias for field number 2

\end{fulllineitems}


\end{fulllineitems}

\index{FakeDistribution (class in tyche.Types)@\spxentry{FakeDistribution}\spxextra{class in tyche.Types}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Types.FakeDistribution}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{class }}\sphinxcode{\sphinxupquote{tyche.Types.}}\sphinxbfcode{\sphinxupquote{FakeDistribution}}}{\emph{rvs}}{}
Bases: \sphinxcode{\sphinxupquote{tuple}}

Named tuple type for a fake distribution.
\index{rvs (tyche.Types.FakeDistribution attribute)@\spxentry{rvs}\spxextra{tyche.Types.FakeDistribution attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Types.FakeDistribution.rvs}}\pysigline{\sphinxbfcode{\sphinxupquote{rvs}}}
Alias for field number 0

\end{fulllineitems}


\end{fulllineitems}

\index{Functions (class in tyche.Types)@\spxentry{Functions}\spxextra{class in tyche.Types}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Types.Functions}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{class }}\sphinxcode{\sphinxupquote{tyche.Types.}}\sphinxbfcode{\sphinxupquote{Functions}}}{\emph{style}, \emph{capital}, \emph{fixed}, \emph{production}, \emph{metric}}{}
Bases: \sphinxcode{\sphinxupquote{tuple}}

Name tuple type for rows in the \sphinxstyleemphasis{functions} table.
\index{capital (tyche.Types.Functions attribute)@\spxentry{capital}\spxextra{tyche.Types.Functions attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Types.Functions.capital}}\pysigline{\sphinxbfcode{\sphinxupquote{capital}}}
Alias for field number 1

\end{fulllineitems}

\index{fixed (tyche.Types.Functions attribute)@\spxentry{fixed}\spxextra{tyche.Types.Functions attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Types.Functions.fixed}}\pysigline{\sphinxbfcode{\sphinxupquote{fixed}}}
Alias for field number 2

\end{fulllineitems}

\index{metric (tyche.Types.Functions attribute)@\spxentry{metric}\spxextra{tyche.Types.Functions attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Types.Functions.metric}}\pysigline{\sphinxbfcode{\sphinxupquote{metric}}}
Alias for field number 4

\end{fulllineitems}

\index{production (tyche.Types.Functions attribute)@\spxentry{production}\spxextra{tyche.Types.Functions attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Types.Functions.production}}\pysigline{\sphinxbfcode{\sphinxupquote{production}}}
Alias for field number 3

\end{fulllineitems}

\index{style (tyche.Types.Functions attribute)@\spxentry{style}\spxextra{tyche.Types.Functions attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Types.Functions.style}}\pysigline{\sphinxbfcode{\sphinxupquote{style}}}
Alias for field number 0

\end{fulllineitems}


\end{fulllineitems}

\index{Indices (class in tyche.Types)@\spxentry{Indices}\spxextra{class in tyche.Types}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Types.Indices}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{class }}\sphinxcode{\sphinxupquote{tyche.Types.}}\sphinxbfcode{\sphinxupquote{Indices}}}{\emph{capital}, \emph{fixed}, \emph{input}, \emph{output}, \emph{metric}}{}
Bases: \sphinxcode{\sphinxupquote{tuple}}

Name tuple type for rows in the \sphinxstyleemphasis{indices} table.
\index{capital (tyche.Types.Indices attribute)@\spxentry{capital}\spxextra{tyche.Types.Indices attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Types.Indices.capital}}\pysigline{\sphinxbfcode{\sphinxupquote{capital}}}
Alias for field number 0

\end{fulllineitems}

\index{fixed (tyche.Types.Indices attribute)@\spxentry{fixed}\spxextra{tyche.Types.Indices attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Types.Indices.fixed}}\pysigline{\sphinxbfcode{\sphinxupquote{fixed}}}
Alias for field number 1

\end{fulllineitems}

\index{input (tyche.Types.Indices attribute)@\spxentry{input}\spxextra{tyche.Types.Indices attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Types.Indices.input}}\pysigline{\sphinxbfcode{\sphinxupquote{input}}}
Alias for field number 2

\end{fulllineitems}

\index{metric (tyche.Types.Indices attribute)@\spxentry{metric}\spxextra{tyche.Types.Indices attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Types.Indices.metric}}\pysigline{\sphinxbfcode{\sphinxupquote{metric}}}
Alias for field number 4

\end{fulllineitems}

\index{output (tyche.Types.Indices attribute)@\spxentry{output}\spxextra{tyche.Types.Indices attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Types.Indices.output}}\pysigline{\sphinxbfcode{\sphinxupquote{output}}}
Alias for field number 3

\end{fulllineitems}


\end{fulllineitems}

\index{Inputs (class in tyche.Types)@\spxentry{Inputs}\spxextra{class in tyche.Types}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Types.Inputs}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{class }}\sphinxcode{\sphinxupquote{tyche.Types.}}\sphinxbfcode{\sphinxupquote{Inputs}}}{\emph{lifetime}, \emph{scale}, \emph{input}, \emph{input\_efficiency}, \emph{input\_price}, \emph{output\_efficiency}, \emph{output\_price}}{}
Bases: \sphinxcode{\sphinxupquote{tuple}}

Named tuple type for rows in the \sphinxstyleemphasis{inputs} table.
\index{input (tyche.Types.Inputs attribute)@\spxentry{input}\spxextra{tyche.Types.Inputs attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Types.Inputs.input}}\pysigline{\sphinxbfcode{\sphinxupquote{input}}}
Alias for field number 2

\end{fulllineitems}

\index{input\_efficiency (tyche.Types.Inputs attribute)@\spxentry{input\_efficiency}\spxextra{tyche.Types.Inputs attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Types.Inputs.input_efficiency}}\pysigline{\sphinxbfcode{\sphinxupquote{input\_efficiency}}}
Alias for field number 3

\end{fulllineitems}

\index{input\_price (tyche.Types.Inputs attribute)@\spxentry{input\_price}\spxextra{tyche.Types.Inputs attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Types.Inputs.input_price}}\pysigline{\sphinxbfcode{\sphinxupquote{input\_price}}}
Alias for field number 4

\end{fulllineitems}

\index{lifetime (tyche.Types.Inputs attribute)@\spxentry{lifetime}\spxextra{tyche.Types.Inputs attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Types.Inputs.lifetime}}\pysigline{\sphinxbfcode{\sphinxupquote{lifetime}}}
Alias for field number 0

\end{fulllineitems}

\index{output\_efficiency (tyche.Types.Inputs attribute)@\spxentry{output\_efficiency}\spxextra{tyche.Types.Inputs attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Types.Inputs.output_efficiency}}\pysigline{\sphinxbfcode{\sphinxupquote{output\_efficiency}}}
Alias for field number 5

\end{fulllineitems}

\index{output\_price (tyche.Types.Inputs attribute)@\spxentry{output\_price}\spxextra{tyche.Types.Inputs attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Types.Inputs.output_price}}\pysigline{\sphinxbfcode{\sphinxupquote{output\_price}}}
Alias for field number 6

\end{fulllineitems}

\index{scale (tyche.Types.Inputs attribute)@\spxentry{scale}\spxextra{tyche.Types.Inputs attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Types.Inputs.scale}}\pysigline{\sphinxbfcode{\sphinxupquote{scale}}}
Alias for field number 1

\end{fulllineitems}


\end{fulllineitems}

\index{Results (class in tyche.Types)@\spxentry{Results}\spxextra{class in tyche.Types}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Types.Results}}\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{class }}\sphinxcode{\sphinxupquote{tyche.Types.}}\sphinxbfcode{\sphinxupquote{Results}}}{\emph{cost}, \emph{output}, \emph{metric}}{}
Bases: \sphinxcode{\sphinxupquote{tuple}}

Named tuple type for rows in the \sphinxstyleemphasis{results} table.
\index{cost (tyche.Types.Results attribute)@\spxentry{cost}\spxextra{tyche.Types.Results attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Types.Results.cost}}\pysigline{\sphinxbfcode{\sphinxupquote{cost}}}
Alias for field number 0

\end{fulllineitems}

\index{metric (tyche.Types.Results attribute)@\spxentry{metric}\spxextra{tyche.Types.Results attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Types.Results.metric}}\pysigline{\sphinxbfcode{\sphinxupquote{metric}}}
Alias for field number 2

\end{fulllineitems}

\index{output (tyche.Types.Results attribute)@\spxentry{output}\spxextra{tyche.Types.Results attribute}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/tyche:tyche.Types.Results.output}}\pysigline{\sphinxbfcode{\sphinxupquote{output}}}
Alias for field number 1

\end{fulllineitems}


\end{fulllineitems}



\subsection{Module contents}
\label{\detokenize{doc-src/tyche:module-tyche}}\label{\detokenize{doc-src/tyche:module-contents}}\index{tyche (module)@\spxentry{tyche}\spxextra{module}}
Tyche: a Python package for R\&D pathways analysis and evaluation.


\section{eutychia package}
\label{\detokenize{doc-src/eutychia:eutychia-package}}\label{\detokenize{doc-src/eutychia::doc}}

\subsection{Submodules}
\label{\detokenize{doc-src/eutychia:submodules}}

\subsection{eutychia.example module}
\label{\detokenize{doc-src/eutychia:module-eutychia.example}}\label{\detokenize{doc-src/eutychia:eutychia-example-module}}\index{eutychia.example (module)@\spxentry{eutychia.example}\spxextra{module}}
Example script for multiple objective optimization of residential PV.


\subsection{eutychia.main module}
\label{\detokenize{doc-src/eutychia:eutychia-main-module}}

\subsection{Module contents}
\label{\detokenize{doc-src/eutychia:module-eutychia}}\label{\detokenize{doc-src/eutychia:module-contents}}\index{eutychia (module)@\spxentry{eutychia}\spxextra{module}}
Eutychia: user interface for a Python package for R\&D pathways analysis and evaluation.


\section{technology package}
\label{\detokenize{doc-src/technology:technology-package}}\label{\detokenize{doc-src/technology::doc}}

\subsection{Submodules}
\label{\detokenize{doc-src/technology:submodules}}

\subsection{technology.biorefinery module}
\label{\detokenize{doc-src/technology:module-technology.biorefinery_v1}}\label{\detokenize{doc-src/technology:technology-biorefinery-module}}\index{technology.biorefinery\_v1 (module)@\spxentry{technology.biorefinery\_v1}\spxextra{module}}
Biorefinery model with four processing steps.
\index{capital\_cost() (in module technology.biorefinery\_v1)@\spxentry{capital\_cost()}\spxextra{in module technology.biorefinery\_v1}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/technology:technology.biorefinery_v1.capital_cost}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{technology.biorefinery\_v1.}}\sphinxbfcode{\sphinxupquote{capital\_cost}}}{\emph{scale}, \emph{parameter}}{}
Capital cost function.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{scale}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} The scale of operation.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{parameter}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} The technological parameterization.

\end{itemize}

\item[{Returns}] \leavevmode


\item[{Return type}] \leavevmode
Total capital cost for one biorefinery (USD/biorefinery)

\end{description}\end{quote}

\end{fulllineitems}

\index{fixed\_cost() (in module technology.biorefinery\_v1)@\spxentry{fixed\_cost()}\spxextra{in module technology.biorefinery\_v1}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/technology:technology.biorefinery_v1.fixed_cost}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{technology.biorefinery\_v1.}}\sphinxbfcode{\sphinxupquote{fixed\_cost}}}{\emph{scale}, \emph{parameter}}{}
Fixed cost function.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{scale}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}\sphinxstyleliteralemphasis{\sphinxupquote{ {[}}}\sphinxstyleliteralemphasis{\sphinxupquote{Unused}}\sphinxstyleliteralemphasis{\sphinxupquote{{]}}}) \textendash{} The scale of operation.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{parameter}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} The technological parameterization.

\end{itemize}

\item[{Returns}] \leavevmode


\item[{Return type}] \leavevmode
total fixed costs for one biorefinery (USD/year)

\end{description}\end{quote}

\end{fulllineitems}

\index{metrics() (in module technology.biorefinery\_v1)@\spxentry{metrics()}\spxextra{in module technology.biorefinery\_v1}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/technology:technology.biorefinery_v1.metrics}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{technology.biorefinery\_v1.}}\sphinxbfcode{\sphinxupquote{metrics}}}{\emph{scale}, \emph{capital}, \emph{lifetime}, \emph{fixed}, \emph{input\_raw}, \emph{input}, \emph{input\_price}, \emph{output\_raw}, \emph{output}, \emph{cost}, \emph{parameter}}{}
Metrics function.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{scale}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} The scale of operation. Unitless

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{capital}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Capital costs. Units: USD/biorefinery

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{lifetime}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} Technology lifetime. Units: year

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{fixed}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Fixed costs. Units: USD/year

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{input\_raw}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Raw input quantities (before losses). Units: metric ton feedstock/year

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{input}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Input quantities. Units: metric ton feedstock/year

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{input\_price}} (\sphinxstyleliteralemphasis{\sphinxupquote{array{}`}}) \textendash{} Array of input prices. Various units.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{output\_raw}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Raw output quantities (before losses). Units: gal biofuel/year

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{output}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Output quantities. Units: gal biofuel/year

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{cost}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Costs.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{parameter}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} The technological parameterization. Units vary; given in comments below

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{production() (in module technology.biorefinery\_v1)@\spxentry{production()}\spxextra{in module technology.biorefinery\_v1}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/technology:technology.biorefinery_v1.production}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{technology.biorefinery\_v1.}}\sphinxbfcode{\sphinxupquote{production}}}{\emph{scale}, \emph{capital}, \emph{lifetime}, \emph{fixed}, \emph{input}, \emph{parameter}}{}
Production function.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{scale}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} The scale of operation.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{capital}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Capital costs.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{lifetime}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} Technology lifetime.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{fixed}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Fixed costs.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{input}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Input quantities.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{parameter}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} The technological parameterization.

\end{itemize}

\item[{Returns}] \leavevmode
Ideal/theoretical production of each technology output: biofuel at
gals/year

\item[{Return type}] \leavevmode
output\_raw

\end{description}\end{quote}

\end{fulllineitems}



\subsection{technology.pv\_residential\_generic module}
\label{\detokenize{doc-src/technology:module-technology.pv_residential_generic}}\label{\detokenize{doc-src/technology:technology-pv-residential-generic-module}}\index{technology.pv\_residential\_generic (module)@\spxentry{technology.pv\_residential\_generic}\spxextra{module}}
Generic model for residential PV.

This PV model tracks components, technologies, critical materials, and hazardous waste.


\begin{savenotes}\sphinxattablestart
\centering
\sphinxcapstartof{table}
\sphinxthecaptionisattop
\sphinxcaption{Elements of \sphinxstyleliteralintitle{\sphinxupquote{capital}} arrays.}\label{\detokenize{doc-src/technology:table-1}}
\sphinxaftertopcaption
\begin{tabulary}{\linewidth}[t]{|T|T|T|}
\hline
\sphinxstyletheadfamily 
Index
&\sphinxstyletheadfamily 
Description
&\sphinxstyletheadfamily 
Units
\\
\hline
0
&
module capital cost
&
\$/system
\\
\hline
1
&
inverter capital cost
&
\$/system
\\
\hline
2
&
balance capital cost
&
\$/system
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}


\begin{savenotes}\sphinxattablestart
\centering
\sphinxcapstartof{table}
\sphinxthecaptionisattop
\sphinxcaption{Elements of \sphinxstyleliteralintitle{\sphinxupquote{fixed}} arrays.}\label{\detokenize{doc-src/technology:table-2}}
\sphinxaftertopcaption
\begin{tabulary}{\linewidth}[t]{|T|T|T|}
\hline
\sphinxstyletheadfamily 
Index
&\sphinxstyletheadfamily 
Description
&\sphinxstyletheadfamily 
Units
\\
\hline
0
&
fixed cost
&
\$/system
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}


\begin{savenotes}\sphinxattablestart
\centering
\sphinxcapstartof{table}
\sphinxthecaptionisattop
\sphinxcaption{Elements of \sphinxstyleliteralintitle{\sphinxupquote{input}} arrays.}\label{\detokenize{doc-src/technology:table-3}}
\sphinxaftertopcaption
\begin{tabulary}{\linewidth}[t]{|T|T|T|}
\hline
\sphinxstyletheadfamily 
Index
&\sphinxstyletheadfamily 
Description
&\sphinxstyletheadfamily 
Units
\\
\hline
0
&
strategic metals
&
g/system
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}


\begin{savenotes}\sphinxattablestart
\centering
\sphinxcapstartof{table}
\sphinxthecaptionisattop
\sphinxcaption{Elements of \sphinxstyleliteralintitle{\sphinxupquote{output}} arrays.}\label{\detokenize{doc-src/technology:table-4}}
\sphinxaftertopcaption
\begin{tabulary}{\linewidth}[t]{|T|T|T|}
\hline
\sphinxstyletheadfamily 
Index
&\sphinxstyletheadfamily 
Description
&\sphinxstyletheadfamily 
Units
\\
\hline
0
&
lifetime energy production
&
kWh/system
\\
\hline
1
&
lifecycle hazardous waste
&
g/system
\\
\hline
2
&
lifetime greenhouse gas production
&
gCO2e/system
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}


\begin{savenotes}\sphinxattablestart
\centering
\sphinxcapstartof{table}
\sphinxthecaptionisattop
\sphinxcaption{Elements of \sphinxstyleliteralintitle{\sphinxupquote{metric}} arrays.}\label{\detokenize{doc-src/technology:table-5}}
\sphinxaftertopcaption
\begin{tabulary}{\linewidth}[t]{|T|T|T|}
\hline
\sphinxstyletheadfamily 
Index
&\sphinxstyletheadfamily 
Description
&\sphinxstyletheadfamily 
Units
\\
\hline
0
&
system cost
&
\$/Wdc
\\
\hline
1
&
levelized energy cost
&
\$/kWh
\\
\hline
2
&
greenhouse gas
&
gCO2e/kWh
\\
\hline
3
&
strategic metal
&
g/kWh
\\
\hline
4
&
hazardous waste
&
g/kWh
\\
\hline
5
&
specific yield
&
hr/yr
\\
\hline
6
&
module efficiency
&
\%/100
\\
\hline
7
&
module lifetime
&
yr
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}


\begin{savenotes}\sphinxattablestart
\centering
\sphinxcapstartof{table}
\sphinxthecaptionisattop
\sphinxcaption{Elements of \sphinxstyleliteralintitle{\sphinxupquote{parameter}} arrays.}\label{\detokenize{doc-src/technology:table-6}}
\sphinxaftertopcaption
\begin{tabulary}{\linewidth}[t]{|T|T|T|}
\hline
\sphinxstyletheadfamily 
Index
&\sphinxstyletheadfamily 
Description
&\sphinxstyletheadfamily 
Units
\\
\hline
0
&
discount rate
&
1/yr
\\
\hline
1
&
insolation
&
W/m\textasciicircum{}2
\\
\hline
2
&
system size
&
m\textasciicircum{}2
\\
\hline
3
&
module capital cost
&
\$/m\textasciicircum{}2
\\
\hline
4
&
module lifetime
&
yr
\\
\hline
5
&
module efficiency
&
\%/100
\\
\hline
6
&
module aperture
&
\%/100
\\
\hline
7
&
module fixed cost
&
\$/kW/yr
\\
\hline
8
&
module degradation rate
&
1/yr
\\
\hline
9
&
location capacity factor
&
\%/100
\\
\hline
10
&
module soiling loss
&
\%/100
\\
\hline
11
&
inverter capital cost
&
\$/W
\\
\hline
12
&
inverter lifetime
&
yr
\\
\hline
13
&
inverter replacement cost
&
\%/100
\\
\hline
14
&
inverter efficiency
&
\%/100
\\
\hline
15
&
hardware capital cost
&
\$/m\textasciicircum{}2
\\
\hline
16
&
installation labor cost
&
\$/system
\\
\hline
17
&
permitting cost
&
\$/system
\\
\hline
18
&
customer acquisition cost
&
\$/system
\\
\hline
19
&
installer overhead cost
&
\%/100
\\
\hline
20
&
hazardous waste content
&
g/m\textasciicircum{}2
\\
\hline
21
&
greenhouse gas offset
&
gCO2e/kWh
\\
\hline
22
&
benchmark LCOC
&
\$/Wdc
\\
\hline
23
&
benchmark LCOE
&
\$/kWh
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}
\index{capital\_cost() (in module technology.pv\_residential\_generic)@\spxentry{capital\_cost()}\spxextra{in module technology.pv\_residential\_generic}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/technology:technology.pv_residential_generic.capital_cost}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{technology.pv\_residential\_generic.}}\sphinxbfcode{\sphinxupquote{capital\_cost}}}{\emph{scale}, \emph{parameter}}{}
Capital cost function.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{scale}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} The scale of operation.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{parameter}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} The technological parameterization.

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{discount() (in module technology.pv\_residential\_generic)@\spxentry{discount()}\spxextra{in module technology.pv\_residential\_generic}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/technology:technology.pv_residential_generic.discount}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{technology.pv\_residential\_generic.}}\sphinxbfcode{\sphinxupquote{discount}}}{\emph{rate}, \emph{time}}{}
Discount factor over a time period.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{rate}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} The discount rate per time period.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{time}} (\sphinxstyleliteralemphasis{\sphinxupquote{int}}) \textendash{} The number of time periods.

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{fixed\_cost() (in module technology.pv\_residential\_generic)@\spxentry{fixed\_cost()}\spxextra{in module technology.pv\_residential\_generic}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/technology:technology.pv_residential_generic.fixed_cost}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{technology.pv\_residential\_generic.}}\sphinxbfcode{\sphinxupquote{fixed\_cost}}}{\emph{scale}, \emph{parameter}}{}
Fixed cost function.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{scale}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} The scale of operation.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{parameter}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} The technological parameterization.

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{metrics() (in module technology.pv\_residential\_generic)@\spxentry{metrics()}\spxextra{in module technology.pv\_residential\_generic}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/technology:technology.pv_residential_generic.metrics}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{technology.pv\_residential\_generic.}}\sphinxbfcode{\sphinxupquote{metrics}}}{\emph{scale}, \emph{capital}, \emph{lifetime}, \emph{fixed}, \emph{input\_raw}, \emph{input}, \emph{input\_price}, \emph{output\_raw}, \emph{output}, \emph{cost}, \emph{parameter}}{}
Metrics function.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{scale}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} The scale of operation.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{capital}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Capital costs.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{lifetime}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} Technology lifetime.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{fixed}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Fixed costs.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{input\_raw}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Raw input quantities (before losses).

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{input}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Input quantities.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{output\_raw}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Raw output quantities (before losses).

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{output}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Output quantities.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{cost}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Costs.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{parameter}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} The technological parameterization.

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{module\_power() (in module technology.pv\_residential\_generic)@\spxentry{module\_power()}\spxextra{in module technology.pv\_residential\_generic}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/technology:technology.pv_residential_generic.module_power}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{technology.pv\_residential\_generic.}}\sphinxbfcode{\sphinxupquote{module\_power}}}{\emph{parameter}}{}
Nominal module energy production.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\sphinxstyleliteralstrong{\sphinxupquote{parameter}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} The technological parameterization.

\end{description}\end{quote}

\end{fulllineitems}

\index{npv() (in module technology.pv\_residential\_generic)@\spxentry{npv()}\spxextra{in module technology.pv\_residential\_generic}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/technology:technology.pv_residential_generic.npv}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{technology.pv\_residential\_generic.}}\sphinxbfcode{\sphinxupquote{npv}}}{\emph{rate}, \emph{time}}{}
Net present value of constant cash flow.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{rate}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} The discount rate per time period.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{time}} (\sphinxstyleliteralemphasis{\sphinxupquote{int}}) \textendash{} The number of time periods.

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{performance\_ratio() (in module technology.pv\_residential\_generic)@\spxentry{performance\_ratio()}\spxextra{in module technology.pv\_residential\_generic}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/technology:technology.pv_residential_generic.performance_ratio}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{technology.pv\_residential\_generic.}}\sphinxbfcode{\sphinxupquote{performance\_ratio}}}{\emph{parameter}}{}
Performance ratio for the system.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\sphinxstyleliteralstrong{\sphinxupquote{parameter}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} The technological parameterization.

\end{description}\end{quote}

\end{fulllineitems}

\index{production() (in module technology.pv\_residential\_generic)@\spxentry{production()}\spxextra{in module technology.pv\_residential\_generic}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/technology:technology.pv_residential_generic.production}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{technology.pv\_residential\_generic.}}\sphinxbfcode{\sphinxupquote{production}}}{\emph{scale}, \emph{capital}, \emph{lifetime}, \emph{fixed}, \emph{input}, \emph{parameter}}{}
Production function.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{scale}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} The scale of operation.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{capital}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Capital costs.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{lifetime}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} Technology lifetime.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{fixed}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Fixed costs.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{input}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Input quantities.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{parameter}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} The technological parameterization.

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{specific\_yield() (in module technology.pv\_residential\_generic)@\spxentry{specific\_yield()}\spxextra{in module technology.pv\_residential\_generic}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/technology:technology.pv_residential_generic.specific_yield}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{technology.pv\_residential\_generic.}}\sphinxbfcode{\sphinxupquote{specific\_yield}}}{\emph{parameter}}{}
Specific yield for the system.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\sphinxstyleliteralstrong{\sphinxupquote{parameter}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} The technological parameterization.

\end{description}\end{quote}

\end{fulllineitems}



\subsection{technology.pv\_residential\_simple module}
\label{\detokenize{doc-src/technology:module-technology.pv_residential_simple}}\label{\detokenize{doc-src/technology:technology-pv-residential-simple-module}}\index{technology.pv\_residential\_simple (module)@\spxentry{technology.pv\_residential\_simple}\spxextra{module}}
Simple residential PV.
\index{capital\_cost() (in module technology.pv\_residential\_simple)@\spxentry{capital\_cost()}\spxextra{in module technology.pv\_residential\_simple}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/technology:technology.pv_residential_simple.capital_cost}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{technology.pv\_residential\_simple.}}\sphinxbfcode{\sphinxupquote{capital\_cost}}}{\emph{scale}, \emph{parameter}}{}
Capital cost function.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{scale}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} The scale of operation.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{parameter}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} The technological parameterization.

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{discount() (in module technology.pv\_residential\_simple)@\spxentry{discount()}\spxextra{in module technology.pv\_residential\_simple}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/technology:technology.pv_residential_simple.discount}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{technology.pv\_residential\_simple.}}\sphinxbfcode{\sphinxupquote{discount}}}{\emph{rate}, \emph{time}}{}
Discount factor over a time period.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{rate}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} The discount rate per time period.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{time}} (\sphinxstyleliteralemphasis{\sphinxupquote{int}}) \textendash{} The number of time periods.

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{fixed\_cost() (in module technology.pv\_residential\_simple)@\spxentry{fixed\_cost()}\spxextra{in module technology.pv\_residential\_simple}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/technology:technology.pv_residential_simple.fixed_cost}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{technology.pv\_residential\_simple.}}\sphinxbfcode{\sphinxupquote{fixed\_cost}}}{\emph{scale}, \emph{parameter}}{}
Fixed cost function.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{scale}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} The scale of operation.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{parameter}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} The technological parameterization.

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{metrics() (in module technology.pv\_residential\_simple)@\spxentry{metrics()}\spxextra{in module technology.pv\_residential\_simple}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/technology:technology.pv_residential_simple.metrics}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{technology.pv\_residential\_simple.}}\sphinxbfcode{\sphinxupquote{metrics}}}{\emph{scale}, \emph{capital}, \emph{lifetime}, \emph{fixed}, \emph{input\_raw}, \emph{input}, \emph{output\_raw}, \emph{output}, \emph{cost}, \emph{parameter}}{}
Metrics function.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{scale}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} The scale of operation.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{capital}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Capital costs.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{lifetime}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} Technology lifetime.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{fixed}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Fixed costs.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{input\_raw}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Raw input quantities (before losses).

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{input}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Input quantities.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{output\_raw}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Raw output quantities (before losses).

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{output}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Output quantities.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{cost}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Costs.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{parameter}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} The technological parameterization.

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{npv() (in module technology.pv\_residential\_simple)@\spxentry{npv()}\spxextra{in module technology.pv\_residential\_simple}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/technology:technology.pv_residential_simple.npv}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{technology.pv\_residential\_simple.}}\sphinxbfcode{\sphinxupquote{npv}}}{\emph{rate}, \emph{time}}{}
Net present value of constant cash flow.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{rate}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} The discount rate per time period.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{time}} (\sphinxstyleliteralemphasis{\sphinxupquote{int}}) \textendash{} The number of time periods.

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{production() (in module technology.pv\_residential\_simple)@\spxentry{production()}\spxextra{in module technology.pv\_residential\_simple}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/technology:technology.pv_residential_simple.production}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{technology.pv\_residential\_simple.}}\sphinxbfcode{\sphinxupquote{production}}}{\emph{scale}, \emph{capital}, \emph{lifetime}, \emph{fixed}, \emph{input}, \emph{parameter}}{}
Production function.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{scale}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} The scale of operation.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{capital}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Capital costs.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{lifetime}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} Technology lifetime.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{fixed}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Fixed costs.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{input}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Input quantities.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{parameter}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} The technological parameterization.

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}



\subsection{technology.simple\_electrolysis module}
\label{\detokenize{doc-src/technology:module-technology.simple_electrolysis}}\label{\detokenize{doc-src/technology:technology-simple-electrolysis-module}}\index{technology.simple\_electrolysis (module)@\spxentry{technology.simple\_electrolysis}\spxextra{module}}
Simple electrolysis.
\index{capital\_cost() (in module technology.simple\_electrolysis)@\spxentry{capital\_cost()}\spxextra{in module technology.simple\_electrolysis}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/technology:technology.simple_electrolysis.capital_cost}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{technology.simple\_electrolysis.}}\sphinxbfcode{\sphinxupquote{capital\_cost}}}{\emph{scale}, \emph{parameter}}{}
Capital cost function.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{scale}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} The scale of operation.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{parameter}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} The technological parameterization.

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{fixed\_cost() (in module technology.simple\_electrolysis)@\spxentry{fixed\_cost()}\spxextra{in module technology.simple\_electrolysis}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/technology:technology.simple_electrolysis.fixed_cost}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{technology.simple\_electrolysis.}}\sphinxbfcode{\sphinxupquote{fixed\_cost}}}{\emph{scale}, \emph{parameter}}{}
Fixed cost function.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{scale}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} The scale of operation.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{parameter}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} The technological parameterization.

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{metrics() (in module technology.simple\_electrolysis)@\spxentry{metrics()}\spxextra{in module technology.simple\_electrolysis}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/technology:technology.simple_electrolysis.metrics}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{technology.simple\_electrolysis.}}\sphinxbfcode{\sphinxupquote{metrics}}}{\emph{scale}, \emph{capital}, \emph{lifetime}, \emph{fixed}, \emph{input\_raw}, \emph{input}, \emph{output\_raw}, \emph{output}, \emph{cost}, \emph{parameter}}{}
Metrics function.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{scale}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} The scale of operation.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{capital}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Capital costs.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{lifetime}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} Technology lifetime.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{fixed}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Fixed costs.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{input\_raw}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Raw input quantities (before losses).

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{input}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Input quantities.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{output\_raw}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Raw output quantities (before losses).

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{output}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Output quantities.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{cost}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Costs.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{parameter}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} The technological parameterization.

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{production() (in module technology.simple\_electrolysis)@\spxentry{production()}\spxextra{in module technology.simple\_electrolysis}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/technology:technology.simple_electrolysis.production}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{technology.simple\_electrolysis.}}\sphinxbfcode{\sphinxupquote{production}}}{\emph{scale}, \emph{capital}, \emph{lifetime}, \emph{fixed}, \emph{input}, \emph{parameter}}{}
Production function.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{scale}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} The scale of operation.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{capital}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Capital costs.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{lifetime}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} Technology lifetime.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{fixed}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Fixed costs.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{input}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Input quantities.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{parameter}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} The technological parameterization.

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}



\subsection{technology.utility\_pv module}
\label{\detokenize{doc-src/technology:module-technology.utility_pv}}\label{\detokenize{doc-src/technology:technology-utility-pv-module}}\index{technology.utility\_pv (module)@\spxentry{technology.utility\_pv}\spxextra{module}}
Simple pv utility-scale module example.  Inspired by Kavlak et al. Energy Policy 123 (2018) 700\textendash{}710.
\index{capital\_cost() (in module technology.utility\_pv)@\spxentry{capital\_cost()}\spxextra{in module technology.utility\_pv}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/technology:technology.utility_pv.capital_cost}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{technology.utility\_pv.}}\sphinxbfcode{\sphinxupquote{capital\_cost}}}{\emph{scale}, \emph{parameter}}{}
Capital cost function.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{scale}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} The scale of operation.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{parameter}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} The technological parameterization.

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{fixed\_cost() (in module technology.utility\_pv)@\spxentry{fixed\_cost()}\spxextra{in module technology.utility\_pv}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/technology:technology.utility_pv.fixed_cost}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{technology.utility\_pv.}}\sphinxbfcode{\sphinxupquote{fixed\_cost}}}{\emph{scale}, \emph{parameter}}{}
Fixed cost function.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{scale}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} The scale of operation.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{parameter}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} The technological parameterization.

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{metrics() (in module technology.utility\_pv)@\spxentry{metrics()}\spxextra{in module technology.utility\_pv}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/technology:technology.utility_pv.metrics}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{technology.utility\_pv.}}\sphinxbfcode{\sphinxupquote{metrics}}}{\emph{scale}, \emph{capital}, \emph{lifetime}, \emph{fixed}, \emph{input\_raw}, \emph{input}, \emph{output\_raw}, \emph{output}, \emph{cost}, \emph{parameter}}{}
Metrics function.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{scale}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} The scale of operation.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{capital}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Capital costs.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{lifetime}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} Technology lifetime.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{fixed}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Fixed costs.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{input\_raw}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Raw input quantities (before losses).

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{input}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Input quantities.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{output\_raw}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Raw output quantities (before losses).

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{output}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Output quantities.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{cost}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Costs.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{parameter}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} The technological parameterization.

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{production() (in module technology.utility\_pv)@\spxentry{production()}\spxextra{in module technology.utility\_pv}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{doc-src/technology:technology.utility_pv.production}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{technology.utility\_pv.}}\sphinxbfcode{\sphinxupquote{production}}}{\emph{scale}, \emph{capital}, \emph{lifetime}, \emph{fixed}, \emph{input}, \emph{parameter}}{}
Production function.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{scale}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} The scale of operation.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{capital}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Capital costs.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{lifetime}} (\sphinxstyleliteralemphasis{\sphinxupquote{float}}) \textendash{} Technology lifetime.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{fixed}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Fixed costs.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{input}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} Input quantities.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{parameter}} (\sphinxstyleliteralemphasis{\sphinxupquote{array}}) \textendash{} The technological parameterization.

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}



\subsection{Module contents}
\label{\detokenize{doc-src/technology:module-technology}}\label{\detokenize{doc-src/technology:module-contents}}\index{technology (module)@\spxentry{technology}\spxextra{module}}
Technology definitions for tyche.


\chapter{Indices and tables}
\label{\detokenize{main_page:indices-and-tables}}\begin{itemize}
\item {} 
\DUrole{xref,std,std-ref}{genindex}

\item {} 
\DUrole{xref,std,std-ref}{modindex}

\item {} 
\DUrole{xref,std,std-ref}{search}

\end{itemize}


\renewcommand{\indexname}{Python Module Index}
\begin{sphinxtheindex}
\let\bigletter\sphinxstyleindexlettergroup
\bigletter{e}
\item\relax\sphinxstyleindexentry{eutychia}\sphinxstyleindexpageref{doc-src/eutychia:\detokenize{module-eutychia}}
\item\relax\sphinxstyleindexentry{eutychia.example}\sphinxstyleindexpageref{doc-src/eutychia:\detokenize{module-eutychia.example}}
\indexspace
\bigletter{t}
\item\relax\sphinxstyleindexentry{technology}\sphinxstyleindexpageref{doc-src/technology:\detokenize{module-technology}}
\item\relax\sphinxstyleindexentry{technology.biorefinery\_v1}\sphinxstyleindexpageref{doc-src/technology:\detokenize{module-technology.biorefinery_v1}}
\item\relax\sphinxstyleindexentry{technology.pv\_residential\_generic}\sphinxstyleindexpageref{doc-src/technology:\detokenize{module-technology.pv_residential_generic}}
\item\relax\sphinxstyleindexentry{technology.pv\_residential\_simple}\sphinxstyleindexpageref{doc-src/technology:\detokenize{module-technology.pv_residential_simple}}
\item\relax\sphinxstyleindexentry{technology.simple\_electrolysis}\sphinxstyleindexpageref{doc-src/technology:\detokenize{module-technology.simple_electrolysis}}
\item\relax\sphinxstyleindexentry{technology.utility\_pv}\sphinxstyleindexpageref{doc-src/technology:\detokenize{module-technology.utility_pv}}
\item\relax\sphinxstyleindexentry{tyche}\sphinxstyleindexpageref{doc-src/tyche:\detokenize{module-tyche}}
\item\relax\sphinxstyleindexentry{tyche.DecisionGUI}\sphinxstyleindexpageref{doc-src/tyche:\detokenize{module-tyche.DecisionGUI}}
\item\relax\sphinxstyleindexentry{tyche.Designs}\sphinxstyleindexpageref{doc-src/tyche:\detokenize{module-tyche.Designs}}
\item\relax\sphinxstyleindexentry{tyche.Distributions}\sphinxstyleindexpageref{doc-src/tyche:\detokenize{module-tyche.Distributions}}
\item\relax\sphinxstyleindexentry{tyche.EpsilonConstraints}\sphinxstyleindexpageref{doc-src/tyche:\detokenize{module-tyche.EpsilonConstraints}}
\item\relax\sphinxstyleindexentry{tyche.Evaluator}\sphinxstyleindexpageref{doc-src/tyche:\detokenize{module-tyche.Evaluator}}
\item\relax\sphinxstyleindexentry{tyche.Investments}\sphinxstyleindexpageref{doc-src/tyche:\detokenize{module-tyche.Investments}}
\item\relax\sphinxstyleindexentry{tyche.IO}\sphinxstyleindexpageref{doc-src/tyche:\detokenize{module-tyche.IO}}
\item\relax\sphinxstyleindexentry{tyche.Types}\sphinxstyleindexpageref{doc-src/tyche:\detokenize{module-tyche.Types}}
\end{sphinxtheindex}

\renewcommand{\indexname}{Index}
\printindex
\end{document}